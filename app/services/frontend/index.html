<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  </head>
  <body>
    <div id="app"></div>
    <script type="module">
      import './src/style.css'
      import './node_modules/jointjs/dist/joint.css';

    import { createApp } from 'modules/vue';
    import axios from 'modules/axios';

  import { createPinia } from 'modules/pinia';

import App from './src/App.vue';

import {createRouter, createWebHistory} from 'modules/vue-router'

import HomeView from '@/views/HomeView.vue'
import AboutView from '@/views/AboutView.vue'

import SimulationView from '@/views/SimulationView.vue'
import EditView from '@/views/EditView.vue'


const app = createApp(App);

//Bind to the FastAPI backend
axios.defaults.baseURL = 'https://csl.bpm.in.tum.de/boris/';

//Router configuration
//TODO: By moving it to external file the import does not work
//------------------------------------
const router = createRouter({
    history: createWebHistory(),
    routes: [
        {path: '/', name: 'Home', component: HomeView},
        {path: '/about', name: 'About', component: AboutView},
        {path: '/simulation-view', name: 'Simulation', component: SimulationView},
        {path: '/edit-view', name: 'Edit', component: EditView}
    ]
})

//------------------------------------

//Register router
app.use(router);


//Register pinia
const store = createPinia()
app.use(store)


//Mount the application
app.mount('#app');

    </script>
  </body>
</html>
