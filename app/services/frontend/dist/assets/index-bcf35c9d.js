(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Ku(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const _e={},us=[],or=()=>{},rC=()=>!1,iC=/^on[^a-z]/,cl=t=>iC.test(t),Qu=t=>t.startsWith("onUpdate:"),qe=Object.assign,qu=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},sC=Object.prototype.hasOwnProperty,he=(t,e)=>sC.call(t,e),Yt=Array.isArray,fs=t=>_o(t)==="[object Map]",ul=t=>_o(t)==="[object Set]",Oh=t=>_o(t)==="[object Date]",ee=t=>typeof t=="function",$e=t=>typeof t=="string",lo=t=>typeof t=="symbol",Te=t=>t!==null&&typeof t=="object",Hp=t=>Te(t)&&ee(t.then)&&ee(t.catch),Jp=Object.prototype.toString,_o=t=>Jp.call(t),oC=t=>_o(t).slice(8,-1),$p=t=>_o(t)==="[object Object]",tf=t=>$e(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ta=Ku(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),fl=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},aC=/-(\w)/g,Nr=fl(t=>t.replace(aC,(e,n)=>n?n.toUpperCase():"")),lC=/\B([A-Z])/g,Zi=fl(t=>t.replace(lC,"-$1").toLowerCase()),dl=fl(t=>t.charAt(0).toUpperCase()+t.slice(1)),Ec=fl(t=>t?`on${dl(t)}`:""),co=(t,e)=>!Object.is(t,e),Pa=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Za=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Wa=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let kh;const lu=()=>kh||(kh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Cr(t){if(Yt(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=$e(r)?dC(r):Cr(r);if(i)for(const s in i)e[s]=i[s]}return e}else{if($e(t))return t;if(Te(t))return t}}const cC=/;(?![^(]*\))/g,uC=/:([^]+)/,fC=/\/\*[^]*?\*\//g;function dC(t){const e={};return t.replace(fC,"").split(cC).forEach(n=>{if(n){const r=n.split(uC);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function ef(t){let e="";if($e(t))e=t;else if(Yt(t))for(let n=0;n<t.length;n++){const r=ef(t[n]);r&&(e+=r+" ")}else if(Te(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const hC="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",gC=Ku(hC);function Kp(t){return!!t||t===""}function pC(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=hl(t[r],e[r]);return n}function hl(t,e){if(t===e)return!0;let n=Oh(t),r=Oh(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=lo(t),r=lo(e),n||r)return t===e;if(n=Yt(t),r=Yt(e),n||r)return n&&r?pC(t,e):!1;if(n=Te(t),r=Te(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!hl(t[o],e[o]))return!1}}return String(t)===String(e)}function mC(t,e){return t.findIndex(n=>hl(n,e))}const Ei=t=>$e(t)?t:t==null?"":Yt(t)||Te(t)&&(t.toString===Jp||!ee(t.toString))?JSON.stringify(t,Qp,2):String(t),Qp=(t,e)=>e&&e.__v_isRef?Qp(t,e.value):fs(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:ul(e)?{[`Set(${e.size})`]:[...e.values()]}:Te(e)&&!Yt(e)&&!$p(e)?String(e):e;let kn;class qp{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=kn,!e&&kn&&(this.index=(kn.scopes||(kn.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=kn;try{return kn=this,e()}finally{kn=n}}}on(){kn=this}off(){kn=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function tm(t){return new qp(t)}function vC(t,e=kn){e&&e.active&&e.effects.push(t)}function em(){return kn}function IC(t){kn&&kn.cleanups.push(t)}const nf=t=>{const e=new Set(t);return e.w=0,e.n=0,e},nm=t=>(t.w&si)>0,rm=t=>(t.n&si)>0,yC=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=si},AC=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const i=e[r];nm(i)&&!rm(i)?i.delete(t):e[n++]=i,i.w&=~si,i.n&=~si}e.length=n}},Ua=new WeakMap;let $s=0,si=1;const cu=30;let er;const Di=Symbol(""),uu=Symbol("");class rf{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,vC(this,r)}run(){if(!this.active)return this.fn();let e=er,n=ni;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=er,er=this,ni=!0,si=1<<++$s,$s<=cu?yC(this):Lh(this),this.fn()}finally{$s<=cu&&AC(this),si=1<<--$s,er=this.parent,ni=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){er===this?this.deferStop=!0:this.active&&(Lh(this),this.onStop&&this.onStop(),this.active=!1)}}function Lh(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let ni=!0;const im=[];function Ms(){im.push(ni),ni=!1}function Ts(){const t=im.pop();ni=t===void 0?!0:t}function Mn(t,e,n){if(ni&&er){let r=Ua.get(t);r||Ua.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=nf()),sm(i)}}function sm(t,e){let n=!1;$s<=cu?rm(t)||(t.n|=si,n=!nm(t)):n=!t.has(er),n&&(t.add(er),er.deps.push(t))}function Br(t,e,n,r,i,s){const o=Ua.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&Yt(t)){const l=Number(r);o.forEach((u,h)=>{(h==="length"||h>=l)&&a.push(u)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":Yt(t)?tf(n)&&a.push(o.get("length")):(a.push(o.get(Di)),fs(t)&&a.push(o.get(uu)));break;case"delete":Yt(t)||(a.push(o.get(Di)),fs(t)&&a.push(o.get(uu)));break;case"set":fs(t)&&a.push(o.get(Di));break}if(a.length===1)a[0]&&fu(a[0]);else{const l=[];for(const u of a)u&&l.push(...u);fu(nf(l))}}function fu(t,e){const n=Yt(t)?t:[...t];for(const r of n)r.computed&&zh(r);for(const r of n)r.computed||zh(r)}function zh(t,e){(t!==er||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function CC(t,e){var n;return(n=Ua.get(t))==null?void 0:n.get(e)}const bC=Ku("__proto__,__v_isRef,__isVue"),om=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(lo)),wC=sf(),xC=sf(!1,!0),SC=sf(!0),Rh=NC();function NC(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=pe(this);for(let s=0,o=this.length;s<o;s++)Mn(r,"get",s+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(pe)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Ms();const r=pe(this)[e].apply(this,n);return Ts(),r}}),t}function MC(t){const e=pe(this);return Mn(e,"has",t),e.hasOwnProperty(t)}function sf(t=!1,e=!1){return function(r,i,s){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_isShallow")return e;if(i==="__v_raw"&&s===(t?e?UC:fm:e?um:cm).get(r))return r;const o=Yt(r);if(!t){if(o&&he(Rh,i))return Reflect.get(Rh,i,s);if(i==="hasOwnProperty")return MC}const a=Reflect.get(r,i,s);return(lo(i)?om.has(i):bC(i))||(t||Mn(r,"get",i),e)?a:Ze(a)?o&&tf(i)?a:a.value:Te(a)?t?hm(a):Eo(a):a}}const TC=am(),PC=am(!0);function am(t=!1){return function(n,r,i,s){let o=n[r];if(vs(o)&&Ze(o)&&!Ze(i))return!1;if(!t&&(!Fa(i)&&!vs(i)&&(o=pe(o),i=pe(i)),!Yt(n)&&Ze(o)&&!Ze(i)))return o.value=i,!0;const a=Yt(n)&&tf(r)?Number(r)<n.length:he(n,r),l=Reflect.set(n,r,i,s);return n===pe(s)&&(a?co(i,o)&&Br(n,"set",r,i):Br(n,"add",r,i)),l}}function _C(t,e){const n=he(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&Br(t,"delete",e,void 0),r}function EC(t,e){const n=Reflect.has(t,e);return(!lo(e)||!om.has(e))&&Mn(t,"has",e),n}function DC(t){return Mn(t,"iterate",Yt(t)?"length":Di),Reflect.ownKeys(t)}const lm={get:wC,set:TC,deleteProperty:_C,has:EC,ownKeys:DC},OC={get:SC,set(t,e){return!0},deleteProperty(t,e){return!0}},kC=qe({},lm,{get:xC,set:PC}),of=t=>t,gl=t=>Reflect.getPrototypeOf(t);function la(t,e,n=!1,r=!1){t=t.__v_raw;const i=pe(t),s=pe(e);n||(e!==s&&Mn(i,"get",e),Mn(i,"get",s));const{has:o}=gl(i),a=r?of:n?cf:uo;if(o.call(i,e))return a(t.get(e));if(o.call(i,s))return a(t.get(s));t!==i&&t.get(e)}function ca(t,e=!1){const n=this.__v_raw,r=pe(n),i=pe(t);return e||(t!==i&&Mn(r,"has",t),Mn(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function ua(t,e=!1){return t=t.__v_raw,!e&&Mn(pe(t),"iterate",Di),Reflect.get(t,"size",t)}function Bh(t){t=pe(t);const e=pe(this);return gl(e).has.call(e,t)||(e.add(t),Br(e,"add",t,t)),this}function jh(t,e){e=pe(e);const n=pe(this),{has:r,get:i}=gl(n);let s=r.call(n,t);s||(t=pe(t),s=r.call(n,t));const o=i.call(n,t);return n.set(t,e),s?co(e,o)&&Br(n,"set",t,e):Br(n,"add",t,e),this}function Gh(t){const e=pe(this),{has:n,get:r}=gl(e);let i=n.call(e,t);i||(t=pe(t),i=n.call(e,t)),r&&r.call(e,t);const s=e.delete(t);return i&&Br(e,"delete",t,void 0),s}function Zh(){const t=pe(this),e=t.size!==0,n=t.clear();return e&&Br(t,"clear",void 0,void 0),n}function fa(t,e){return function(r,i){const s=this,o=s.__v_raw,a=pe(o),l=e?of:t?cf:uo;return!t&&Mn(a,"iterate",Di),o.forEach((u,h)=>r.call(i,l(u),l(h),s))}}function da(t,e,n){return function(...r){const i=this.__v_raw,s=pe(i),o=fs(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=i[t](...r),h=n?of:e?cf:uo;return!e&&Mn(s,"iterate",l?uu:Di),{next(){const{value:f,done:v}=u.next();return v?{value:f,done:v}:{value:a?[h(f[0]),h(f[1])]:h(f),done:v}},[Symbol.iterator](){return this}}}}function Hr(t){return function(...e){return t==="delete"?!1:this}}function LC(){const t={get(s){return la(this,s)},get size(){return ua(this)},has:ca,add:Bh,set:jh,delete:Gh,clear:Zh,forEach:fa(!1,!1)},e={get(s){return la(this,s,!1,!0)},get size(){return ua(this)},has:ca,add:Bh,set:jh,delete:Gh,clear:Zh,forEach:fa(!1,!0)},n={get(s){return la(this,s,!0)},get size(){return ua(this,!0)},has(s){return ca.call(this,s,!0)},add:Hr("add"),set:Hr("set"),delete:Hr("delete"),clear:Hr("clear"),forEach:fa(!0,!1)},r={get(s){return la(this,s,!0,!0)},get size(){return ua(this,!0)},has(s){return ca.call(this,s,!0)},add:Hr("add"),set:Hr("set"),delete:Hr("delete"),clear:Hr("clear"),forEach:fa(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=da(s,!1,!1),n[s]=da(s,!0,!1),e[s]=da(s,!1,!0),r[s]=da(s,!0,!0)}),[t,n,e,r]}const[zC,RC,BC,jC]=LC();function af(t,e){const n=e?t?jC:BC:t?RC:zC;return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(he(n,i)&&i in r?n:r,i,s)}const GC={get:af(!1,!1)},ZC={get:af(!1,!0)},WC={get:af(!0,!1)},cm=new WeakMap,um=new WeakMap,fm=new WeakMap,UC=new WeakMap;function FC(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function YC(t){return t.__v_skip||!Object.isExtensible(t)?0:FC(oC(t))}function Eo(t){return vs(t)?t:lf(t,!1,lm,GC,cm)}function dm(t){return lf(t,!1,kC,ZC,um)}function hm(t){return lf(t,!0,OC,WC,fm)}function lf(t,e,n,r,i){if(!Te(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const o=YC(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return i.set(t,a),a}function ri(t){return vs(t)?ri(t.__v_raw):!!(t&&t.__v_isReactive)}function vs(t){return!!(t&&t.__v_isReadonly)}function Fa(t){return!!(t&&t.__v_isShallow)}function gm(t){return ri(t)||vs(t)}function pe(t){const e=t&&t.__v_raw;return e?pe(e):t}function pl(t){return Za(t,"__v_skip",!0),t}const uo=t=>Te(t)?Eo(t):t,cf=t=>Te(t)?hm(t):t;function pm(t){ni&&er&&(t=pe(t),sm(t.dep||(t.dep=nf())))}function mm(t,e){t=pe(t);const n=t.dep;n&&fu(n)}function Ze(t){return!!(t&&t.__v_isRef===!0)}function nn(t){return vm(t,!1)}function VC(t){return vm(t,!0)}function vm(t,e){return Ze(t)?t:new XC(t,e)}class XC{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:pe(e),this._value=n?e:uo(e)}get value(){return pm(this),this._value}set value(e){const n=this.__v_isShallow||Fa(e)||vs(e);e=n?e:pe(e),co(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:uo(e),mm(this))}}function ue(t){return Ze(t)?t.value:t}const HC={get:(t,e,n)=>ue(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return Ze(i)&&!Ze(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function Im(t){return ri(t)?t:new Proxy(t,HC)}function JC(t){const e=Yt(t)?new Array(t.length):{};for(const n in t)e[n]=KC(t,n);return e}class $C{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return CC(pe(this._object),this._key)}}function KC(t,e,n){const r=t[e];return Ze(r)?r:new $C(t,e,n)}class QC{constructor(e,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new rf(e,()=>{this._dirty||(this._dirty=!0,mm(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=pe(this);return pm(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function qC(t,e,n=!1){let r,i;const s=ee(t);return s?(r=t,i=or):(r=t.get,i=t.set),new QC(r,i,s||!i,n)}function ii(t,e,n,r){let i;try{i=r?t(...r):t()}catch(s){ml(s,e,n)}return i}function ar(t,e,n,r){if(ee(t)){const s=ii(t,e,n,r);return s&&Hp(s)&&s.catch(o=>{ml(o,e,n)}),s}const i=[];for(let s=0;s<t.length;s++)i.push(ar(t[s],e,n,r));return i}function ml(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let s=e.parent;const o=e.proxy,a=n;for(;s;){const u=s.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](t,o,a)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){ii(l,null,10,[t,o,a]);return}}tb(t,n,i,r)}function tb(t,e,n,r=!0){console.error(t)}let fo=!1,du=!1;const an=[];let vr=0;const ds=[];let Dr=null,xi=0;const ym=Promise.resolve();let uf=null;function ff(t){const e=uf||ym;return t?e.then(this?t.bind(this):t):e}function eb(t){let e=vr+1,n=an.length;for(;e<n;){const r=e+n>>>1;ho(an[r])<t?e=r+1:n=r}return e}function df(t){(!an.length||!an.includes(t,fo&&t.allowRecurse?vr+1:vr))&&(t.id==null?an.push(t):an.splice(eb(t.id),0,t),Am())}function Am(){!fo&&!du&&(du=!0,uf=ym.then(bm))}function nb(t){const e=an.indexOf(t);e>vr&&an.splice(e,1)}function rb(t){Yt(t)?ds.push(...t):(!Dr||!Dr.includes(t,t.allowRecurse?xi+1:xi))&&ds.push(t),Am()}function Wh(t,e=fo?vr+1:0){for(;e<an.length;e++){const n=an[e];n&&n.pre&&(an.splice(e,1),e--,n())}}function Cm(t){if(ds.length){const e=[...new Set(ds)];if(ds.length=0,Dr){Dr.push(...e);return}for(Dr=e,Dr.sort((n,r)=>ho(n)-ho(r)),xi=0;xi<Dr.length;xi++)Dr[xi]();Dr=null,xi=0}}const ho=t=>t.id==null?1/0:t.id,ib=(t,e)=>{const n=ho(t)-ho(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function bm(t){du=!1,fo=!0,an.sort(ib);const e=or;try{for(vr=0;vr<an.length;vr++){const n=an[vr];n&&n.active!==!1&&ii(n,null,14)}}finally{vr=0,an.length=0,Cm(),fo=!1,uf=null,(an.length||ds.length)&&bm()}}function sb(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||_e;let i=n;const s=e.startsWith("update:"),o=s&&e.slice(7);if(o&&o in r){const h=`${o==="modelValue"?"model":o}Modifiers`,{number:f,trim:v}=r[h]||_e;v&&(i=n.map(C=>$e(C)?C.trim():C)),f&&(i=n.map(Wa))}let a,l=r[a=Ec(e)]||r[a=Ec(Nr(e))];!l&&s&&(l=r[a=Ec(Zi(e))]),l&&ar(l,t,6,i);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,ar(u,t,6,i)}}function wm(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!ee(t)){const l=u=>{const h=wm(u,e,!0);h&&(a=!0,qe(o,h))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(Te(t)&&r.set(t,null),null):(Yt(s)?s.forEach(l=>o[l]=null):qe(o,s),Te(t)&&r.set(t,o),o)}function vl(t,e){return!t||!cl(e)?!1:(e=e.slice(2).replace(/Once$/,""),he(t,e[0].toLowerCase()+e.slice(1))||he(t,Zi(e))||he(t,e))}let Rn=null,Il=null;function Ya(t){const e=Rn;return Rn=t,Il=t&&t.type.__scopeId||null,e}function Bn(t){Il=t}function jn(){Il=null}function _a(t,e=Rn,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&qh(-1);const s=Ya(e);let o;try{o=t(...i)}finally{Ya(s),r._d&&qh(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Dc(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:s,propsOptions:[o],slots:a,attrs:l,emit:u,render:h,renderCache:f,data:v,setupState:C,ctx:b,inheritAttrs:w}=t;let O,k;const R=Ya(t);try{if(n.shapeFlag&4){const F=i||r;O=mr(h.call(F,F,f,s,C,v,b)),k=l}else{const F=e;O=mr(F.length>1?F(s,{attrs:l,slots:a,emit:u}):F(s,null)),k=e.props?l:ob(l)}}catch(F){eo.length=0,ml(F,t,1),O=qt(zi)}let U=O;if(k&&w!==!1){const F=Object.keys(k),{shapeFlag:y}=U;F.length&&y&7&&(o&&F.some(Qu)&&(k=ab(k,o)),U=Is(U,k))}return n.dirs&&(U=Is(U),U.dirs=U.dirs?U.dirs.concat(n.dirs):n.dirs),n.transition&&(U.transition=n.transition),O=U,Ya(R),O}const ob=t=>{let e;for(const n in t)(n==="class"||n==="style"||cl(n))&&((e||(e={}))[n]=t[n]);return e},ab=(t,e)=>{const n={};for(const r in t)(!Qu(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function lb(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:a,patchFlag:l}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Uh(r,o,u):!!o;if(l&8){const h=e.dynamicProps;for(let f=0;f<h.length;f++){const v=h[f];if(o[v]!==r[v]&&!vl(u,v))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Uh(r,o,u):!0:!!o;return!1}function Uh(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!vl(n,s))return!0}return!1}function cb({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const ub=t=>t.__isSuspense;function fb(t,e){e&&e.pendingBranch?Yt(t)?e.effects.push(...t):e.effects.push(t):rb(t)}const ha={};function Je(t,e,n){return xm(t,e,n)}function xm(t,e,{immediate:n,deep:r,flush:i,onTrack:s,onTrigger:o}=_e){var a;const l=em()===((a=Qe)==null?void 0:a.scope)?Qe:null;let u,h=!1,f=!1;if(Ze(t)?(u=()=>t.value,h=Fa(t)):ri(t)?(u=()=>t,r=!0):Yt(t)?(f=!0,h=t.some(F=>ri(F)||Fa(F)),u=()=>t.map(F=>{if(Ze(F))return F.value;if(ri(F))return Ti(F);if(ee(F))return ii(F,l,2)})):ee(t)?e?u=()=>ii(t,l,2):u=()=>{if(!(l&&l.isUnmounted))return v&&v(),ar(t,l,3,[C])}:u=or,e&&r){const F=u;u=()=>Ti(F())}let v,C=F=>{v=R.onStop=()=>{ii(F,l,4)}},b;if(mo)if(C=or,e?n&&ar(e,l,3,[u(),f?[]:void 0,C]):u(),i==="sync"){const F=sw();b=F.__watcherHandles||(F.__watcherHandles=[])}else return or;let w=f?new Array(t.length).fill(ha):ha;const O=()=>{if(R.active)if(e){const F=R.run();(r||h||(f?F.some((y,d)=>co(y,w[d])):co(F,w)))&&(v&&v(),ar(e,l,3,[F,w===ha?void 0:f&&w[0]===ha?[]:w,C]),w=F)}else R.run()};O.allowRecurse=!!e;let k;i==="sync"?k=O:i==="post"?k=()=>bn(O,l&&l.suspense):(O.pre=!0,l&&(O.id=l.uid),k=()=>df(O));const R=new rf(u,k);e?n?O():w=R.run():i==="post"?bn(R.run.bind(R),l&&l.suspense):R.run();const U=()=>{R.stop(),l&&l.scope&&qu(l.scope.effects,R)};return b&&b.push(U),U}function db(t,e,n){const r=this.proxy,i=$e(t)?t.includes(".")?Sm(r,t):()=>r[t]:t.bind(r,r);let s;ee(e)?s=e:(s=e.handler,n=e);const o=Qe;ys(this);const a=xm(i,s.bind(r),n);return o?ys(o):Oi(),a}function Sm(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Ti(t,e){if(!Te(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),Ze(t))Ti(t.value,e);else if(Yt(t))for(let n=0;n<t.length;n++)Ti(t[n],e);else if(ul(t)||fs(t))t.forEach(n=>{Ti(n,e)});else if($p(t))for(const n in t)Ti(t[n],e);return t}function lr(t,e){const n=Rn;if(n===null)return t;const r=wl(n)||n.proxy,i=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[o,a,l,u=_e]=e[s];o&&(ee(o)&&(o={mounted:o,updated:o}),o.deep&&Ti(a),i.push({dir:o,instance:r,value:a,oldValue:void 0,arg:l,modifiers:u}))}return t}function bi(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(Ms(),ar(l,n,8,[t.el,a,t,e]),Ts())}}function Nm(t,e){return ee(t)?(()=>qe({name:t.name},e,{setup:t}))():t}const Ea=t=>!!t.type.__asyncLoader,Mm=t=>t.type.__isKeepAlive;function hb(t,e){Tm(t,"a",e)}function gb(t,e){Tm(t,"da",e)}function Tm(t,e,n=Qe){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(yl(e,r,n),n){let i=n.parent;for(;i&&i.parent;)Mm(i.parent.vnode)&&pb(r,e,n,i),i=i.parent}}function pb(t,e,n,r){const i=yl(e,t,r,!0);Do(()=>{qu(r[e],i)},n)}function yl(t,e,n=Qe,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;Ms(),ys(n);const a=ar(e,n,t,o);return Oi(),Ts(),a});return r?i.unshift(s):i.push(s),s}}const Zr=t=>(e,n=Qe)=>(!mo||t==="sp")&&yl(t,(...r)=>e(...r),n),mb=Zr("bm"),hf=Zr("m"),vb=Zr("bu"),Ib=Zr("u"),yb=Zr("bum"),Do=Zr("um"),Ab=Zr("sp"),Cb=Zr("rtg"),bb=Zr("rtc");function wb(t,e=Qe){yl("ec",t,e)}const Pm="components";function _m(t,e){return Sb(Pm,t,!0,e)||t}const xb=Symbol.for("v-ndc");function Sb(t,e,n=!0,r=!1){const i=Rn||Qe;if(i){const s=i.type;if(t===Pm){const a=nw(s,!1);if(a&&(a===e||a===Nr(e)||a===dl(Nr(e))))return s}const o=Fh(i[t]||s[t],e)||Fh(i.appContext[t],e);return!o&&r?s:o}}function Fh(t,e){return t&&(t[e]||t[Nr(e)]||t[dl(Nr(e))])}function Al(t,e,n,r){let i;const s=n&&n[r];if(Yt(t)||$e(t)){i=new Array(t.length);for(let o=0,a=t.length;o<a;o++)i[o]=e(t[o],o,void 0,s&&s[o])}else if(typeof t=="number"){i=new Array(t);for(let o=0;o<t;o++)i[o]=e(o+1,o,void 0,s&&s[o])}else if(Te(t))if(t[Symbol.iterator])i=Array.from(t,(o,a)=>e(o,a,void 0,s&&s[a]));else{const o=Object.keys(t);i=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const u=o[a];i[a]=e(t[u],u,a,s&&s[a])}}else i=[];return n&&(n[r]=i),i}const hu=t=>t?Um(t)?wl(t)||t.proxy:hu(t.parent):null,to=qe(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>hu(t.parent),$root:t=>hu(t.root),$emit:t=>t.emit,$options:t=>gf(t),$forceUpdate:t=>t.f||(t.f=()=>df(t.update)),$nextTick:t=>t.n||(t.n=ff.bind(t.proxy)),$watch:t=>db.bind(t)}),Oc=(t,e)=>t!==_e&&!t.__isScriptSetup&&he(t,e),Nb={get({_:t},e){const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const C=o[e];if(C!==void 0)switch(C){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(Oc(r,e))return o[e]=1,r[e];if(i!==_e&&he(i,e))return o[e]=2,i[e];if((u=t.propsOptions[0])&&he(u,e))return o[e]=3,s[e];if(n!==_e&&he(n,e))return o[e]=4,n[e];gu&&(o[e]=0)}}const h=to[e];let f,v;if(h)return e==="$attrs"&&Mn(t,"get",e),h(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(n!==_e&&he(n,e))return o[e]=4,n[e];if(v=l.config.globalProperties,he(v,e))return v[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return Oc(i,e)?(i[e]=n,!0):r!==_e&&he(r,e)?(r[e]=n,!0):he(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return!!n[o]||t!==_e&&he(t,o)||Oc(e,o)||(a=s[0])&&he(a,o)||he(r,o)||he(to,o)||he(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:he(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Yh(t){return Yt(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let gu=!0;function Mb(t){const e=gf(t),n=t.proxy,r=t.ctx;gu=!1,e.beforeCreate&&Vh(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:u,created:h,beforeMount:f,mounted:v,beforeUpdate:C,updated:b,activated:w,deactivated:O,beforeDestroy:k,beforeUnmount:R,destroyed:U,unmounted:F,render:y,renderTracked:d,renderTriggered:S,errorCaptured:E,serverPrefetch:z,expose:W,inheritAttrs:$,components:Q,directives:ut,filters:dt}=e;if(u&&Tb(u,r,null),o)for(const mt in o){const St=o[mt];ee(St)&&(r[mt]=St.bind(n))}if(i){const mt=i.call(n,n);Te(mt)&&(t.data=Eo(mt))}if(gu=!0,s)for(const mt in s){const St=s[mt],Mt=ee(St)?St.bind(n,n):ee(St.get)?St.get.bind(n,n):or,Zt=!ee(St)&&ee(St.set)?St.set.bind(n):or,kt=Xn({get:Mt,set:Zt});Object.defineProperty(r,mt,{enumerable:!0,configurable:!0,get:()=>kt.value,set:q=>kt.value=q})}if(a)for(const mt in a)Em(a[mt],r,n,mt);if(l){const mt=ee(l)?l.call(n):l;Reflect.ownKeys(mt).forEach(St=>{Da(St,mt[St])})}h&&Vh(h,t,"c");function vt(mt,St){Yt(St)?St.forEach(Mt=>mt(Mt.bind(n))):St&&mt(St.bind(n))}if(vt(mb,f),vt(hf,v),vt(vb,C),vt(Ib,b),vt(hb,w),vt(gb,O),vt(wb,E),vt(bb,d),vt(Cb,S),vt(yb,R),vt(Do,F),vt(Ab,z),Yt(W))if(W.length){const mt=t.exposed||(t.exposed={});W.forEach(St=>{Object.defineProperty(mt,St,{get:()=>n[St],set:Mt=>n[St]=Mt})})}else t.exposed||(t.exposed={});y&&t.render===or&&(t.render=y),$!=null&&(t.inheritAttrs=$),Q&&(t.components=Q),ut&&(t.directives=ut)}function Tb(t,e,n=or){Yt(t)&&(t=pu(t));for(const r in t){const i=t[r];let s;Te(i)?"default"in i?s=br(i.from||r,i.default,!0):s=br(i.from||r):s=br(i),Ze(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[r]=s}}function Vh(t,e,n){ar(Yt(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function Em(t,e,n,r){const i=r.includes(".")?Sm(n,r):()=>n[r];if($e(t)){const s=e[t];ee(s)&&Je(i,s)}else if(ee(t))Je(i,t.bind(n));else if(Te(t))if(Yt(t))t.forEach(s=>Em(s,e,n,r));else{const s=ee(t.handler)?t.handler.bind(n):e[t.handler];ee(s)&&Je(i,s,t)}}function gf(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(u=>Va(l,u,o,!0)),Va(l,e,o)),Te(e)&&s.set(e,l),l}function Va(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&Va(t,s,n,!0),i&&i.forEach(o=>Va(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=Pb[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Pb={data:Xh,props:Hh,emits:Hh,methods:Ks,computed:Ks,beforeCreate:hn,created:hn,beforeMount:hn,mounted:hn,beforeUpdate:hn,updated:hn,beforeDestroy:hn,beforeUnmount:hn,destroyed:hn,unmounted:hn,activated:hn,deactivated:hn,errorCaptured:hn,serverPrefetch:hn,components:Ks,directives:Ks,watch:Eb,provide:Xh,inject:_b};function Xh(t,e){return e?t?function(){return qe(ee(t)?t.call(this,this):t,ee(e)?e.call(this,this):e)}:e:t}function _b(t,e){return Ks(pu(t),pu(e))}function pu(t){if(Yt(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function hn(t,e){return t?[...new Set([].concat(t,e))]:e}function Ks(t,e){return t?qe(Object.create(null),t,e):e}function Hh(t,e){return t?Yt(t)&&Yt(e)?[...new Set([...t,...e])]:qe(Object.create(null),Yh(t),Yh(e??{})):e}function Eb(t,e){if(!t)return e;if(!e)return t;const n=qe(Object.create(null),t);for(const r in e)n[r]=hn(t[r],e[r]);return n}function Dm(){return{app:null,config:{isNativeTag:rC,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Db=0;function Ob(t,e){return function(r,i=null){ee(r)||(r=qe({},r)),i!=null&&!Te(i)&&(i=null);const s=Dm(),o=new Set;let a=!1;const l=s.app={_uid:Db++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:ow,get config(){return s.config},set config(u){},use(u,...h){return o.has(u)||(u&&ee(u.install)?(o.add(u),u.install(l,...h)):ee(u)&&(o.add(u),u(l,...h))),l},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),l},component(u,h){return h?(s.components[u]=h,l):s.components[u]},directive(u,h){return h?(s.directives[u]=h,l):s.directives[u]},mount(u,h,f){if(!a){const v=qt(r,i);return v.appContext=s,h&&e?e(v,u):t(v,u,f),a=!0,l._container=u,u.__vue_app__=l,wl(v.component)||v.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(u,h){return s.provides[u]=h,l},runWithContext(u){go=l;try{return u()}finally{go=null}}};return l}}let go=null;function Da(t,e){if(Qe){let n=Qe.provides;const r=Qe.parent&&Qe.parent.provides;r===n&&(n=Qe.provides=Object.create(r)),n[t]=e}}function br(t,e,n=!1){const r=Qe||Rn;if(r||go){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:go._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&ee(e)?e.call(r&&r.proxy):e}}function kb(){return!!(Qe||Rn||go)}function Lb(t,e,n,r=!1){const i={},s={};Za(s,bl,1),t.propsDefaults=Object.create(null),Om(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=r?i:dm(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function zb(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=pe(i),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const h=t.vnode.dynamicProps;for(let f=0;f<h.length;f++){let v=h[f];if(vl(t.emitsOptions,v))continue;const C=e[v];if(l)if(he(s,v))C!==s[v]&&(s[v]=C,u=!0);else{const b=Nr(v);i[b]=mu(l,a,b,C,t,!1)}else C!==s[v]&&(s[v]=C,u=!0)}}}else{Om(t,e,i,s)&&(u=!0);let h;for(const f in a)(!e||!he(e,f)&&((h=Zi(f))===f||!he(e,h)))&&(l?n&&(n[f]!==void 0||n[h]!==void 0)&&(i[f]=mu(l,a,f,void 0,t,!0)):delete i[f]);if(s!==a)for(const f in s)(!e||!he(e,f))&&(delete s[f],u=!0)}u&&Br(t,"set","$attrs")}function Om(t,e,n,r){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Ta(l))continue;const u=e[l];let h;i&&he(i,h=Nr(l))?!s||!s.includes(h)?n[h]=u:(a||(a={}))[h]=u:vl(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(s){const l=pe(n),u=a||_e;for(let h=0;h<s.length;h++){const f=s[h];n[f]=mu(i,l,f,u[f],t,!he(u,f))}}return o}function mu(t,e,n,r,i,s){const o=t[n];if(o!=null){const a=he(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&ee(l)){const{propsDefaults:u}=i;n in u?r=u[n]:(ys(i),r=u[n]=l.call(null,e),Oi())}else r=l}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===Zi(n))&&(r=!0))}return r}function km(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const s=t.props,o={},a=[];let l=!1;if(!ee(t)){const h=f=>{l=!0;const[v,C]=km(f,e,!0);qe(o,v),C&&a.push(...C)};!n&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}if(!s&&!l)return Te(t)&&r.set(t,us),us;if(Yt(s))for(let h=0;h<s.length;h++){const f=Nr(s[h]);Jh(f)&&(o[f]=_e)}else if(s)for(const h in s){const f=Nr(h);if(Jh(f)){const v=s[h],C=o[f]=Yt(v)||ee(v)?{type:v}:qe({},v);if(C){const b=Qh(Boolean,C.type),w=Qh(String,C.type);C[0]=b>-1,C[1]=w<0||b<w,(b>-1||he(C,"default"))&&a.push(f)}}}const u=[o,a];return Te(t)&&r.set(t,u),u}function Jh(t){return t[0]!=="$"}function $h(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function Kh(t,e){return $h(t)===$h(e)}function Qh(t,e){return Yt(e)?e.findIndex(n=>Kh(n,t)):ee(e)&&Kh(e,t)?0:-1}const Lm=t=>t[0]==="_"||t==="$stable",pf=t=>Yt(t)?t.map(mr):[mr(t)],Rb=(t,e,n)=>{if(e._n)return e;const r=_a((...i)=>pf(e(...i)),n);return r._c=!1,r},zm=(t,e,n)=>{const r=t._ctx;for(const i in t){if(Lm(i))continue;const s=t[i];if(ee(s))e[i]=Rb(i,s,r);else if(s!=null){const o=pf(s);e[i]=()=>o}}},Rm=(t,e)=>{const n=pf(e);t.slots.default=()=>n},Bb=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=pe(e),Za(e,"_",n)):zm(e,t.slots={})}else t.slots={},e&&Rm(t,e);Za(t.slots,bl,1)},jb=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=_e;if(r.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:(qe(i,e),!n&&a===1&&delete i._):(s=!e.$stable,zm(e,i)),o=e}else e&&(Rm(t,e),o={default:1});if(s)for(const a in i)!Lm(a)&&!(a in o)&&delete i[a]};function vu(t,e,n,r,i=!1){if(Yt(t)){t.forEach((v,C)=>vu(v,e&&(Yt(e)?e[C]:e),n,r,i));return}if(Ea(r)&&!i)return;const s=r.shapeFlag&4?wl(r.component)||r.component.proxy:r.el,o=i?null:s,{i:a,r:l}=t,u=e&&e.r,h=a.refs===_e?a.refs={}:a.refs,f=a.setupState;if(u!=null&&u!==l&&($e(u)?(h[u]=null,he(f,u)&&(f[u]=null)):Ze(u)&&(u.value=null)),ee(l))ii(l,a,12,[o,h]);else{const v=$e(l),C=Ze(l);if(v||C){const b=()=>{if(t.f){const w=v?he(f,l)?f[l]:h[l]:l.value;i?Yt(w)&&qu(w,s):Yt(w)?w.includes(s)||w.push(s):v?(h[l]=[s],he(f,l)&&(f[l]=h[l])):(l.value=[s],t.k&&(h[t.k]=l.value))}else v?(h[l]=o,he(f,l)&&(f[l]=o)):C&&(l.value=o,t.k&&(h[t.k]=o))};o?(b.id=-1,bn(b,n)):b()}}}const bn=fb;function Gb(t){return Zb(t)}function Zb(t,e){const n=lu();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:u,setElementText:h,parentNode:f,nextSibling:v,setScopeId:C=or,insertStaticContent:b}=t,w=(T,_,m,A=null,M=null,L=null,Y=!1,V=null,rt=!!_.dynamicChildren)=>{if(T===_)return;T&&!Fs(T,_)&&(A=K(T),q(T,M,L,!0),T=null),_.patchFlag===-2&&(rt=!1,_.dynamicChildren=null);const{type:at,ref:Tt,shapeFlag:Nt}=_;switch(at){case Cl:O(T,_,m,A);break;case zi:k(T,_,m,A);break;case Oa:T==null&&R(_,m,A,Y);break;case zn:Q(T,_,m,A,M,L,Y,V,rt);break;default:Nt&1?y(T,_,m,A,M,L,Y,V,rt):Nt&6?ut(T,_,m,A,M,L,Y,V,rt):(Nt&64||Nt&128)&&at.process(T,_,m,A,M,L,Y,V,rt,ct)}Tt!=null&&M&&vu(Tt,T&&T.ref,L,_||T,!_)},O=(T,_,m,A)=>{if(T==null)r(_.el=a(_.children),m,A);else{const M=_.el=T.el;_.children!==T.children&&u(M,_.children)}},k=(T,_,m,A)=>{T==null?r(_.el=l(_.children||""),m,A):_.el=T.el},R=(T,_,m,A)=>{[T.el,T.anchor]=b(T.children,_,m,A,T.el,T.anchor)},U=({el:T,anchor:_},m,A)=>{let M;for(;T&&T!==_;)M=v(T),r(T,m,A),T=M;r(_,m,A)},F=({el:T,anchor:_})=>{let m;for(;T&&T!==_;)m=v(T),i(T),T=m;i(_)},y=(T,_,m,A,M,L,Y,V,rt)=>{Y=Y||_.type==="svg",T==null?d(_,m,A,M,L,Y,V,rt):z(T,_,M,L,Y,V,rt)},d=(T,_,m,A,M,L,Y,V)=>{let rt,at;const{type:Tt,props:Nt,shapeFlag:bt,transition:wt,dirs:zt}=T;if(rt=T.el=o(T.type,L,Nt&&Nt.is,Nt),bt&8?h(rt,T.children):bt&16&&E(T.children,rt,null,A,M,L&&Tt!=="foreignObject",Y,V),zt&&bi(T,null,A,"created"),S(rt,T,T.scopeId,Y,A),Nt){for(const oe in Nt)oe!=="value"&&!Ta(oe)&&s(rt,oe,null,Nt[oe],L,T.children,A,M,Gt);"value"in Nt&&s(rt,"value",null,Nt.value),(at=Nt.onVnodeBeforeMount)&&gr(at,A,T)}zt&&bi(T,null,A,"beforeMount");const re=(!M||M&&!M.pendingBranch)&&wt&&!wt.persisted;re&&wt.beforeEnter(rt),r(rt,_,m),((at=Nt&&Nt.onVnodeMounted)||re||zt)&&bn(()=>{at&&gr(at,A,T),re&&wt.enter(rt),zt&&bi(T,null,A,"mounted")},M)},S=(T,_,m,A,M)=>{if(m&&C(T,m),A)for(let L=0;L<A.length;L++)C(T,A[L]);if(M){let L=M.subTree;if(_===L){const Y=M.vnode;S(T,Y,Y.scopeId,Y.slotScopeIds,M.parent)}}},E=(T,_,m,A,M,L,Y,V,rt=0)=>{for(let at=rt;at<T.length;at++){const Tt=T[at]=V?ti(T[at]):mr(T[at]);w(null,Tt,_,m,A,M,L,Y,V)}},z=(T,_,m,A,M,L,Y)=>{const V=_.el=T.el;let{patchFlag:rt,dynamicChildren:at,dirs:Tt}=_;rt|=T.patchFlag&16;const Nt=T.props||_e,bt=_.props||_e;let wt;m&&wi(m,!1),(wt=bt.onVnodeBeforeUpdate)&&gr(wt,m,_,T),Tt&&bi(_,T,m,"beforeUpdate"),m&&wi(m,!0);const zt=M&&_.type!=="foreignObject";if(at?W(T.dynamicChildren,at,V,m,A,zt,L):Y||St(T,_,V,null,m,A,zt,L,!1),rt>0){if(rt&16)$(V,_,Nt,bt,m,A,M);else if(rt&2&&Nt.class!==bt.class&&s(V,"class",null,bt.class,M),rt&4&&s(V,"style",Nt.style,bt.style,M),rt&8){const re=_.dynamicProps;for(let oe=0;oe<re.length;oe++){const Ht=re[oe],ve=Nt[Ht],ze=bt[Ht];(ze!==ve||Ht==="value")&&s(V,Ht,ve,ze,M,T.children,m,A,Gt)}}rt&1&&T.children!==_.children&&h(V,_.children)}else!Y&&at==null&&$(V,_,Nt,bt,m,A,M);((wt=bt.onVnodeUpdated)||Tt)&&bn(()=>{wt&&gr(wt,m,_,T),Tt&&bi(_,T,m,"updated")},A)},W=(T,_,m,A,M,L,Y)=>{for(let V=0;V<_.length;V++){const rt=T[V],at=_[V],Tt=rt.el&&(rt.type===zn||!Fs(rt,at)||rt.shapeFlag&70)?f(rt.el):m;w(rt,at,Tt,null,A,M,L,Y,!0)}},$=(T,_,m,A,M,L,Y)=>{if(m!==A){if(m!==_e)for(const V in m)!Ta(V)&&!(V in A)&&s(T,V,m[V],null,Y,_.children,M,L,Gt);for(const V in A){if(Ta(V))continue;const rt=A[V],at=m[V];rt!==at&&V!=="value"&&s(T,V,at,rt,Y,_.children,M,L,Gt)}"value"in A&&s(T,"value",m.value,A.value)}},Q=(T,_,m,A,M,L,Y,V,rt)=>{const at=_.el=T?T.el:a(""),Tt=_.anchor=T?T.anchor:a("");let{patchFlag:Nt,dynamicChildren:bt,slotScopeIds:wt}=_;wt&&(V=V?V.concat(wt):wt),T==null?(r(at,m,A),r(Tt,m,A),E(_.children,m,Tt,M,L,Y,V,rt)):Nt>0&&Nt&64&&bt&&T.dynamicChildren?(W(T.dynamicChildren,bt,m,M,L,Y,V),(_.key!=null||M&&_===M.subTree)&&Bm(T,_,!0)):St(T,_,m,Tt,M,L,Y,V,rt)},ut=(T,_,m,A,M,L,Y,V,rt)=>{_.slotScopeIds=V,T==null?_.shapeFlag&512?M.ctx.activate(_,m,A,Y,rt):dt(_,m,A,M,L,Y,rt):Ct(T,_,rt)},dt=(T,_,m,A,M,L,Y)=>{const V=T.component=Kb(T,A,M);if(Mm(T)&&(V.ctx.renderer=ct),Qb(V),V.asyncDep){if(M&&M.registerDep(V,vt),!T.el){const rt=V.subTree=qt(zi);k(null,rt,_,m)}return}vt(V,T,_,m,M,L,Y)},Ct=(T,_,m)=>{const A=_.component=T.component;if(lb(T,_,m))if(A.asyncDep&&!A.asyncResolved){mt(A,_,m);return}else A.next=_,nb(A.update),A.update();else _.el=T.el,A.vnode=_},vt=(T,_,m,A,M,L,Y)=>{const V=()=>{if(T.isMounted){let{next:Tt,bu:Nt,u:bt,parent:wt,vnode:zt}=T,re=Tt,oe;wi(T,!1),Tt?(Tt.el=zt.el,mt(T,Tt,Y)):Tt=zt,Nt&&Pa(Nt),(oe=Tt.props&&Tt.props.onVnodeBeforeUpdate)&&gr(oe,wt,Tt,zt),wi(T,!0);const Ht=Dc(T),ve=T.subTree;T.subTree=Ht,w(ve,Ht,f(ve.el),K(ve),T,M,L),Tt.el=Ht.el,re===null&&cb(T,Ht.el),bt&&bn(bt,M),(oe=Tt.props&&Tt.props.onVnodeUpdated)&&bn(()=>gr(oe,wt,Tt,zt),M)}else{let Tt;const{el:Nt,props:bt}=_,{bm:wt,m:zt,parent:re}=T,oe=Ea(_);if(wi(T,!1),wt&&Pa(wt),!oe&&(Tt=bt&&bt.onVnodeBeforeMount)&&gr(Tt,re,_),wi(T,!0),Nt&&Et){const Ht=()=>{T.subTree=Dc(T),Et(Nt,T.subTree,T,M,null)};oe?_.type.__asyncLoader().then(()=>!T.isUnmounted&&Ht()):Ht()}else{const Ht=T.subTree=Dc(T);w(null,Ht,m,A,T,M,L),_.el=Ht.el}if(zt&&bn(zt,M),!oe&&(Tt=bt&&bt.onVnodeMounted)){const Ht=_;bn(()=>gr(Tt,re,Ht),M)}(_.shapeFlag&256||re&&Ea(re.vnode)&&re.vnode.shapeFlag&256)&&T.a&&bn(T.a,M),T.isMounted=!0,_=m=A=null}},rt=T.effect=new rf(V,()=>df(at),T.scope),at=T.update=()=>rt.run();at.id=T.uid,wi(T,!0),at()},mt=(T,_,m)=>{_.component=T;const A=T.vnode.props;T.vnode=_,T.next=null,zb(T,_.props,A,m),jb(T,_.children,m),Ms(),Wh(),Ts()},St=(T,_,m,A,M,L,Y,V,rt=!1)=>{const at=T&&T.children,Tt=T?T.shapeFlag:0,Nt=_.children,{patchFlag:bt,shapeFlag:wt}=_;if(bt>0){if(bt&128){Zt(at,Nt,m,A,M,L,Y,V,rt);return}else if(bt&256){Mt(at,Nt,m,A,M,L,Y,V,rt);return}}wt&8?(Tt&16&&Gt(at,M,L),Nt!==at&&h(m,Nt)):Tt&16?wt&16?Zt(at,Nt,m,A,M,L,Y,V,rt):Gt(at,M,L,!0):(Tt&8&&h(m,""),wt&16&&E(Nt,m,A,M,L,Y,V,rt))},Mt=(T,_,m,A,M,L,Y,V,rt)=>{T=T||us,_=_||us;const at=T.length,Tt=_.length,Nt=Math.min(at,Tt);let bt;for(bt=0;bt<Nt;bt++){const wt=_[bt]=rt?ti(_[bt]):mr(_[bt]);w(T[bt],wt,m,null,M,L,Y,V,rt)}at>Tt?Gt(T,M,L,!0,!1,Nt):E(_,m,A,M,L,Y,V,rt,Nt)},Zt=(T,_,m,A,M,L,Y,V,rt)=>{let at=0;const Tt=_.length;let Nt=T.length-1,bt=Tt-1;for(;at<=Nt&&at<=bt;){const wt=T[at],zt=_[at]=rt?ti(_[at]):mr(_[at]);if(Fs(wt,zt))w(wt,zt,m,null,M,L,Y,V,rt);else break;at++}for(;at<=Nt&&at<=bt;){const wt=T[Nt],zt=_[bt]=rt?ti(_[bt]):mr(_[bt]);if(Fs(wt,zt))w(wt,zt,m,null,M,L,Y,V,rt);else break;Nt--,bt--}if(at>Nt){if(at<=bt){const wt=bt+1,zt=wt<Tt?_[wt].el:A;for(;at<=bt;)w(null,_[at]=rt?ti(_[at]):mr(_[at]),m,zt,M,L,Y,V,rt),at++}}else if(at>bt)for(;at<=Nt;)q(T[at],M,L,!0),at++;else{const wt=at,zt=at,re=new Map;for(at=zt;at<=bt;at++){const Re=_[at]=rt?ti(_[at]):mr(_[at]);Re.key!=null&&re.set(Re.key,at)}let oe,Ht=0;const ve=bt-zt+1;let ze=!1,fn=0;const rn=new Array(ve);for(at=0;at<ve;at++)rn[at]=0;for(at=wt;at<=Nt;at++){const Re=T[at];if(Ht>=ve){q(Re,M,L,!0);continue}let be;if(Re.key!=null)be=re.get(Re.key);else for(oe=zt;oe<=bt;oe++)if(rn[oe-zt]===0&&Fs(Re,_[oe])){be=oe;break}be===void 0?q(Re,M,L,!0):(rn[be-zt]=at+1,be>=fn?fn=be:ze=!0,w(Re,_[be],m,null,M,L,Y,V,rt),Ht++)}const dr=ze?Wb(rn):us;for(oe=dr.length-1,at=ve-1;at>=0;at--){const Re=zt+at,be=_[Re],We=Re+1<Tt?_[Re+1].el:A;rn[at]===0?w(null,be,m,We,M,L,Y,V,rt):ze&&(oe<0||at!==dr[oe]?kt(be,m,We,2):oe--)}}},kt=(T,_,m,A,M=null)=>{const{el:L,type:Y,transition:V,children:rt,shapeFlag:at}=T;if(at&6){kt(T.component.subTree,_,m,A);return}if(at&128){T.suspense.move(_,m,A);return}if(at&64){Y.move(T,_,m,ct);return}if(Y===zn){r(L,_,m);for(let Nt=0;Nt<rt.length;Nt++)kt(rt[Nt],_,m,A);r(T.anchor,_,m);return}if(Y===Oa){U(T,_,m);return}if(A!==2&&at&1&&V)if(A===0)V.beforeEnter(L),r(L,_,m),bn(()=>V.enter(L),M);else{const{leave:Nt,delayLeave:bt,afterLeave:wt}=V,zt=()=>r(L,_,m),re=()=>{Nt(L,()=>{zt(),wt&&wt()})};bt?bt(L,zt,re):re()}else r(L,_,m)},q=(T,_,m,A=!1,M=!1)=>{const{type:L,props:Y,ref:V,children:rt,dynamicChildren:at,shapeFlag:Tt,patchFlag:Nt,dirs:bt}=T;if(V!=null&&vu(V,null,m,T,!0),Tt&256){_.ctx.deactivate(T);return}const wt=Tt&1&&bt,zt=!Ea(T);let re;if(zt&&(re=Y&&Y.onVnodeBeforeUnmount)&&gr(re,_,T),Tt&6)ot(T.component,m,A);else{if(Tt&128){T.suspense.unmount(m,A);return}wt&&bi(T,null,_,"beforeUnmount"),Tt&64?T.type.remove(T,_,m,M,ct,A):at&&(L!==zn||Nt>0&&Nt&64)?Gt(at,_,m,!1,!0):(L===zn&&Nt&384||!M&&Tt&16)&&Gt(rt,_,m),A&&et(T)}(zt&&(re=Y&&Y.onVnodeUnmounted)||wt)&&bn(()=>{re&&gr(re,_,T),wt&&bi(T,null,_,"unmounted")},m)},et=T=>{const{type:_,el:m,anchor:A,transition:M}=T;if(_===zn){nt(m,A);return}if(_===Oa){F(T);return}const L=()=>{i(m),M&&!M.persisted&&M.afterLeave&&M.afterLeave()};if(T.shapeFlag&1&&M&&!M.persisted){const{leave:Y,delayLeave:V}=M,rt=()=>Y(m,L);V?V(T.el,L,rt):rt()}else L()},nt=(T,_)=>{let m;for(;T!==_;)m=v(T),i(T),T=m;i(_)},ot=(T,_,m)=>{const{bum:A,scope:M,update:L,subTree:Y,um:V}=T;A&&Pa(A),M.stop(),L&&(L.active=!1,q(Y,T,_,m)),V&&bn(V,_),bn(()=>{T.isUnmounted=!0},_),_&&_.pendingBranch&&!_.isUnmounted&&T.asyncDep&&!T.asyncResolved&&T.suspenseId===_.pendingId&&(_.deps--,_.deps===0&&_.resolve())},Gt=(T,_,m,A=!1,M=!1,L=0)=>{for(let Y=L;Y<T.length;Y++)q(T[Y],_,m,A,M)},K=T=>T.shapeFlag&6?K(T.component.subTree):T.shapeFlag&128?T.suspense.next():v(T.anchor||T.el),It=(T,_,m)=>{T==null?_._vnode&&q(_._vnode,null,null,!0):w(_._vnode||null,T,_,null,null,null,m),Wh(),Cm(),_._vnode=T},ct={p:w,um:q,m:kt,r:et,mt:dt,mc:E,pc:St,pbc:W,n:K,o:t};let xt,Et;return e&&([xt,Et]=e(ct)),{render:It,hydrate:xt,createApp:Ob(It,xt)}}function wi({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Bm(t,e,n=!1){const r=t.children,i=e.children;if(Yt(r)&&Yt(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=ti(i[s]),a.el=o.el),n||Bm(o,a)),a.type===Cl&&(a.el=o.el)}}function Wb(t){const e=t.slice(),n=[0];let r,i,s,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<u?s=a+1:o=a;u<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}const Ub=t=>t.__isTeleport,zn=Symbol.for("v-fgt"),Cl=Symbol.for("v-txt"),zi=Symbol.for("v-cmt"),Oa=Symbol.for("v-stc"),eo=[];let ir=null;function Qt(t=!1){eo.push(ir=t?null:[])}function Fb(){eo.pop(),ir=eo[eo.length-1]||null}let po=1;function qh(t){po+=t}function jm(t){return t.dynamicChildren=po>0?ir||us:null,Fb(),po>0&&ir&&ir.push(t),t}function ne(t,e,n,r,i,s){return jm(it(t,e,n,r,i,s,!0))}function Gm(t,e,n,r,i){return jm(qt(t,e,n,r,i,!0))}function Iu(t){return t?t.__v_isVNode===!0:!1}function Fs(t,e){return t.type===e.type&&t.key===e.key}const bl="__vInternal",Zm=({key:t})=>t??null,ka=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?$e(t)||Ze(t)||ee(t)?{i:Rn,r:t,k:e,f:!!n}:t:null);function it(t,e=null,n=null,r=0,i=null,s=t===zn?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Zm(e),ref:e&&ka(e),scopeId:Il,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Rn};return a?(mf(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=$e(n)?8:16),po>0&&!o&&ir&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&ir.push(l),l}const qt=Yb;function Yb(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===xb)&&(t=zi),Iu(t)){const a=Is(t,e,!0);return n&&mf(a,n),po>0&&!s&&ir&&(a.shapeFlag&6?ir[ir.indexOf(t)]=a:ir.push(a)),a.patchFlag|=-2,a}if(rw(t)&&(t=t.__vccOpts),e){e=Vb(e);let{class:a,style:l}=e;a&&!$e(a)&&(e.class=ef(a)),Te(l)&&(gm(l)&&!Yt(l)&&(l=qe({},l)),e.style=Cr(l))}const o=$e(t)?1:ub(t)?128:Ub(t)?64:Te(t)?4:ee(t)?2:0;return it(t,e,n,r,i,o,s,!0)}function Vb(t){return t?gm(t)||bl in t?qe({},t):t:null}function Is(t,e,n=!1){const{props:r,ref:i,patchFlag:s,children:o}=t,a=e?Hb(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&Zm(a),ref:e&&e.ref?n&&i?Yt(i)?i.concat(ka(e)):[i,ka(e)]:ka(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==zn?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Is(t.ssContent),ssFallback:t.ssFallback&&Is(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Xb(t=" ",e=0){return qt(Cl,null,t,e)}function Wm(t,e){const n=qt(Oa,null,t);return n.staticCount=e,n}function os(t="",e=!1){return e?(Qt(),Gm(zi,null,t)):qt(zi,null,t)}function mr(t){return t==null||typeof t=="boolean"?qt(zi):Yt(t)?qt(zn,null,t.slice()):typeof t=="object"?ti(t):qt(Cl,null,String(t))}function ti(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Is(t)}function mf(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(Yt(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),mf(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(bl in e)?e._ctx=Rn:i===3&&Rn&&(Rn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ee(e)?(e={default:e,_ctx:Rn},n=32):(e=String(e),r&64?(n=16,e=[Xb(e)]):n=8);t.children=e,t.shapeFlag|=n}function Hb(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=ef([e.class,r.class]));else if(i==="style")e.style=Cr([e.style,r.style]);else if(cl(i)){const s=e[i],o=r[i];o&&s!==o&&!(Yt(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function gr(t,e,n,r=null){ar(t,e,7,[n,r])}const Jb=Dm();let $b=0;function Kb(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||Jb,s={uid:$b++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new qp(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:km(r,i),emitsOptions:wm(r,i),emit:null,emitted:null,propsDefaults:_e,inheritAttrs:r.inheritAttrs,ctx:_e,data:_e,props:_e,attrs:_e,slots:_e,refs:_e,setupState:_e,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=sb.bind(null,s),t.ce&&t.ce(s),s}let Qe=null,vf,Ki,tg="__VUE_INSTANCE_SETTERS__";(Ki=lu()[tg])||(Ki=lu()[tg]=[]),Ki.push(t=>Qe=t),vf=t=>{Ki.length>1?Ki.forEach(e=>e(t)):Ki[0](t)};const ys=t=>{vf(t),t.scope.on()},Oi=()=>{Qe&&Qe.scope.off(),vf(null)};function Um(t){return t.vnode.shapeFlag&4}let mo=!1;function Qb(t,e=!1){mo=e;const{props:n,children:r}=t.vnode,i=Um(t);Lb(t,n,i,e),Bb(t,r);const s=i?qb(t,e):void 0;return mo=!1,s}function qb(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=pl(new Proxy(t.ctx,Nb));const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?ew(t):null;ys(t),Ms();const s=ii(r,t,0,[t.props,i]);if(Ts(),Oi(),Hp(s)){if(s.then(Oi,Oi),e)return s.then(o=>{eg(t,o,e)}).catch(o=>{ml(o,t,0)});t.asyncDep=s}else eg(t,s,e)}else Fm(t,e)}function eg(t,e,n){ee(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Te(e)&&(t.setupState=Im(e)),Fm(t,n)}let ng;function Fm(t,e,n){const r=t.type;if(!t.render){if(!e&&ng&&!r.render){const i=r.template||gf(t).template;if(i){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,u=qe(qe({isCustomElement:s,delimiters:a},o),l);r.render=ng(i,u)}}t.render=r.render||or}ys(t),Ms(),Mb(t),Ts(),Oi()}function tw(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return Mn(t,"get","$attrs"),e[n]}}))}function ew(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return tw(t)},slots:t.slots,emit:t.emit,expose:e}}function wl(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Im(pl(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in to)return to[n](t)},has(e,n){return n in e||n in to}}))}function nw(t,e=!0){return ee(t)?t.displayName||t.name:t.name||e&&t.__name}function rw(t){return ee(t)&&"__vccOpts"in t}const Xn=(t,e)=>qC(t,e,mo);function Ym(t,e,n){const r=arguments.length;return r===2?Te(e)&&!Yt(e)?Iu(e)?qt(t,null,[e]):qt(t,e):qt(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Iu(n)&&(n=[n]),qt(t,e,n))}const iw=Symbol.for("v-scx"),sw=()=>br(iw),ow="3.3.4",aw="http://www.w3.org/2000/svg",Si=typeof document<"u"?document:null,rg=Si&&Si.createElement("template"),lw={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e?Si.createElementNS(aw,t):Si.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>Si.createTextNode(t),createComment:t=>Si.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Si.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{rg.innerHTML=r?`<svg>${t}</svg>`:t;const a=rg.content;if(r){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function cw(t,e,n){const r=t._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function uw(t,e,n){const r=t.style,i=$e(n);if(n&&!i){if(e&&!$e(e))for(const s in e)n[s]==null&&yu(r,s,"");for(const s in n)yu(r,s,n[s])}else{const s=r.display;i?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(r.display=s)}}const ig=/\s*!important$/;function yu(t,e,n){if(Yt(n))n.forEach(r=>yu(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=fw(t,e);ig.test(n)?t.setProperty(Zi(r),n.replace(ig,""),"important"):t[r]=n}}const sg=["Webkit","Moz","ms"],kc={};function fw(t,e){const n=kc[e];if(n)return n;let r=Nr(e);if(r!=="filter"&&r in t)return kc[e]=r;r=dl(r);for(let i=0;i<sg.length;i++){const s=sg[i]+r;if(s in t)return kc[e]=s}return e}const og="http://www.w3.org/1999/xlink";function dw(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(og,e.slice(6,e.length)):t.setAttributeNS(og,e,n);else{const s=gC(e);n==null||s&&!Kp(n)?t.removeAttribute(e):t.setAttribute(e,s?"":n)}}function hw(t,e,n,r,i,s,o){if(e==="innerHTML"||e==="textContent"){r&&o(r,i,s),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){t._value=n;const u=a==="OPTION"?t.getAttribute("value"):t.value,h=n??"";u!==h&&(t.value=h),n==null&&t.removeAttribute(e);return}let l=!1;if(n===""||n==null){const u=typeof t[e];u==="boolean"?n=Kp(n):n==null&&u==="string"?(n="",l=!0):u==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function Ni(t,e,n,r){t.addEventListener(e,n,r)}function gw(t,e,n,r){t.removeEventListener(e,n,r)}function pw(t,e,n,r,i=null){const s=t._vei||(t._vei={}),o=s[e];if(r&&o)o.value=r;else{const[a,l]=mw(e);if(r){const u=s[e]=yw(r,i);Ni(t,a,u,l)}else o&&(gw(t,a,o,l),s[e]=void 0)}}const ag=/(?:Once|Passive|Capture)$/;function mw(t){let e;if(ag.test(t)){e={};let r;for(;r=t.match(ag);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Zi(t.slice(2)),e]}let Lc=0;const vw=Promise.resolve(),Iw=()=>Lc||(vw.then(()=>Lc=0),Lc=Date.now());function yw(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;ar(Aw(r,n.value),e,5,[r])};return n.value=t,n.attached=Iw(),n}function Aw(t,e){if(Yt(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const lg=/^on[a-z]/,Cw=(t,e,n,r,i=!1,s,o,a,l)=>{e==="class"?cw(t,r,i):e==="style"?uw(t,n,r):cl(e)?Qu(e)||pw(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):bw(t,e,r,i))?hw(t,e,r,s,o,a,l):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),dw(t,e,r,i))};function bw(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&lg.test(e)&&ee(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||lg.test(e)&&$e(n)?!1:e in t}const Xa=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Yt(e)?n=>Pa(e,n):e};function ww(t){t.target.composing=!0}function cg(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const jr={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t._assign=Xa(i);const s=r||i.props&&i.props.type==="number";Ni(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),s&&(a=Wa(a)),t._assign(a)}),n&&Ni(t,"change",()=>{t.value=t.value.trim()}),e||(Ni(t,"compositionstart",ww),Ni(t,"compositionend",cg),Ni(t,"change",cg))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:i}},s){if(t._assign=Xa(s),t.composing||document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===e||(i||t.type==="number")&&Wa(t.value)===e))return;const o=e??"";t.value!==o&&(t.value=o)}},Vm={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=ul(e);Ni(t,"change",()=>{const s=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?Wa(Ha(o)):Ha(o));t._assign(t.multiple?i?new Set(s):s:s[0])}),t._assign=Xa(r)},mounted(t,{value:e}){ug(t,e)},beforeUpdate(t,e,n){t._assign=Xa(n)},updated(t,{value:e}){ug(t,e)}};function ug(t,e){const n=t.multiple;if(!(n&&!Yt(e)&&!ul(e))){for(let r=0,i=t.options.length;r<i;r++){const s=t.options[r],o=Ha(s);if(n)Yt(e)?s.selected=mC(e,o)>-1:s.selected=e.has(o);else if(hl(Ha(s),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Ha(t){return"_value"in t?t._value:t.value}const xw={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},vo=(t,e)=>n=>{if(!("key"in n))return;const r=Zi(n.key);if(e.some(i=>i===r||xw[i]===r))return t(n)},Sw=qe({patchProp:Cw},lw);let fg;function Nw(){return fg||(fg=Gb(Sw))}const Mw=(...t)=>{const e=Nw().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=Tw(r);if(!i)return;const s=e._component;!ee(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function Tw(t){return $e(t)?document.querySelector(t):t}function Xm(t,e){return function(){return t.apply(e,arguments)}}const{toString:Pw}=Object.prototype,{getPrototypeOf:If}=Object,xl=(t=>e=>{const n=Pw.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Tr=t=>(t=t.toLowerCase(),e=>xl(e)===t),Sl=t=>e=>typeof e===t,{isArray:Ps}=Array,Io=Sl("undefined");function _w(t){return t!==null&&!Io(t)&&t.constructor!==null&&!Io(t.constructor)&&Jn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Hm=Tr("ArrayBuffer");function Ew(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Hm(t.buffer),e}const Dw=Sl("string"),Jn=Sl("function"),Jm=Sl("number"),Nl=t=>t!==null&&typeof t=="object",Ow=t=>t===!0||t===!1,La=t=>{if(xl(t)!=="object")return!1;const e=If(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},kw=Tr("Date"),Lw=Tr("File"),zw=Tr("Blob"),Rw=Tr("FileList"),Bw=t=>Nl(t)&&Jn(t.pipe),jw=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Jn(t.append)&&((e=xl(t))==="formdata"||e==="object"&&Jn(t.toString)&&t.toString()==="[object FormData]"))},Gw=Tr("URLSearchParams"),Zw=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Oo(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Ps(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function $m(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Km=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Qm=t=>!Io(t)&&t!==Km;function Au(){const{caseless:t}=Qm(this)&&this||{},e={},n=(r,i)=>{const s=t&&$m(e,i)||i;La(e[s])&&La(r)?e[s]=Au(e[s],r):La(r)?e[s]=Au({},r):Ps(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Oo(arguments[r],n);return e}const Ww=(t,e,n,{allOwnKeys:r}={})=>(Oo(e,(i,s)=>{n&&Jn(i)?t[s]=Xm(i,n):t[s]=i},{allOwnKeys:r}),t),Uw=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Fw=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Yw=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&If(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Vw=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},Xw=t=>{if(!t)return null;if(Ps(t))return t;let e=t.length;if(!Jm(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Hw=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&If(Uint8Array)),Jw=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},$w=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},Kw=Tr("HTMLFormElement"),Qw=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),dg=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),qw=Tr("RegExp"),qm=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Oo(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},t1=t=>{qm(t,(e,n)=>{if(Jn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Jn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},e1=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Ps(t)?r(t):r(String(t).split(e)),n},n1=()=>{},r1=(t,e)=>(t=+t,Number.isFinite(t)?t:e),zc="abcdefghijklmnopqrstuvwxyz",hg="0123456789",tv={DIGIT:hg,ALPHA:zc,ALPHA_DIGIT:zc+zc.toUpperCase()+hg},i1=(t=16,e=tv.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function s1(t){return!!(t&&Jn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const o1=t=>{const e=new Array(10),n=(r,i)=>{if(Nl(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Ps(r)?[]:{};return Oo(r,(o,a)=>{const l=n(o,i+1);!Io(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},a1=Tr("AsyncFunction"),l1=t=>t&&(Nl(t)||Jn(t))&&Jn(t.then)&&Jn(t.catch),pt={isArray:Ps,isArrayBuffer:Hm,isBuffer:_w,isFormData:jw,isArrayBufferView:Ew,isString:Dw,isNumber:Jm,isBoolean:Ow,isObject:Nl,isPlainObject:La,isUndefined:Io,isDate:kw,isFile:Lw,isBlob:zw,isRegExp:qw,isFunction:Jn,isStream:Bw,isURLSearchParams:Gw,isTypedArray:Hw,isFileList:Rw,forEach:Oo,merge:Au,extend:Ww,trim:Zw,stripBOM:Uw,inherits:Fw,toFlatObject:Yw,kindOf:xl,kindOfTest:Tr,endsWith:Vw,toArray:Xw,forEachEntry:Jw,matchAll:$w,isHTMLForm:Kw,hasOwnProperty:dg,hasOwnProp:dg,reduceDescriptors:qm,freezeMethods:t1,toObjectSet:e1,toCamelCase:Qw,noop:n1,toFiniteNumber:r1,findKey:$m,global:Km,isContextDefined:Qm,ALPHABET:tv,generateString:i1,isSpecCompliantForm:s1,toJSONObject:o1,isAsyncFn:a1,isThenable:l1};function ge(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}pt.inherits(ge,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:pt.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const ev=ge.prototype,nv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{nv[t]={value:t}});Object.defineProperties(ge,nv);Object.defineProperty(ev,"isAxiosError",{value:!0});ge.from=(t,e,n,r,i,s)=>{const o=Object.create(ev);return pt.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),ge.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const c1=null;function Cu(t){return pt.isPlainObject(t)||pt.isArray(t)}function rv(t){return pt.endsWith(t,"[]")?t.slice(0,-2):t}function gg(t,e,n){return t?t.concat(e).map(function(i,s){return i=rv(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function u1(t){return pt.isArray(t)&&!t.some(Cu)}const f1=pt.toFlatObject(pt,{},null,function(e){return/^is[A-Z]/.test(e)});function Ml(t,e,n){if(!pt.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=pt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,O){return!pt.isUndefined(O[w])});const r=n.metaTokens,i=n.visitor||h,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&pt.isSpecCompliantForm(e);if(!pt.isFunction(i))throw new TypeError("visitor must be a function");function u(b){if(b===null)return"";if(pt.isDate(b))return b.toISOString();if(!l&&pt.isBlob(b))throw new ge("Blob is not supported. Use a Buffer instead.");return pt.isArrayBuffer(b)||pt.isTypedArray(b)?l&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function h(b,w,O){let k=b;if(b&&!O&&typeof b=="object"){if(pt.endsWith(w,"{}"))w=r?w:w.slice(0,-2),b=JSON.stringify(b);else if(pt.isArray(b)&&u1(b)||(pt.isFileList(b)||pt.endsWith(w,"[]"))&&(k=pt.toArray(b)))return w=rv(w),k.forEach(function(U,F){!(pt.isUndefined(U)||U===null)&&e.append(o===!0?gg([w],F,s):o===null?w:w+"[]",u(U))}),!1}return Cu(b)?!0:(e.append(gg(O,w,s),u(b)),!1)}const f=[],v=Object.assign(f1,{defaultVisitor:h,convertValue:u,isVisitable:Cu});function C(b,w){if(!pt.isUndefined(b)){if(f.indexOf(b)!==-1)throw Error("Circular reference detected in "+w.join("."));f.push(b),pt.forEach(b,function(k,R){(!(pt.isUndefined(k)||k===null)&&i.call(e,k,pt.isString(R)?R.trim():R,w,v))===!0&&C(k,w?w.concat(R):[R])}),f.pop()}}if(!pt.isObject(t))throw new TypeError("data must be an object");return C(t),e}function pg(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function yf(t,e){this._pairs=[],t&&Ml(t,this,e)}const iv=yf.prototype;iv.append=function(e,n){this._pairs.push([e,n])};iv.toString=function(e){const n=e?function(r){return e.call(this,r,pg)}:pg;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function d1(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function sv(t,e,n){if(!e)return t;const r=n&&n.encode||d1,i=n&&n.serialize;let s;if(i?s=i(e,n):s=pt.isURLSearchParams(e)?e.toString():new yf(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class h1{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){pt.forEach(this.handlers,function(r){r!==null&&e(r)})}}const mg=h1,ov={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},g1=typeof URLSearchParams<"u"?URLSearchParams:yf,p1=typeof FormData<"u"?FormData:null,m1=typeof Blob<"u"?Blob:null,v1=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),I1=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),sr={isBrowser:!0,classes:{URLSearchParams:g1,FormData:p1,Blob:m1},isStandardBrowserEnv:v1,isStandardBrowserWebWorkerEnv:I1,protocols:["http","https","file","blob","url","data"]};function y1(t,e){return Ml(t,new sr.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return sr.isNode&&pt.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function A1(t){return pt.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function C1(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function av(t){function e(n,r,i,s){let o=n[s++];const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&pt.isArray(i)?i.length:o,l?(pt.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!pt.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&pt.isArray(i[o])&&(i[o]=C1(i[o])),!a)}if(pt.isFormData(t)&&pt.isFunction(t.entries)){const n={};return pt.forEachEntry(t,(r,i)=>{e(A1(r),i,n,0)}),n}return null}function b1(t,e,n){if(pt.isString(t))try{return(e||JSON.parse)(t),pt.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Af={transitional:ov,adapter:sr.isNode?"http":"xhr",transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=pt.isObject(e);if(s&&pt.isHTMLForm(e)&&(e=new FormData(e)),pt.isFormData(e))return i&&i?JSON.stringify(av(e)):e;if(pt.isArrayBuffer(e)||pt.isBuffer(e)||pt.isStream(e)||pt.isFile(e)||pt.isBlob(e))return e;if(pt.isArrayBufferView(e))return e.buffer;if(pt.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return y1(e,this.formSerializer).toString();if((a=pt.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Ml(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),b1(e)):e}],transformResponse:[function(e){const n=this.transitional||Af.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(e&&pt.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?ge.from(a,ge.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:sr.classes.FormData,Blob:sr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};pt.forEach(["delete","get","head","post","put","patch"],t=>{Af.headers[t]={}});const Cf=Af,w1=pt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),x1=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&w1[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},vg=Symbol("internals");function Ys(t){return t&&String(t).trim().toLowerCase()}function za(t){return t===!1||t==null?t:pt.isArray(t)?t.map(za):String(t)}function S1(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const N1=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Rc(t,e,n,r,i){if(pt.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!pt.isString(e)){if(pt.isString(r))return e.indexOf(r)!==-1;if(pt.isRegExp(r))return r.test(e)}}function M1(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function T1(t,e){const n=pt.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class Tl{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,u){const h=Ys(l);if(!h)throw new Error("header name must be a non-empty string");const f=pt.findKey(i,h);(!f||i[f]===void 0||u===!0||u===void 0&&i[f]!==!1)&&(i[f||l]=za(a))}const o=(a,l)=>pt.forEach(a,(u,h)=>s(u,h,l));return pt.isPlainObject(e)||e instanceof this.constructor?o(e,n):pt.isString(e)&&(e=e.trim())&&!N1(e)?o(x1(e),n):e!=null&&s(n,e,r),this}get(e,n){if(e=Ys(e),e){const r=pt.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return S1(i);if(pt.isFunction(n))return n.call(this,i,r);if(pt.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Ys(e),e){const r=pt.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Rc(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=Ys(o),o){const a=pt.findKey(r,o);a&&(!n||Rc(r,r[a],a,n))&&(delete r[a],i=!0)}}return pt.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||Rc(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return pt.forEach(this,(i,s)=>{const o=pt.findKey(r,s);if(o){n[o]=za(i),delete n[s];return}const a=e?M1(s):String(s).trim();a!==s&&delete n[s],n[a]=za(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return pt.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&pt.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[vg]=this[vg]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Ys(o);r[a]||(T1(i,o),r[a]=!0)}return pt.isArray(e)?e.forEach(s):s(e),this}}Tl.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);pt.reduceDescriptors(Tl.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});pt.freezeMethods(Tl);const zr=Tl;function Bc(t,e){const n=this||Cf,r=e||n,i=zr.from(r.headers);let s=r.data;return pt.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function lv(t){return!!(t&&t.__CANCEL__)}function ko(t,e,n){ge.call(this,t??"canceled",ge.ERR_CANCELED,e,n),this.name="CanceledError"}pt.inherits(ko,ge,{__CANCEL__:!0});function P1(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new ge("Request failed with status code "+n.status,[ge.ERR_BAD_REQUEST,ge.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const _1=sr.isStandardBrowserEnv?function(){return{write:function(n,r,i,s,o,a){const l=[];l.push(n+"="+encodeURIComponent(r)),pt.isNumber(i)&&l.push("expires="+new Date(i).toGMTString()),pt.isString(s)&&l.push("path="+s),pt.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function E1(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function D1(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function cv(t,e){return t&&!E1(e)?D1(t,e):e}const O1=sr.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=pt.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function k1(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function L1(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),h=r[s];o||(o=u),n[i]=l,r[i]=u;let f=s,v=0;for(;f!==i;)v+=n[f++],f=f%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const C=h&&u-h;return C?Math.round(v*1e3/C):void 0}}function Ig(t,e){let n=0;const r=L1(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-n,l=r(a),u=s<=o;n=s;const h={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&u?(o-s)/l:void 0,event:i};h[e?"download":"upload"]=!0,t(h)}}const z1=typeof XMLHttpRequest<"u",R1=z1&&function(t){return new Promise(function(n,r){let i=t.data;const s=zr.from(t.headers).normalize(),o=t.responseType;let a;function l(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}pt.isFormData(i)&&(sr.isStandardBrowserEnv||sr.isStandardBrowserWebWorkerEnv?s.setContentType(!1):s.setContentType("multipart/form-data;",!1));let u=new XMLHttpRequest;if(t.auth){const C=t.auth.username||"",b=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(C+":"+b))}const h=cv(t.baseURL,t.url);u.open(t.method.toUpperCase(),sv(h,t.params,t.paramsSerializer),!0),u.timeout=t.timeout;function f(){if(!u)return;const C=zr.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),w={data:!o||o==="text"||o==="json"?u.responseText:u.response,status:u.status,statusText:u.statusText,headers:C,config:t,request:u};P1(function(k){n(k),l()},function(k){r(k),l()},w),u=null}if("onloadend"in u?u.onloadend=f:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(f)},u.onabort=function(){u&&(r(new ge("Request aborted",ge.ECONNABORTED,t,u)),u=null)},u.onerror=function(){r(new ge("Network Error",ge.ERR_NETWORK,t,u)),u=null},u.ontimeout=function(){let b=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const w=t.transitional||ov;t.timeoutErrorMessage&&(b=t.timeoutErrorMessage),r(new ge(b,w.clarifyTimeoutError?ge.ETIMEDOUT:ge.ECONNABORTED,t,u)),u=null},sr.isStandardBrowserEnv){const C=(t.withCredentials||O1(h))&&t.xsrfCookieName&&_1.read(t.xsrfCookieName);C&&s.set(t.xsrfHeaderName,C)}i===void 0&&s.setContentType(null),"setRequestHeader"in u&&pt.forEach(s.toJSON(),function(b,w){u.setRequestHeader(w,b)}),pt.isUndefined(t.withCredentials)||(u.withCredentials=!!t.withCredentials),o&&o!=="json"&&(u.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&u.addEventListener("progress",Ig(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",Ig(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=C=>{u&&(r(!C||C.type?new ko(null,t,u):C),u.abort(),u=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const v=k1(h);if(v&&sr.protocols.indexOf(v)===-1){r(new ge("Unsupported protocol "+v+":",ge.ERR_BAD_REQUEST,t));return}u.send(i||null)})},Ra={http:c1,xhr:R1};pt.forEach(Ra,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const uv={getAdapter:t=>{t=pt.isArray(t)?t:[t];const{length:e}=t;let n,r;for(let i=0;i<e&&(n=t[i],!(r=pt.isString(n)?Ra[n.toLowerCase()]:n));i++);if(!r)throw r===!1?new ge(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(pt.hasOwnProp(Ra,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!pt.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:Ra};function jc(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ko(null,t)}function yg(t){return jc(t),t.headers=zr.from(t.headers),t.data=Bc.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),uv.getAdapter(t.adapter||Cf.adapter)(t).then(function(r){return jc(t),r.data=Bc.call(t,t.transformResponse,r),r.headers=zr.from(r.headers),r},function(r){return lv(r)||(jc(t),r&&r.response&&(r.response.data=Bc.call(t,t.transformResponse,r.response),r.response.headers=zr.from(r.response.headers))),Promise.reject(r)})}const Ag=t=>t instanceof zr?t.toJSON():t;function As(t,e){e=e||{};const n={};function r(u,h,f){return pt.isPlainObject(u)&&pt.isPlainObject(h)?pt.merge.call({caseless:f},u,h):pt.isPlainObject(h)?pt.merge({},h):pt.isArray(h)?h.slice():h}function i(u,h,f){if(pt.isUndefined(h)){if(!pt.isUndefined(u))return r(void 0,u,f)}else return r(u,h,f)}function s(u,h){if(!pt.isUndefined(h))return r(void 0,h)}function o(u,h){if(pt.isUndefined(h)){if(!pt.isUndefined(u))return r(void 0,u)}else return r(void 0,h)}function a(u,h,f){if(f in e)return r(u,h);if(f in t)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,h)=>i(Ag(u),Ag(h),!0)};return pt.forEach(Object.keys(Object.assign({},t,e)),function(h){const f=l[h]||i,v=f(t[h],e[h],h);pt.isUndefined(v)&&f!==a||(n[h]=v)}),n}const fv="1.5.0",bf={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{bf[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Cg={};bf.transitional=function(e,n,r){function i(s,o){return"[Axios v"+fv+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new ge(i(o," has been removed"+(n?" in "+n:"")),ge.ERR_DEPRECATED);return n&&!Cg[o]&&(Cg[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function B1(t,e,n){if(typeof t!="object")throw new ge("options must be an object",ge.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new ge("option "+s+" must be "+l,ge.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ge("Unknown option "+s,ge.ERR_BAD_OPTION)}}const bu={assertOptions:B1,validators:bf},Jr=bu.validators;class Ja{constructor(e){this.defaults=e,this.interceptors={request:new mg,response:new mg}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=As(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&bu.assertOptions(r,{silentJSONParsing:Jr.transitional(Jr.boolean),forcedJSONParsing:Jr.transitional(Jr.boolean),clarifyTimeoutError:Jr.transitional(Jr.boolean)},!1),i!=null&&(pt.isFunction(i)?n.paramsSerializer={serialize:i}:bu.assertOptions(i,{encode:Jr.function,serialize:Jr.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&pt.merge(s.common,s[n.method]);s&&pt.forEach(["delete","get","head","post","put","patch","common"],b=>{delete s[b]}),n.headers=zr.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(l=l&&w.synchronous,a.unshift(w.fulfilled,w.rejected))});const u=[];this.interceptors.response.forEach(function(w){u.push(w.fulfilled,w.rejected)});let h,f=0,v;if(!l){const b=[yg.bind(this),void 0];for(b.unshift.apply(b,a),b.push.apply(b,u),v=b.length,h=Promise.resolve(n);f<v;)h=h.then(b[f++],b[f++]);return h}v=a.length;let C=n;for(f=0;f<v;){const b=a[f++],w=a[f++];try{C=b(C)}catch(O){w.call(this,O);break}}try{h=yg.call(this,C)}catch(b){return Promise.reject(b)}for(f=0,v=u.length;f<v;)h=h.then(u[f++],u[f++]);return h}getUri(e){e=As(this.defaults,e);const n=cv(e.baseURL,e.url);return sv(n,e.params,e.paramsSerializer)}}pt.forEach(["delete","get","head","options"],function(e){Ja.prototype[e]=function(n,r){return this.request(As(r||{},{method:e,url:n,data:(r||{}).data}))}});pt.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(As(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Ja.prototype[e]=n(),Ja.prototype[e+"Form"]=n(!0)});const Ba=Ja;class wf{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new ko(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new wf(function(i){e=i}),cancel:e}}}const j1=wf;function G1(t){return function(n){return t.apply(null,n)}}function Z1(t){return pt.isObject(t)&&t.isAxiosError===!0}const wu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(wu).forEach(([t,e])=>{wu[e]=t});const W1=wu;function dv(t){const e=new Ba(t),n=Xm(Ba.prototype.request,e);return pt.extend(n,Ba.prototype,e,{allOwnKeys:!0}),pt.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return dv(As(t,i))},n}const Ve=dv(Cf);Ve.Axios=Ba;Ve.CanceledError=ko;Ve.CancelToken=j1;Ve.isCancel=lv;Ve.VERSION=fv;Ve.toFormData=Ml;Ve.AxiosError=ge;Ve.Cancel=Ve.CanceledError;Ve.all=function(e){return Promise.all(e)};Ve.spread=G1;Ve.isAxiosError=Z1;Ve.mergeConfig=As;Ve.AxiosHeaders=zr;Ve.formToJSON=t=>av(pt.isHTMLForm(t)?new FormData(t):t);Ve.getAdapter=uv.getAdapter;Ve.HttpStatusCode=W1;Ve.default=Ve;const Wr=Ve;var U1=!1;/*!
 * pinia v2.1.6
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let hv;const Pl=t=>hv=t,gv=Symbol();function xu(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var no;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(no||(no={}));function F1(){const t=tm(!0),e=t.run(()=>nn({}));let n=[],r=[];const i=pl({install(s){Pl(i),i._a=s,s.provide(gv,i),s.config.globalProperties.$pinia=i,r.forEach(o=>n.push(o)),r=[]},use(s){return!this._a&&!U1?r.push(s):n.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const pv=()=>{};function bg(t,e,n,r=pv){t.push(e);const i=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),r())};return!n&&em()&&IC(i),i}function Qi(t,...e){t.slice().forEach(n=>{n(...e)})}const Y1=t=>t();function Su(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,r)=>t.set(r,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],i=t[n];xu(i)&&xu(r)&&t.hasOwnProperty(n)&&!Ze(r)&&!ri(r)?t[n]=Su(i,r):t[n]=r}return t}const V1=Symbol();function X1(t){return!xu(t)||!t.hasOwnProperty(V1)}const{assign:qr}=Object;function H1(t){return!!(Ze(t)&&t.effect)}function J1(t,e,n,r){const{state:i,actions:s,getters:o}=e,a=n.state.value[t];let l;function u(){a||(n.state.value[t]=i?i():{});const h=JC(n.state.value[t]);return qr(h,s,Object.keys(o||{}).reduce((f,v)=>(f[v]=pl(Xn(()=>{Pl(n);const C=n._s.get(t);return o[v].call(C,C)})),f),{}))}return l=mv(t,u,e,n,r,!0),l}function mv(t,e,n={},r,i,s){let o;const a=qr({actions:{}},n),l={deep:!0};let u,h,f=[],v=[],C;const b=r.state.value[t];!s&&!b&&(r.state.value[t]={}),nn({});let w;function O(E){let z;u=h=!1,typeof E=="function"?(E(r.state.value[t]),z={type:no.patchFunction,storeId:t,events:C}):(Su(r.state.value[t],E),z={type:no.patchObject,payload:E,storeId:t,events:C});const W=w=Symbol();ff().then(()=>{w===W&&(u=!0)}),h=!0,Qi(f,z,r.state.value[t])}const k=s?function(){const{state:z}=n,W=z?z():{};this.$patch($=>{qr($,W)})}:pv;function R(){o.stop(),f=[],v=[],r._s.delete(t)}function U(E,z){return function(){Pl(r);const W=Array.from(arguments),$=[],Q=[];function ut(vt){$.push(vt)}function dt(vt){Q.push(vt)}Qi(v,{args:W,name:E,store:y,after:ut,onError:dt});let Ct;try{Ct=z.apply(this&&this.$id===t?this:y,W)}catch(vt){throw Qi(Q,vt),vt}return Ct instanceof Promise?Ct.then(vt=>(Qi($,vt),vt)).catch(vt=>(Qi(Q,vt),Promise.reject(vt))):(Qi($,Ct),Ct)}}const F={_p:r,$id:t,$onAction:bg.bind(null,v),$patch:O,$reset:k,$subscribe(E,z={}){const W=bg(f,E,z.detached,()=>$()),$=o.run(()=>Je(()=>r.state.value[t],Q=>{(z.flush==="sync"?h:u)&&E({storeId:t,type:no.direct,events:C},Q)},qr({},l,z)));return W},$dispose:R},y=Eo(F);r._s.set(t,y);const d=r._a&&r._a.runWithContext||Y1,S=r._e.run(()=>(o=tm(),d(()=>o.run(e))));for(const E in S){const z=S[E];if(Ze(z)&&!H1(z)||ri(z))s||(b&&X1(z)&&(Ze(z)?z.value=b[E]:Su(z,b[E])),r.state.value[t][E]=z);else if(typeof z=="function"){const W=U(E,z);S[E]=W,a.actions[E]=z}}return qr(y,S),qr(pe(y),S),Object.defineProperty(y,"$state",{get:()=>r.state.value[t],set:E=>{O(z=>{qr(z,E)})}}),r._p.forEach(E=>{qr(y,o.run(()=>E({store:y,app:r._a,pinia:r,options:a})))}),b&&s&&n.hydrate&&n.hydrate(y.$state,b),u=!0,h=!0,y}function Lo(t,e,n){let r,i;const s=typeof e=="function";typeof t=="string"?(r=t,i=s?n:e):(i=t,r=t.id);function o(a,l){const u=kb();return a=a||(u?br(gv,null):null),a&&Pl(a),a=hv,a._s.has(r)||(s?mv(r,e,i,a):J1(r,i,a)),a._s.get(r)}return o.$id=r,o}const Ee=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},$1={};function K1(t,e){const n=_m("router-view");return Qt(),Gm(n)}const Q1=Ee($1,[["render",K1],["__scopeId","data-v-05058b84"]]);/*!
  * vue-router v4.2.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const rs=typeof window<"u";function q1(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Ce=Object.assign;function Gc(t,e){const n={};for(const r in e){const i=e[r];n[r]=cr(i)?i.map(t):t(i)}return n}const ro=()=>{},cr=Array.isArray,tx=/\/$/,ex=t=>t.replace(tx,"");function Zc(t,e,n="/"){let r,i={},s="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),s=e.slice(l+1,a>-1?a:e.length),i=t(s)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=sx(r??e,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:o}}function nx(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function wg(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function rx(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Cs(e.matched[r],n.matched[i])&&vv(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Cs(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function vv(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!ix(t[n],e[n]))return!1;return!0}function ix(t,e){return cr(t)?xg(t,e):cr(e)?xg(e,t):t===e}function xg(t,e){return cr(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function sx(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}var yo;(function(t){t.pop="pop",t.push="push"})(yo||(yo={}));var io;(function(t){t.back="back",t.forward="forward",t.unknown=""})(io||(io={}));function ox(t){if(!t)if(rs){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),ex(t)}const ax=/^[^#]+#/;function lx(t,e){return t.replace(ax,"#")+e}function cx(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const _l=()=>({left:window.pageXOffset,top:window.pageYOffset});function ux(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=cx(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function Sg(t,e){return(history.state?history.state.position-e:-1)+t}const Nu=new Map;function fx(t,e){Nu.set(t,e)}function dx(t){const e=Nu.get(t);return Nu.delete(t),e}let hx=()=>location.protocol+"//"+location.host;function Iv(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let a=i.includes(t.slice(s))?t.slice(s).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),wg(l,"")}return wg(n,t)+r+i}function gx(t,e,n,r){let i=[],s=[],o=null;const a=({state:v})=>{const C=Iv(t,location),b=n.value,w=e.value;let O=0;if(v){if(n.value=C,e.value=v,o&&o===b){o=null;return}O=w?v.position-w.position:0}else r(C);i.forEach(k=>{k(n.value,b,{delta:O,type:yo.pop,direction:O?O>0?io.forward:io.back:io.unknown})})};function l(){o=n.value}function u(v){i.push(v);const C=()=>{const b=i.indexOf(v);b>-1&&i.splice(b,1)};return s.push(C),C}function h(){const{history:v}=window;v.state&&v.replaceState(Ce({},v.state,{scroll:_l()}),"")}function f(){for(const v of s)v();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:l,listen:u,destroy:f}}function Ng(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?_l():null}}function px(t){const{history:e,location:n}=window,r={value:Iv(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,u,h){const f=t.indexOf("#"),v=f>-1?(n.host&&document.querySelector("base")?t:t.slice(f))+l:hx()+t+l;try{e[h?"replaceState":"pushState"](u,"",v),i.value=u}catch(C){console.error(C),n[h?"replace":"assign"](v)}}function o(l,u){const h=Ce({},e.state,Ng(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});s(l,h,!0),r.value=l}function a(l,u){const h=Ce({},i.value,e.state,{forward:l,scroll:_l()});s(h.current,h,!0);const f=Ce({},Ng(r.value,l,null),{position:h.position+1},u);s(l,f,!1),r.value=l}return{location:r,state:i,push:a,replace:o}}function mx(t){t=ox(t);const e=px(t),n=gx(t,e.state,e.location,e.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=Ce({location:"",base:t,go:r,createHref:lx.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function vx(t){return typeof t=="string"||t&&typeof t=="object"}function yv(t){return typeof t=="string"||typeof t=="symbol"}const $r={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Av=Symbol("");var Mg;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Mg||(Mg={}));function bs(t,e){return Ce(new Error,{type:t,[Av]:!0},e)}function Er(t,e){return t instanceof Error&&Av in t&&(e==null||!!(t.type&e))}const Tg="[^/]+?",Ix={sensitive:!1,strict:!1,start:!0,end:!0},yx=/[.+*?^${}()[\]/\\]/g;function Ax(t,e){const n=Ce({},Ix,e),r=[];let i=n.start?"^":"";const s=[];for(const u of t){const h=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let f=0;f<u.length;f++){const v=u[f];let C=40+(n.sensitive?.25:0);if(v.type===0)f||(i+="/"),i+=v.value.replace(yx,"\\$&"),C+=40;else if(v.type===1){const{value:b,repeatable:w,optional:O,regexp:k}=v;s.push({name:b,repeatable:w,optional:O});const R=k||Tg;if(R!==Tg){C+=10;try{new RegExp(`(${R})`)}catch(F){throw new Error(`Invalid custom RegExp for param "${b}" (${R}): `+F.message)}}let U=w?`((?:${R})(?:/(?:${R}))*)`:`(${R})`;f||(U=O&&u.length<2?`(?:/${U})`:"/"+U),O&&(U+="?"),i+=U,C+=20,O&&(C+=-8),w&&(C+=-20),R===".*"&&(C+=-50)}h.push(C)}r.push(h)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(u){const h=u.match(o),f={};if(!h)return null;for(let v=1;v<h.length;v++){const C=h[v]||"",b=s[v-1];f[b.name]=C&&b.repeatable?C.split("/"):C}return f}function l(u){let h="",f=!1;for(const v of t){(!f||!h.endsWith("/"))&&(h+="/"),f=!1;for(const C of v)if(C.type===0)h+=C.value;else if(C.type===1){const{value:b,repeatable:w,optional:O}=C,k=b in u?u[b]:"";if(cr(k)&&!w)throw new Error(`Provided param "${b}" is an array but it is not repeatable (* or + modifiers)`);const R=cr(k)?k.join("/"):k;if(!R)if(O)v.length<2&&(h.endsWith("/")?h=h.slice(0,-1):f=!0);else throw new Error(`Missing required param "${b}"`);h+=R}}return h||"/"}return{re:o,score:r,keys:s,parse:a,stringify:l}}function Cx(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function bx(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=Cx(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(Pg(r))return 1;if(Pg(i))return-1}return i.length-r.length}function Pg(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const wx={type:0,value:""},xx=/[a-zA-Z0-9_]/;function Sx(t){if(!t)return[[]];if(t==="/")return[[wx]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(C){throw new Error(`ERR (${n})/"${u}": ${C}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,l,u="",h="";function f(){u&&(n===0?s.push({type:0,value:u}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:h,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function v(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&f(),o()):l===":"?(f(),n=1):v();break;case 4:v(),n=r;break;case 1:l==="("?n=2:xx.test(l)?v():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+l:n=3:h+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,h="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),f(),o(),i}function Nx(t,e,n){const r=Ax(Sx(t.path),n),i=Ce(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function Mx(t,e){const n=[],r=new Map;e=Dg({strict:!1,end:!0,sensitive:!1},e);function i(h){return r.get(h)}function s(h,f,v){const C=!v,b=Tx(h);b.aliasOf=v&&v.record;const w=Dg(e,h),O=[b];if("alias"in h){const U=typeof h.alias=="string"?[h.alias]:h.alias;for(const F of U)O.push(Ce({},b,{components:v?v.record.components:b.components,path:F,aliasOf:v?v.record:b}))}let k,R;for(const U of O){const{path:F}=U;if(f&&F[0]!=="/"){const y=f.record.path,d=y[y.length-1]==="/"?"":"/";U.path=f.record.path+(F&&d+F)}if(k=Nx(U,f,w),v?v.alias.push(k):(R=R||k,R!==k&&R.alias.push(k),C&&h.name&&!Eg(k)&&o(h.name)),b.children){const y=b.children;for(let d=0;d<y.length;d++)s(y[d],k,v&&v.children[d])}v=v||k,(k.record.components&&Object.keys(k.record.components).length||k.record.name||k.record.redirect)&&l(k)}return R?()=>{o(R)}:ro}function o(h){if(yv(h)){const f=r.get(h);f&&(r.delete(h),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(h);f>-1&&(n.splice(f,1),h.record.name&&r.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return n}function l(h){let f=0;for(;f<n.length&&bx(h,n[f])>=0&&(h.record.path!==n[f].record.path||!Cv(h,n[f]));)f++;n.splice(f,0,h),h.record.name&&!Eg(h)&&r.set(h.record.name,h)}function u(h,f){let v,C={},b,w;if("name"in h&&h.name){if(v=r.get(h.name),!v)throw bs(1,{location:h});w=v.record.name,C=Ce(_g(f.params,v.keys.filter(R=>!R.optional).map(R=>R.name)),h.params&&_g(h.params,v.keys.map(R=>R.name))),b=v.stringify(C)}else if("path"in h)b=h.path,v=n.find(R=>R.re.test(b)),v&&(C=v.parse(b),w=v.record.name);else{if(v=f.name?r.get(f.name):n.find(R=>R.re.test(f.path)),!v)throw bs(1,{location:h,currentLocation:f});w=v.record.name,C=Ce({},f.params,h.params),b=v.stringify(C)}const O=[];let k=v;for(;k;)O.unshift(k.record),k=k.parent;return{name:w,path:b,params:C,matched:O,meta:_x(O)}}return t.forEach(h=>s(h)),{addRoute:s,resolve:u,removeRoute:o,getRoutes:a,getRecordMatcher:i}}function _g(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function Tx(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:Px(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function Px(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function Eg(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function _x(t){return t.reduce((e,n)=>Ce(e,n.meta),{})}function Dg(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function Cv(t,e){return e.children.some(n=>n===t||Cv(t,n))}const bv=/#/g,Ex=/&/g,Dx=/\//g,Ox=/=/g,kx=/\?/g,wv=/\+/g,Lx=/%5B/g,zx=/%5D/g,xv=/%5E/g,Rx=/%60/g,Sv=/%7B/g,Bx=/%7C/g,Nv=/%7D/g,jx=/%20/g;function xf(t){return encodeURI(""+t).replace(Bx,"|").replace(Lx,"[").replace(zx,"]")}function Gx(t){return xf(t).replace(Sv,"{").replace(Nv,"}").replace(xv,"^")}function Mu(t){return xf(t).replace(wv,"%2B").replace(jx,"+").replace(bv,"%23").replace(Ex,"%26").replace(Rx,"`").replace(Sv,"{").replace(Nv,"}").replace(xv,"^")}function Zx(t){return Mu(t).replace(Ox,"%3D")}function Wx(t){return xf(t).replace(bv,"%23").replace(kx,"%3F")}function Ux(t){return t==null?"":Wx(t).replace(Dx,"%2F")}function $a(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function Fx(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(wv," "),o=s.indexOf("="),a=$a(o<0?s:s.slice(0,o)),l=o<0?null:$a(s.slice(o+1));if(a in e){let u=e[a];cr(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function Og(t){let e="";for(let n in t){const r=t[n];if(n=Zx(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(cr(r)?r.map(s=>s&&Mu(s)):[r&&Mu(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function Yx(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=cr(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const Vx=Symbol(""),kg=Symbol(""),Sf=Symbol(""),Mv=Symbol(""),Tu=Symbol("");function Vs(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function ei(t,e,n,r,i){const s=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((o,a)=>{const l=f=>{f===!1?a(bs(4,{from:n,to:e})):f instanceof Error?a(f):vx(f)?a(bs(2,{from:e,to:f})):(s&&r.enterCallbacks[i]===s&&typeof f=="function"&&s.push(f),o())},u=t.call(r&&r.instances[i],e,n,l);let h=Promise.resolve(u);t.length<3&&(h=h.then(l)),h.catch(f=>a(f))})}function Wc(t,e,n,r){const i=[];for(const s of t)for(const o in s.components){let a=s.components[o];if(!(e!=="beforeRouteEnter"&&!s.instances[o]))if(Xx(a)){const u=(a.__vccOpts||a)[e];u&&i.push(ei(u,n,r,s,o))}else{let l=a();i.push(()=>l.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${s.path}"`));const h=q1(u)?u.default:u;s.components[o]=h;const v=(h.__vccOpts||h)[e];return v&&ei(v,n,r,s,o)()}))}}return i}function Xx(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Lg(t){const e=br(Sf),n=br(Mv),r=Xn(()=>e.resolve(ue(t.to))),i=Xn(()=>{const{matched:l}=r.value,{length:u}=l,h=l[u-1],f=n.matched;if(!h||!f.length)return-1;const v=f.findIndex(Cs.bind(null,h));if(v>-1)return v;const C=zg(l[u-2]);return u>1&&zg(h)===C&&f[f.length-1].path!==C?f.findIndex(Cs.bind(null,l[u-2])):v}),s=Xn(()=>i.value>-1&&Kx(n.params,r.value.params)),o=Xn(()=>i.value>-1&&i.value===n.matched.length-1&&vv(n.params,r.value.params));function a(l={}){return $x(l)?e[ue(t.replace)?"replace":"push"](ue(t.to)).catch(ro):Promise.resolve()}return{route:r,href:Xn(()=>r.value.href),isActive:s,isExactActive:o,navigate:a}}const Hx=Nm({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Lg,setup(t,{slots:e}){const n=Eo(Lg(t)),{options:r}=br(Sf),i=Xn(()=>({[Rg(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Rg(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&e.default(n);return t.custom?s:Ym("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),Jx=Hx;function $x(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Kx(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!cr(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function zg(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Rg=(t,e,n)=>t??e??n,Qx=Nm({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=br(Tu),i=Xn(()=>t.route||r.value),s=br(kg,0),o=Xn(()=>{let u=ue(s);const{matched:h}=i.value;let f;for(;(f=h[u])&&!f.components;)u++;return u}),a=Xn(()=>i.value.matched[o.value]);Da(kg,Xn(()=>o.value+1)),Da(Vx,a),Da(Tu,i);const l=nn();return Je(()=>[l.value,a.value,t.name],([u,h,f],[v,C,b])=>{h&&(h.instances[f]=u,C&&C!==h&&u&&u===v&&(h.leaveGuards.size||(h.leaveGuards=C.leaveGuards),h.updateGuards.size||(h.updateGuards=C.updateGuards))),u&&h&&(!C||!Cs(h,C)||!v)&&(h.enterCallbacks[f]||[]).forEach(w=>w(u))},{flush:"post"}),()=>{const u=i.value,h=t.name,f=a.value,v=f&&f.components[h];if(!v)return Bg(n.default,{Component:v,route:u});const C=f.props[h],b=C?C===!0?u.params:typeof C=="function"?C(u):C:null,O=Ym(v,Ce({},b,e,{onVnodeUnmounted:k=>{k.component.isUnmounted&&(f.instances[h]=null)},ref:l}));return Bg(n.default,{Component:O,route:u})||O}}});function Bg(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const qx=Qx;function tS(t){const e=Mx(t.routes,t),n=t.parseQuery||Fx,r=t.stringifyQuery||Og,i=t.history,s=Vs(),o=Vs(),a=Vs(),l=VC($r);let u=$r;rs&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=Gc.bind(null,K=>""+K),f=Gc.bind(null,Ux),v=Gc.bind(null,$a);function C(K,It){let ct,xt;return yv(K)?(ct=e.getRecordMatcher(K),xt=It):xt=K,e.addRoute(xt,ct)}function b(K){const It=e.getRecordMatcher(K);It&&e.removeRoute(It)}function w(){return e.getRoutes().map(K=>K.record)}function O(K){return!!e.getRecordMatcher(K)}function k(K,It){if(It=Ce({},It||l.value),typeof K=="string"){const m=Zc(n,K,It.path),A=e.resolve({path:m.path},It),M=i.createHref(m.fullPath);return Ce(m,A,{params:v(A.params),hash:$a(m.hash),redirectedFrom:void 0,href:M})}let ct;if("path"in K)ct=Ce({},K,{path:Zc(n,K.path,It.path).path});else{const m=Ce({},K.params);for(const A in m)m[A]==null&&delete m[A];ct=Ce({},K,{params:f(m)}),It.params=f(It.params)}const xt=e.resolve(ct,It),Et=K.hash||"";xt.params=h(v(xt.params));const T=nx(r,Ce({},K,{hash:Gx(Et),path:xt.path})),_=i.createHref(T);return Ce({fullPath:T,hash:Et,query:r===Og?Yx(K.query):K.query||{}},xt,{redirectedFrom:void 0,href:_})}function R(K){return typeof K=="string"?Zc(n,K,l.value.path):Ce({},K)}function U(K,It){if(u!==K)return bs(8,{from:It,to:K})}function F(K){return S(K)}function y(K){return F(Ce(R(K),{replace:!0}))}function d(K){const It=K.matched[K.matched.length-1];if(It&&It.redirect){const{redirect:ct}=It;let xt=typeof ct=="function"?ct(K):ct;return typeof xt=="string"&&(xt=xt.includes("?")||xt.includes("#")?xt=R(xt):{path:xt},xt.params={}),Ce({query:K.query,hash:K.hash,params:"path"in xt?{}:K.params},xt)}}function S(K,It){const ct=u=k(K),xt=l.value,Et=K.state,T=K.force,_=K.replace===!0,m=d(ct);if(m)return S(Ce(R(m),{state:typeof m=="object"?Ce({},Et,m.state):Et,force:T,replace:_}),It||ct);const A=ct;A.redirectedFrom=It;let M;return!T&&rx(r,xt,ct)&&(M=bs(16,{to:A,from:xt}),kt(xt,xt,!0,!1)),(M?Promise.resolve(M):W(A,xt)).catch(L=>Er(L)?Er(L,2)?L:Zt(L):St(L,A,xt)).then(L=>{if(L){if(Er(L,2))return S(Ce({replace:_},R(L.to),{state:typeof L.to=="object"?Ce({},Et,L.to.state):Et,force:T}),It||A)}else L=Q(A,xt,!0,_,Et);return $(A,xt,L),L})}function E(K,It){const ct=U(K,It);return ct?Promise.reject(ct):Promise.resolve()}function z(K){const It=nt.values().next().value;return It&&typeof It.runWithContext=="function"?It.runWithContext(K):K()}function W(K,It){let ct;const[xt,Et,T]=eS(K,It);ct=Wc(xt.reverse(),"beforeRouteLeave",K,It);for(const m of xt)m.leaveGuards.forEach(A=>{ct.push(ei(A,K,It))});const _=E.bind(null,K,It);return ct.push(_),Gt(ct).then(()=>{ct=[];for(const m of s.list())ct.push(ei(m,K,It));return ct.push(_),Gt(ct)}).then(()=>{ct=Wc(Et,"beforeRouteUpdate",K,It);for(const m of Et)m.updateGuards.forEach(A=>{ct.push(ei(A,K,It))});return ct.push(_),Gt(ct)}).then(()=>{ct=[];for(const m of T)if(m.beforeEnter)if(cr(m.beforeEnter))for(const A of m.beforeEnter)ct.push(ei(A,K,It));else ct.push(ei(m.beforeEnter,K,It));return ct.push(_),Gt(ct)}).then(()=>(K.matched.forEach(m=>m.enterCallbacks={}),ct=Wc(T,"beforeRouteEnter",K,It),ct.push(_),Gt(ct))).then(()=>{ct=[];for(const m of o.list())ct.push(ei(m,K,It));return ct.push(_),Gt(ct)}).catch(m=>Er(m,8)?m:Promise.reject(m))}function $(K,It,ct){a.list().forEach(xt=>z(()=>xt(K,It,ct)))}function Q(K,It,ct,xt,Et){const T=U(K,It);if(T)return T;const _=It===$r,m=rs?history.state:{};ct&&(xt||_?i.replace(K.fullPath,Ce({scroll:_&&m&&m.scroll},Et)):i.push(K.fullPath,Et)),l.value=K,kt(K,It,ct,_),Zt()}let ut;function dt(){ut||(ut=i.listen((K,It,ct)=>{if(!ot.listening)return;const xt=k(K),Et=d(xt);if(Et){S(Ce(Et,{replace:!0}),xt).catch(ro);return}u=xt;const T=l.value;rs&&fx(Sg(T.fullPath,ct.delta),_l()),W(xt,T).catch(_=>Er(_,12)?_:Er(_,2)?(S(_.to,xt).then(m=>{Er(m,20)&&!ct.delta&&ct.type===yo.pop&&i.go(-1,!1)}).catch(ro),Promise.reject()):(ct.delta&&i.go(-ct.delta,!1),St(_,xt,T))).then(_=>{_=_||Q(xt,T,!1),_&&(ct.delta&&!Er(_,8)?i.go(-ct.delta,!1):ct.type===yo.pop&&Er(_,20)&&i.go(-1,!1)),$(xt,T,_)}).catch(ro)}))}let Ct=Vs(),vt=Vs(),mt;function St(K,It,ct){Zt(K);const xt=vt.list();return xt.length?xt.forEach(Et=>Et(K,It,ct)):console.error(K),Promise.reject(K)}function Mt(){return mt&&l.value!==$r?Promise.resolve():new Promise((K,It)=>{Ct.add([K,It])})}function Zt(K){return mt||(mt=!K,dt(),Ct.list().forEach(([It,ct])=>K?ct(K):It()),Ct.reset()),K}function kt(K,It,ct,xt){const{scrollBehavior:Et}=t;if(!rs||!Et)return Promise.resolve();const T=!ct&&dx(Sg(K.fullPath,0))||(xt||!ct)&&history.state&&history.state.scroll||null;return ff().then(()=>Et(K,It,T)).then(_=>_&&ux(_)).catch(_=>St(_,K,It))}const q=K=>i.go(K);let et;const nt=new Set,ot={currentRoute:l,listening:!0,addRoute:C,removeRoute:b,hasRoute:O,getRoutes:w,resolve:k,options:t,push:F,replace:y,go:q,back:()=>q(-1),forward:()=>q(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:vt.add,isReady:Mt,install(K){const It=this;K.component("RouterLink",Jx),K.component("RouterView",qx),K.config.globalProperties.$router=It,Object.defineProperty(K.config.globalProperties,"$route",{enumerable:!0,get:()=>ue(l)}),rs&&!et&&l.value===$r&&(et=!0,F(i.location).catch(Et=>{}));const ct={};for(const Et in $r)Object.defineProperty(ct,Et,{get:()=>l.value[Et],enumerable:!0});K.provide(Sf,It),K.provide(Mv,dm(ct)),K.provide(Tu,l);const xt=K.unmount;nt.add(K),K.unmount=function(){nt.delete(K),nt.size<1&&(u=$r,ut&&ut(),ut=null,l.value=$r,et=!1,mt=!1),xt()}}};function Gt(K){return K.reduce((It,ct)=>It.then(()=>z(ct)),Promise.resolve())}return ot}function eS(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(u=>Cs(u,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(u=>Cs(u,l))||i.push(l))}return[n,r,i]}const nS="/boris_frontend/assets/NavBarImg-651abeef.svg",rS="data:image/gif;base64,R0lGODlhUQAtAIAAAP///////yH5BAEAAAEALAAAAABRAC0AAAL/jI+py+0PEZi02otny7x7HXyitY1mZ5xjqbZU6qJMHMM0xt6mrVd5/+EBAb8hp0icXZBM5dLpg76koAWOWlVcrU8uCYtMeqPjaTmb2GrV6e76exa/yXN6G15HS9x3+57/53fAFmiWJ9cnKKQ3CNiIl8i4KBniONkUF4Z5uBmJWGjo2Qn6+ahYaYl6SmgaSqoJFpspe1h6SSuKS2qr6tpKyXobxxvcC5xanDH6S4zs/LwK7Stcu0ydOztsbdwM+YrVHe3NvK2sS35+vVsufTw+GT7Nzf7OHe8uni9vns2ZPg+Onj58+5K1UyFw4D2E//j5G7ajocF6OhIWpHjDIsGNGQz7eVoYJqLHdRFKmjyJMqXKlSxbunzJsgAAOw==";const Nf=t=>(Bn("data-v-a8116c6d"),t=t(),jn(),t),iS={class:"navBar"},sS=Nf(()=>it("img",{src:nS,alt:"Menu"},null,-1)),oS=[sS],aS=Nf(()=>it("div",{class:"title"}," GSPN Modelling and Simulation Tool",-1)),lS=Nf(()=>it("div",{class:"tumLogo"},[it("img",{src:rS})],-1)),cS={__name:"NavBar",setup(t){function e(){Wr.get("/").then(function(n){console.log(n)}).catch(function(n){console.log("Does not work")}).finally(function(){console.log("Finally")})}return(n,r)=>(Qt(),ne("div",iS,[it("button",{class:"btn",onClick:e},oS),aS,lS]))}},Mf=Ee(cS,[["__scopeId","data-v-a8116c6d"]]),uS="/boris_frontend/assets/homeModeButton-1e7914a3.svg",fS="/boris_frontend/assets/editModeButton-a3052fb4.svg",dS="/boris_frontend/assets/simModeButton-3eb79758.svg";const hS={},El=t=>(Bn("data-v-d19bb9df"),t=t(),jn(),t),gS={class:"menu-container"},pS=El(()=>it("p",{class:"text"},"Change tool mode",-1)),mS={class:"btn-container"},vS=El(()=>it("img",{src:uS},null,-1)),IS=El(()=>it("img",{src:fS},null,-1)),yS=El(()=>it("img",{src:dS},null,-1));function AS(t,e){const n=_m("router-link");return Qt(),ne("div",gS,[pS,it("div",mS,[it("button",null,[qt(n,{to:"/"},{default:_a(()=>[vS]),_:1})]),it("button",null,[qt(n,{to:"/edit-view"},{default:_a(()=>[IS]),_:1})]),it("button",null,[qt(n,{to:"/simulation-view"},{default:_a(()=>[yS]),_:1})])])])}const Tf=Ee(hS,[["render",AS],["__scopeId","data-v-d19bb9df"]]);const CS={class:"container"},bS={__name:"HomeSideBar",setup(t){return(e,n)=>(Qt(),ne("div",CS,[qt(Tf)]))}},wS=Ee(bS,[["__scopeId","data-v-5f0e46da"]]);const xS={},SS={class:"outer-container"},NS=Wm('<div class="container" data-v-33df76f9><p class="description" data-v-33df76f9>Welcome to the Generalized Stochastic Petri Net Modelling and Simulation Tool <br data-v-33df76f9></p><p class="description" data-v-33df76f9>The modelling tool has 3 main views (modes), which can be changed at any given moment from the <b data-v-33df76f9>Change tool mode</b> menu in the sidebar <br data-v-33df76f9></p><p class="description" data-v-33df76f9>The 3 views of the tool are:</p><ul data-v-33df76f9><li data-v-33df76f9> Home View </li><li data-v-33df76f9> Edit View </li><li data-v-33df76f9> Simulation View </li></ul></div><div class="container" data-v-33df76f9><h2 data-v-33df76f9><b data-v-33df76f9>Home View</b></h2><p class="description" data-v-33df76f9>This is the initially loaded view, available to users when they open the page. Here users can read this short tutorial about the main functionalities of the tool.</p><p class="description" data-v-33df76f9>From here users can switch to the <b data-v-33df76f9>Edit View</b> and the <b data-v-33df76f9>Simulation View</b></p></div><div class="container" data-v-33df76f9><h2 data-v-33df76f9><b data-v-33df76f9>Edit View</b></h2><p class="description" data-v-33df76f9>In this mode users can create their GSPN models and save them to be able to retrieve the models for simulation later. </p><p class="description" data-v-33df76f9> From the sidebar in the edit view users can create PN elements from the <b data-v-33df76f9>Create Element</b> menu by clicking on the desired element</p><p class="description" data-v-33df76f9> To modify element properties users should click once on the desired element. A new menu is then visible in the sidebar, allowing to alter the element properties </p><p class="description" data-v-33df76f9> In the <b data-v-33df76f9>Store Model</b> menu users can give a name to their model and persist it by clicking the save button. The model will be now available in the simulation view</p><p class="description" data-v-33df76f9> The <b data-v-33df76f9>Edit Plane</b> menu allows to zoom in or out the modelling plane, change the type of the grid and increase or decrease the grid cell size. </p></div><div class="container" data-v-33df76f9><h2 data-v-33df76f9><b data-v-33df76f9>Simulation View</b></h2><p class="description" data-v-33df76f9> In this mode users can simulate the models, created in the edit view.</p><p class="description" data-v-33df76f9> From the <b data-v-33df76f9>Choose Model</b> menu in the sidebar users can select with which model to work.</p><p class="description" data-v-33df76f9> Changes to the model during simulation <b data-v-33df76f9>are not persisted</b>.</p><p class="description" data-v-33df76f9> The <b data-v-33df76f9>Choose Simulation Mode</b> menu enables users to select between automatic or manual simulation.</p><p class="description" data-v-33df76f9>In manual simulation the user clicks on an enabled transition to fire, whereas in automatic the enabled transitions with lowest delay fires first.</p><p class="description" data-v-33df76f9>The <b data-v-33df76f9>Elapsed Time</b> displays the global simulation time, which increases once a timed transition fires</p><p class="description" data-v-33df76f9> Within the <b data-v-33df76f9>Path Traceback</b> menu users can see the place markings, time and fired transition after each transition firing. </p></div>',4),MS=[NS];function TS(t,e){return Qt(),ne("div",SS,MS)}const PS=Ee(xS,[["render",TS],["__scopeId","data-v-33df76f9"]]);const _S={id:"app"},ES={class:"main-container"},DS={class:"top-container"},OS={class:"bottom-container"},kS={class:"side-bar-container"},LS={class:"grid-plane-container"},zS={__name:"HomeView",setup(t){return(e,n)=>(Qt(),ne("div",_S,[it("div",ES,[it("div",DS,[qt(Mf)]),it("div",OS,[it("div",kS,[qt(wS)]),it("div",LS,[qt(PS)])])])]))}},RS=Ee(zS,[["__scopeId","data-v-27aead1b"]]),BS={};function jS(t,e){return Qt(),ne("div",null," This is the about view! ")}const GS=Ee(BS,[["render",jS]]),ZS="/boris_frontend/assets/startButton-295a7eb4.svg",WS="/boris_frontend/assets/stopButton-b743e8e3.svg",US="/boris_frontend/assets/restartButton-cf5ac8d8.svg",FS="/boris_frontend/assets/skipToEndButton-bcc7e5fa.svg",li=Lo("simStore",{state:()=>({models:[],firedTransition:!1,manualSimulation:!1,automaticSimulation:!1,simStep:0,enteredSimStep:!1,withTimeStep:!1,withoutTimeStep:!1,startSim:!1,continueSim:!1,stopSim:!1,rewindToStart:!1,rewindToEnd:!1,simSpeed:1,simulationTime:0,isPlaceSelected:!1,selectedPlace:null,enabledTransitions:[],tracebackTransitions:[],traceback:[]}),getters:{getModels:t=>t.models,getSelectedModelName:t=>{for(const e of t.models)if(e.selected)return e.name},isModelSelected:t=>{for(const e of t.models)if(e.selected)return!0;return!1},getEnabledTransitions:t=>t.enabledTransitions,getInputPlaceCount:t=>{if(t.selectedPlace!=null)return t.selectedPlace.prop("inputPlaceCounter")},getOutputPlaceCount:t=>{if(t.selectedPlace!=null)return t.selectedPlace.prop("outputPlaceCounter")},getAvgTokenPlace:t=>{if(t.selectedPlace!=null)return t.selectedPlace.prop("avgTokens")},getSimulationTime:t=>t.simulationTime,getTraceback:t=>t.traceback},actions:{setModels(t){this.models=t},selectModel(t){for(const e of this.models)t!=e&&(e.selected=!1);this.hideSimulationMenus(),this.simulationTime=0,this.traceback=[],t.selected=!0},unselectModel(t){t.selected=!1,this.traceback=[],this.hideSimulationMenus()},unselectAllModels(){for(const t of this.models)t.selected=!1;this.traceback=[],this.hideSimulationMenus()},setManualSimulation(){this.automaticSimulation=!1,this.hideAutoSimMenus(),this.manualSimulation=!0},setAutomaticSimulation(){this.manualSimulation=!1,this.automaticSimulation=!0},handleWithoutTimeStepSim(){this.enteredSimStep=!1,this.withTimeStep=!1,this.withoutTimeStep=!0},handleWithTimeStepSim(){this.withoutTimeStep=!1,this.withTimeStep=!0},setSimulationTime(t){this.simulationTime=t},findEnabledTransitions(){console.log("Find enabled transition initiated")},setEnabledTransitions(t){this.enabledTransitions=t},fireTransition(t){this.findEnabledTransitions()},resetAllButtons(){this.startSim=!1,this.stopSim=!1,this.rewindToStart=!1,this.rewindToEnd=!1},hideSimulationMenus(){this.automaticSimulation=!1,this.manualSimulation=!1,this.enteredSimStep=!1,this.withTimeStep=!1,this.withoutTimeStep=!1,this.resetAllButtons()},hideAutoSimMenus(){this.withTimeStep=!1,this.withoutTimeStep=!1,this.enteredSimStep=!1},updateTraceback(t,e){console.log(e),this.traceback.push({transition_label:t.label,time:this.simulationTime,places:e})}}});const _s=t=>(Bn("data-v-a71b05d8"),t=t(),jn(),t),YS={class:"menu-container"},VS=_s(()=>it("p",{class:"text"}," Execute Simulation ",-1)),XS={class:"btn-container"},HS=_s(()=>it("img",{src:ZS},null,-1)),JS=[HS],$S=_s(()=>it("img",{src:WS},null,-1)),KS=[$S],QS=_s(()=>it("img",{src:US},null,-1)),qS=[QS],tN=_s(()=>it("img",{src:FS},null,-1)),eN=[tN],nN={class:"sim-container"},rN=_s(()=>it("p",null,"Simulation speed",-1)),iN={__name:"AutoSimMenu",setup(t){const e=li(),n=nn(e.simSpeed);Do(()=>{e.resetAllButtons()});function r(){e.startSim=!0}function i(){e.stopSim=!e.stopSim}function s(){e.rewindToStart=!e.rewindToStart}function o(){simMenuStore.rewindToEnd()}return Je(n,a=>{e.simSpeed=parseFloat(a)}),(a,l)=>(Qt(),ne("div",YS,[VS,it("div",XS,[it("button",{onClick:r},JS),it("button",{onClick:i,style:Cr({"background-color":ue(e).stopSim?"grey":"silver"})},KS,4),it("button",{onClick:s},qS),it("button",{onClick:o},eN)]),it("div",nN,[lr(it("input",{type:"range",min:"0.5",max:"2",step:"0.5",class:"input","onUpdate:modelValue":l[0]||(l[0]=u=>n.value=u)},null,512),[[jr,n.value]]),rN])]))}},sN=Ee(iN,[["__scopeId","data-v-a71b05d8"]]);const oN=t=>(Bn("data-v-6eab84bb"),t=t(),jn(),t),aN={class:"menu-container"},lN=oN(()=>it("p",{class:"text"},"Fire Transition",-1)),cN={class:"sim-container"},uN=["onClick"],fN={__name:"ManualSimMenu",setup(t){const e=li();return(n,r)=>(Qt(),ne("div",aN,[lN,(Qt(!0),ne(zn,null,Al(ue(e).enabledTransitions,i=>(Qt(),ne("div",cN,[it("a",{href:"#",class:"a-container",onClick:s=>ue(e).fireTransition(i)},Ei(i.label),9,uN)]))),256))]))}},dN=Ee(fN,[["__scopeId","data-v-6eab84bb"]]);const hN={class:"menu-container"},gN=Wm('<p class="text" data-v-033cde71>Path traceback</p><div class="traceback-container" data-v-033cde71><div class="time-container" data-v-033cde71> Time </div><div class="place-marking-container" data-v-033cde71> Marking </div><div class="fired-transition-container" data-v-033cde71> T </div></div>',2),pN={class:"traceback-container"},mN={class:"time-container"},vN={class:"place-marking-container"},IN={class:"fired-transition-container"},yN={__name:"SimTracebackMenu",setup(t){const e=li(),n=nn(e.getTraceback);Je(()=>e.getTraceback,s=>{n.value=s});function r(s){const o=s*Math.pow(10,3);return Math.trunc(o)/1e3}function i(s){const o="",a="[",l="]",u=s.places.map(h=>`${h.label}=${h.tokenCount}`).join(", ");return o.concat(a,u,l)}return(s,o)=>(Qt(),ne("div",hN,[gN,(Qt(!0),ne(zn,null,Al(n.value,a=>(Qt(),ne("div",pN,[it("div",mN,Ei(r(a.time)),1),it("div",vN,Ei(i(a)),1),it("div",IN,Ei(a.transition_label),1)]))),256))]))}},AN=Ee(yN,[["__scopeId","data-v-033cde71"]]);const CN=t=>(Bn("data-v-6e6bef7c"),t=t(),jn(),t),bN={class:"menu-container"},wN=CN(()=>it("p",{class:"text"}," Choose model ",-1)),xN={class:"sim-container"},SN=["onClick"],NN={__name:"ModelMenu",setup(t){const e=li();function n(r){r.selected?e.unselectModel(r):e.selectModel(r)}return(r,i)=>(Qt(),ne("div",bN,[wN,it("div",null,[(Qt(!0),ne(zn,null,Al(ue(e).getModels,s=>(Qt(),ne("div",xN,[it("a",{href:"#",class:"a-container",style:Cr({color:s.selected?"white":"blue"}),onClick:o=>n(s)},Ei(s.name),13,SN)]))),256))])]))}},MN=Ee(NN,[["__scopeId","data-v-6e6bef7c"]]);const TN=t=>(Bn("data-v-162efed5"),t=t(),jn(),t),PN={class:"menu-container"},_N=TN(()=>it("p",{class:"text"},"Choose simulation mode",-1)),EN={class:"btn-container"},DN={key:0},ON={key:1},kN={__name:"SimModeMenu",setup(t){const e=li();function n(){e.setManualSimulation()}function r(){e.setAutomaticSimulation()}return(i,s)=>(Qt(),ne("div",null,[it("div",PN,[_N,it("div",EN,[it("button",{style:Cr({"pointer-events":ue(e).isModelSelected?"auto":"none","background-color":ue(e).automaticSimulation?"grey":"silver",opacity:ue(e).isModelSelected?1:.4}),onClick:r}," Automatic ",4),it("button",{style:Cr({"pointer-events":ue(e).isModelSelected?"auto":"none","background-color":ue(e).manualSimulation?"grey":"silver",opacity:ue(e).isModelSelected?1:.4}),onClick:n}," Manual ",4)])]),ue(e).manualSimulation?(Qt(),ne("div",DN,[qt(dN)])):os("",!0),ue(e).automaticSimulation?(Qt(),ne("div",ON,[qt(sN)])):os("",!0)]))}},LN=Ee(kN,[["__scopeId","data-v-162efed5"]]);const zN=t=>(Bn("data-v-0af241ae"),t=t(),jn(),t),RN={class:"menu-container"},BN=zN(()=>it("p",{class:"text"},"Elapsed time",-1)),jN={class:"sim-container"},GN={__name:"SimElapsedTimeMenu",setup(t){const e=li(),n=nn(e.getSimulationTime);return Je(()=>e.getSimulationTime,r=>{n.value=r}),(r,i)=>(Qt(),ne("div",RN,[BN,it("div",jN,[it("p",null,Ei(n.value),1)])]))}},ZN=Ee(GN,[["__scopeId","data-v-0af241ae"]]);const WN={class:"container"},UN={__name:"SimSideBar",setup(t){return li(),(e,n)=>(Qt(),ne("div",WN,[it("div",null,[qt(MN)]),it("div",null,[qt(LN)]),it("div",null,[qt(ZN)]),it("div",null,[qt(AN)]),it("div",null,[qt(Tf)])]))}},FN=Ee(UN,[["__scopeId","data-v-7f6dac94"]]),Pf=Lo("modelStore",{state:()=>({models:[{name:"sample-model.json",selected:!1,transitionCount:0,placeCount:0,arcCount:0}],selectedModelJSON:null}),getters:{getModels:t=>t.models},actions:{saveModel(t){for(const e of this.models)if(t===e.name)throw new Error("Cannot save model with name: "+t+" already exists model with this name!");return this.models.push({name:t,selected:!1}),!0},updateModel(t){if(!this.models.includes(t))throw new Error("Cannot update model, which has not been previously stored");return!0},deleteModel(t){const e=this.models.indexOf(t);if(e==-1)throw new Error("Cannot delete model, which has not been previously stored");return this.models.splice(e,1),!0},selectModel(t){if(!this.models.includes(t))throw new Error("Cannot unselect model, which has not been previously stored");for(const e of this.models)t!=e&&(e.selected=!1);return t.selected=!0,!0},unselectModel(t){if(!this.models.includes(t))throw new Error("Cannot unselect model, which has not been previously stored");return t.selected=!1,!0},unselectAllModels(){for(const t of this.models)t.selected=!1},updateModelElementCount(t,e,n,r){for(const i of this.models)i.name===t&&(i.transitionCount=e,i.placeCount=n,i.arcCount=r)}}}),_f=Lo("plane",{state:()=>({editPlaneEnabled:!1,paperGrid:"",paperGridSize:0,paperScale:1})});async function jg(t){return Wr.get("/model",{params:t}).then(e=>e.data).catch(e=>{throw e})}async function YN(t,e){return Wr.post("/model/fire-transition",{params:t,data:e}).then(n=>n.data).catch(n=>n)}async function VN(t,e){return Wr.post("/model/enabled-transitions",{data:e}).then(n=>n.data).catch(n=>n)}const Or={x:"x",y:"y",width:"w",height:"h",minimum:"s",maximum:"l",diagonal:"d"},XN=Object.keys(Or).map(t=>Or[t]).join(""),Uc="[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?",HN=/\s/g,Gg=new RegExp(`^(${Uc}\\*)?([${XN}])(/${Uc})?([-+]{1,2}${Uc})?$`,"g");function Tv(t){throw new Error(`Invalid calc() expression: ${t}`)}function JN(t,e){const n=Gg.exec(t.replace(HN,""));n||Tv(t),Gg.lastIndex=0;const[,r,i,s,o]=n,{x:a,y:l,width:u,height:h}=e;let f=0;switch(i){case Or.width:{f=u;break}case Or.height:{f=h;break}case Or.x:{f=a;break}case Or.y:{f=l;break}case Or.minimum:{f=Math.min(h,u);break}case Or.maximum:{f=Math.max(h,u);break}case Or.diagonal:{f=Math.sqrt(h*h+u*u);break}}return r&&(f*=parseFloat(r)),s&&(f/=parseFloat(s.slice(1))),o&&(f+=$N(o)),f}function $N(t){if(!t)return 0;const[e]=t;switch(e){case"+":return parseFloat(t.substr(1));case"-":return-parseFloat(t.substr(1))}return parseFloat(t)}function Ir(t){return typeof t=="string"&&t.includes("calc")}const Pv="calc(",Zg=Pv.length;function yr(t,e){let n=t,r=0;do{let i=n.indexOf(Pv,r);if(i===-1)return n;let s=i+Zg,o=1;t:do{switch(n[s]){case"(":{o++;break}case")":{if(o--,o===0)break t;break}case void 0:Tv(n)}s++}while(!0);let a=n.slice(i+Zg,s);Ir(a)&&(a=yr(a,e));const l=String(JN(a,e));n=n.slice(0,i)+l+n.slice(s+1),r=i+l.length}while(!0)}const{round:KN,floor:QN,PI:_v}=Math,qN={linear:function(t,e,n){var r=t[1]-t[0],i=e[1]-e[0];return(n-t[0])/r*i+e[0]||0}},Mr=function(t){return t%360+(t<0?360:0)},Ri=function(t,e){return e*KN(t/e)},Dl=function(t){return 180*t/_v%360},xn=function(t,e){return e=e||!1,t=e?t:t%360,t*_v/180},Pu=function(t,e){if(e===void 0)e=t===void 0?1:t,t=0;else if(e<t){const n=t;t=e,e=n}return QN(Math.random()*(e-t+1)+t)},{cos:ga,sin:Fc,atan2:tM}=Math,Ev=function(t,e){var n=xn(t.y),r=xn(e.y),i=t.x,s=e.x,o=xn(s-i),a=Fc(o)*ga(r),l=ga(n)*Fc(r)-Fc(n)*ga(r)*ga(o),u=Dl(tM(a,l)),h=["NE","E","SE","S","SW","W","NW","N"],f=u-22.5;return f<0&&(f+=360),f=parseInt(f/45),h[f]},Ef=function(t,e){var n=t.x,r=t.y,i=e.x,s=e.y;return(n-=i)*n+(r-=s)*r},Dv=function(t,e){return Math.sqrt(Ef(t,e))},te={Point:1,Line:2,Ellipse:3,Rect:4,Polyline:5,Polygon:6,Curve:7,Path:8},{abs:Ka,cos:_u,sin:Eu,sqrt:Wg,min:Ug,max:Fg,atan2:eM,round:Yg,pow:nM,PI:Vg}=Math,Z=function(t,e){if(!(this instanceof Z))return new Z(t,e);if(typeof t=="string"){var n=t.split(t.indexOf("@")===-1?" ":"@");t=parseFloat(n[0]),e=parseFloat(n[1])}else Object(t)===t&&(e=t.y,t=t.x);this.x=t===void 0?0:t,this.y=e===void 0?0:e};Z.fromPolar=function(t,e,n){n=new Z(n);var r=Ka(t*_u(e)),i=Ka(t*Eu(e)),s=Mr(Dl(e));return s<90?i=-i:s<180?(r=-r,i=-i):s<270&&(r=-r),new Z(n.x+r,n.y+i)};Z.random=function(t,e,n,r){return new Z(Pu(t,e),Pu(n,r))};Z.prototype={type:te.Point,chooseClosest:function(t){var e=t.length;if(e===1)return new Z(t[0]);for(var n=null,r=1/0,i=0;i<e;i++){var s=new Z(t[i]),o=this.squaredDistance(s);o<r&&(n=s,r=o)}return n},adhereToRect:function(t){return t.containsPoint(this)?this:(this.x=Ug(Fg(this.x,t.x),t.x+t.width),this.y=Ug(Fg(this.y,t.y),t.y+t.height),this)},angleBetween:function(t,e){var n=this.equals(t)||this.equals(e)?NaN:this.theta(e)-this.theta(t);return n<0&&(n+=360),n},bearing:function(t){return Ev(this,t)},changeInAngle:function(t,e,n){return this.clone().offset(-t,-e).theta(n)-this.theta(n)},clone:function(){return new Z(this)},cross:function(t,e){return t&&e?(e.x-this.x)*(t.y-this.y)-(e.y-this.y)*(t.x-this.x):NaN},difference:function(t,e){return Object(t)===t&&(e=t.y,t=t.x),new Z(this.x-(t||0),this.y-(e||0))},distance:function(t){return Dv(this,t)},dot:function(t){return t?this.x*t.x+this.y*t.y:NaN},equals:function(t){return!!t&&this.x===t.x&&this.y===t.y},lerp:function(t,e){var n=this.x,r=this.y;return new Z((1-e)*n+e*t.x,(1-e)*r+e*t.y)},magnitude:function(){return Wg(this.x*this.x+this.y*this.y)||.01},manhattanDistance:function(t){return Ka(t.x-this.x)+Ka(t.y-this.y)},move:function(t,e){var n=xn(new Z(t).theta(this)),r=this.offset(_u(n)*e,-Eu(n)*e);return r},normalize:function(t){var e=(t||1)/this.magnitude();return this.scale(e,e)},offset:function(t,e){return Object(t)===t&&(e=t.y,t=t.x),this.x+=t||0,this.y+=e||0,this},reflection:function(t){return new Z(t).move(this,this.distance(t))},rotate:function(t,e){if(e===0)return this;t=t||new Z(0,0),e=xn(Mr(-e));var n=_u(e),r=Eu(e),i=n*(this.x-t.x)-r*(this.y-t.y)+t.x,s=r*(this.x-t.x)+n*(this.y-t.y)+t.y;return this.x=i,this.y=s,this},round:function(t){let e=1;if(t)switch(t){case 1:e=10;break;case 2:e=100;break;case 3:e=1e3;break;default:e=nM(10,t);break}return this.x=Yg(this.x*e)/e,this.y=Yg(this.y*e)/e,this},scale:function(t,e,n){return n=n&&new Z(n)||new Z(0,0),this.x=n.x+t*(this.x-n.x),this.y=n.y+e*(this.y-n.y),this},snapToGrid:function(t,e){return this.x=Ri(this.x,t),this.y=Ri(this.y,e||t),this},squaredDistance:function(t){return Ef(this,t)},theta:function(t){t=new Z(t);var e=-(t.y-this.y),n=t.x-this.x,r=eM(e,n);return r<0&&(r=2*Vg+r),180*r/Vg},toJSON:function(){return{x:this.x,y:this.y}},toPolar:function(t){t=t&&new Z(t)||new Z(0,0);var e=this.x,n=this.y;return this.x=Wg((e-t.x)*(e-t.x)+(n-t.y)*(n-t.y)),this.y=xn(t.theta(new Z(e,n))),this},toString:function(){return this.x+"@"+this.y},serialize:function(){return this.x+","+this.y},update:function(t,e){return Object(t)===t&&(e=t.y,t=t.x),this.x=t||0,this.y=e||0,this},vectorAngle:function(t){var e=new Z(0,0);return e.angleBetween(this,t)}};Z.prototype.translate=Z.prototype.offset;const Qa=Z,{max:Yc,min:Vc}=Math,Ot=function(t,e){if(!(this instanceof Ot))return new Ot(t,e);if(t instanceof Ot)return new Ot(t.start,t.end);this.start=new Z(t),this.end=new Z(e)};Ot.prototype={type:te.Line,angle:function(){var t=new Z(this.start.x+1,this.start.y);return this.start.angleBetween(this.end,t)},bbox:function(){var t=Vc(this.start.x,this.end.x),e=Vc(this.start.y,this.end.y),n=Yc(this.start.x,this.end.x),r=Yc(this.start.y,this.end.y);return new Pt(t,e,n-t,r-e)},bearing:function(){return Ev(this.start,this.end)},clone:function(){return new Ot(this.start,this.end)},closestPoint:function(t){return this.pointAt(this.closestPointNormalizedLength(t))},closestPointLength:function(t){return this.closestPointNormalizedLength(t)*this.length()},closestPointNormalizedLength:function(t){var e=this.vector().dot(new Ot(this.start,t).vector()),n=Vc(1,Yc(0,e/this.squaredLength()));return n!==n?0:n},closestPointTangent:function(t){return this.tangentAt(this.closestPointNormalizedLength(t))},containsPoint:function(t){var e=this.start,n=this.end;if(e.cross(t,n)!==0)return!1;var r=this.length();return!(new Ot(e,t).length()>r||new Ot(t,n).length()>r)},divideAt:function(t){var e=this.pointAt(t);return[new Ot(this.start,e),new Ot(e,this.end)]},divideAtLength:function(t){var e=this.pointAtLength(t);return[new Ot(this.start,e),new Ot(e,this.end)]},equals:function(t){return!!t&&this.start.x===t.start.x&&this.start.y===t.start.y&&this.end.x===t.end.x&&this.end.y===t.end.y},intersect:function(t,e){if(t&&t.intersectionWithLine){var n=t.intersectionWithLine(this,e);return n&&t instanceof Ot&&(n=n[0]),n}return null},intersectionWithLine:function(t){var e=new Z(this.end.x-this.start.x,this.end.y-this.start.y),n=new Z(t.end.x-t.start.x,t.end.y-t.start.y),r=e.x*n.y-e.y*n.x,i=new Z(t.start.x-this.start.x,t.start.y-this.start.y),s=i.x*n.y-i.y*n.x,o=i.x*e.y-i.y*e.x;if(r===0||s*r<0||o*r<0)return null;if(r>0){if(s>r||o>r)return null}else if(s<r||o<r)return null;return[new Z(this.start.x+s*e.x/r,this.start.y+s*e.y/r)]},isDifferentiable:function(){return!this.start.equals(this.end)},length:function(){return Dv(this.start,this.end)},midpoint:function(){return new Z((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)},parallel:function(t){const e=this.clone();if(!this.isDifferentiable())return e;const{start:n,end:r}=e,i=n.clone().rotate(r,270),s=r.clone().rotate(n,90);return n.move(s,t),r.move(i,t),e},pointAt:function(t){var e=this.start,n=this.end;return t<=0?e.clone():t>=1?n.clone():e.lerp(n,t)},pointAtLength:function(t){var e=this.start,n=this.end,r=!0;t<0&&(r=!1,t=-t);var i=this.length();return t>=i?r?n.clone():e.clone():this.pointAt((r?t:i-t)/i)},pointOffset:function(t){t=new Z(t);var e=this.start,n=this.end,r=(n.x-e.x)*(t.y-e.y)-(n.y-e.y)*(t.x-e.x);return r/this.length()},rotate:function(t,e){return this.start.rotate(t,e),this.end.rotate(t,e),this},round:function(t){return this.start.round(t),this.end.round(t),this},scale:function(t,e,n){return this.start.scale(t,e,n),this.end.scale(t,e,n),this},setLength:function(t){var e=this.length();if(!e)return this;var n=t/e;return this.scale(n,n,this.start)},squaredLength:function(){return Ef(this.start,this.end)},tangentAt:function(t){if(!this.isDifferentiable())return null;var e=this.start,n=this.end,r=this.pointAt(t),i=new Ot(e,n);return i.translate(r.x-e.x,r.y-e.y),i},tangentAtLength:function(t){if(!this.isDifferentiable())return null;var e=this.start,n=this.end,r=this.pointAtLength(t),i=new Ot(e,n);return i.translate(r.x-e.x,r.y-e.y),i},toString:function(){return this.start.toString()+" "+this.end.toString()},serialize:function(){return this.start.serialize()+" "+this.end.serialize()},translate:function(t,e){return this.start.translate(t,e),this.end.translate(t,e),this},vector:function(){return new Z(this.end.x-this.start.x,this.end.y-this.start.y)}};Ot.prototype.intersection=Ot.prototype.intersect;const ki=Ot,{sqrt:Xg,round:pa,pow:rM}=Math,mn=function(t,e,n){if(!(this instanceof mn))return new mn(t,e,n);if(t instanceof mn)return new mn(new Z(t.x,t.y),t.a,t.b);t=new Z(t),this.x=t.x,this.y=t.y,this.a=e,this.b=n};mn.fromRect=function(t){return t=new Pt(t),new mn(t.center(),t.width/2,t.height/2)};mn.prototype={type:te.Ellipse,bbox:function(){return new Pt(this.x-this.a,this.y-this.b,2*this.a,2*this.b)},center:function(){return new Z(this.x,this.y)},clone:function(){return new mn(this)},containsPoint:function(t){return this.normalizedDistance(t)<=1},equals:function(t){return!!t&&t.x===this.x&&t.y===this.y&&t.a===this.a&&t.b===this.b},inflate:function(t,e){return t===void 0&&(t=0),e===void 0&&(e=t),this.a+=2*t,this.b+=2*e,this},intersectionWithLine:function(t){var e=[],n=t.start,r=t.end,i=this.a,s=this.b,o=t.vector(),a=n.difference(new Z(this)),l=new Z(o.x/(i*i),o.y/(s*s)),u=new Z(a.x/(i*i),a.y/(s*s)),h=o.dot(l),f=o.dot(u),v=a.dot(u)-1,C=f*f-h*v;if(C<0)return null;if(C>0){var b=Xg(C),w=(-f-b)/h,O=(-f+b)/h;if((w<0||1<w)&&(O<0||1<O))return null;0<=w&&w<=1&&e.push(n.lerp(r,w)),0<=O&&O<=1&&e.push(n.lerp(r,O))}else{var k=-f/h;if(0<=k&&k<=1)e.push(n.lerp(r,k));else return null}return e},intersectionWithLineFromCenterToPoint:function(t,e){t=new Z(t),e&&t.rotate(new Z(this.x,this.y),e);var n=t.x-this.x,r=t.y-this.y,i;if(n===0)return i=this.bbox().pointNearestToPoint(t),e?i.rotate(new Z(this.x,this.y),-e):i;var s=r/n,o=s*s,a=this.a*this.a,l=this.b*this.b,u=Xg(1/(1/a+o/l));u=n<0?-u:u;var h=s*u;return i=new Z(this.x+u,this.y+h),e?i.rotate(new Z(this.x,this.y),-e):i},normalizedDistance:function(t){var e=t.x,n=t.y,r=this.a,i=this.b,s=this.x,o=this.y;return(e-s)*(e-s)/(r*r)+(n-o)*(n-o)/(i*i)},round:function(t){let e=1;if(t)switch(t){case 1:e=10;break;case 2:e=100;break;case 3:e=1e3;break;default:e=rM(10,t);break}return this.x=pa(this.x*e)/e,this.y=pa(this.y*e)/e,this.a=pa(this.a*e)/e,this.b=pa(this.b*e)/e,this},tangentTheta:function(t){var e=30,n=t.x,r=t.y,i=this.a,s=this.b,o=this.bbox().center(),a=o.x,l=o.y,u=n>o.x+i/2,h=n<o.x-i/2,f,v;return u||h?(f=n>o.x?r-e:r+e,v=i*i/(n-a)-i*i*(r-l)*(f-l)/(s*s*(n-a))+a):(v=r>o.y?n+e:n-e,f=s*s/(r-l)-s*s*(n-a)*(v-a)/(i*i*(r-l))+l),new Z(v,f).theta(t)},toString:function(){return new Z(this.x,this.y).toString()+" "+this.a+" "+this.b}};const iM=mn,{abs:Hg,cos:sM,sin:oM,min:Xs,max:Jg,round:ma,pow:aM}=Math,Pt=function(t,e,n,r){if(!(this instanceof Pt))return new Pt(t,e,n,r);Object(t)===t&&(e=t.y,n=t.width,r=t.height,t=t.x),this.x=t===void 0?0:t,this.y=e===void 0?0:e,this.width=n===void 0?0:n,this.height=r===void 0?0:r};Pt.fromEllipse=function(t){return t=new mn(t),new Pt(t.x-t.a,t.y-t.b,2*t.a,2*t.b)};Pt.fromPointUnion=function(...t){if(t.length===0)return null;const e=new Z;let n,r,i,s;n=r=1/0,i=s=-1/0;for(let o=0;o<t.length;o++){e.update(t[o]);const a=e.x,l=e.y;a<n&&(n=a),a>i&&(i=a),l<r&&(r=l),l>s&&(s=l)}return new Pt(n,r,i-n,s-r)};Pt.fromRectUnion=function(...t){if(t.length===0)return null;const e=new Pt;let n,r,i,s;n=r=1/0,i=s=-1/0;for(let o=0;o<t.length;o++){e.update(t[o]);const a=e.x,l=e.y,u=a+e.width,h=l+e.height;a<n&&(n=a),u>i&&(i=u),l<r&&(r=l),h>s&&(s=h)}return new Pt(n,r,i-n,s-r)};Pt.prototype={type:te.Rect,bbox:function(t){return this.clone().rotateAroundCenter(t)},rotateAroundCenter:function(t){if(!t)return this;const{width:e,height:n}=this,r=xn(t),i=Hg(oM(r)),s=Hg(sM(r)),o=e*s+n*i,a=e*i+n*s;return this.x+=(e-o)/2,this.y+=(n-a)/2,this.width=o,this.height=a,this},bottomLeft:function(){return new Z(this.x,this.y+this.height)},bottomLine:function(){return new Ot(this.bottomLeft(),this.bottomRight())},bottomMiddle:function(){return new Z(this.x+this.width/2,this.y+this.height)},center:function(){return new Z(this.x+this.width/2,this.y+this.height/2)},clone:function(){return new Pt(this)},containsPoint:function(t){return t=new Z(t),t.x>=this.x&&t.x<=this.x+this.width&&t.y>=this.y&&t.y<=this.y+this.height},containsRect:function(t){var e=new Pt(this).normalize(),n=new Pt(t).normalize(),r=e.width,i=e.height,s=n.width,o=n.height;if(!r||!i||!s||!o)return!1;var a=e.x,l=e.y,u=n.x,h=n.y;return s+=u,r+=a,o+=h,i+=l,a<=u&&s<=r&&l<=h&&o<=i},corner:function(){return new Z(this.x+this.width,this.y+this.height)},equals:function(t){var e=new Pt(this).normalize(),n=new Pt(t).normalize();return e.x===n.x&&e.y===n.y&&e.width===n.width&&e.height===n.height},inflate:function(t,e){return t===void 0&&(t=0),e===void 0&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},intersect:function(t){var e=this.origin(),n=this.corner(),r=t.origin(),i=t.corner();if(i.x<=e.x||i.y<=e.y||r.x>=n.x||r.y>=n.y)return null;var s=Jg(e.x,r.x),o=Jg(e.y,r.y);return new Pt(s,o,Xs(n.x,i.x)-s,Xs(n.y,i.y)-o)},intersectionWithLine:function(t){var e=this,n=[e.topLine(),e.rightLine(),e.bottomLine(),e.leftLine()],r=[],i=[],s,o,a=n.length;for(o=0;o<a;o++)s=t.intersect(n[o]),s!==null&&i.indexOf(s.toString())<0&&(r.push(s),i.push(s.toString()));return r.length>0?r:null},intersectionWithLineFromCenterToPoint:function(t,e){t=new Z(t);var n=new Z(this.x+this.width/2,this.y+this.height/2),r;e&&t.rotate(n,e);for(var i=[this.topLine(),this.rightLine(),this.bottomLine(),this.leftLine()],s=new Ot(n,t),o=i.length-1;o>=0;--o){var a=i[o].intersection(s);if(a!==null){r=a;break}}return r&&e&&r.rotate(n,-e),r},leftLine:function(){return new Ot(this.topLeft(),this.bottomLeft())},leftMiddle:function(){return new Z(this.x,this.y+this.height/2)},maxRectScaleToFit:function(t,e){t=new Pt(t),e||(e=t.center());var n,r,i,s,o,a,l,u,h=e.x,f=e.y;n=r=i=s=o=a=l=u=1/0;var v=t.topLeft();v.x<h&&(n=(this.x-h)/(v.x-h)),v.y<f&&(o=(this.y-f)/(v.y-f));var C=t.bottomRight();C.x>h&&(r=(this.x+this.width-h)/(C.x-h)),C.y>f&&(a=(this.y+this.height-f)/(C.y-f));var b=t.topRight();b.x>h&&(i=(this.x+this.width-h)/(b.x-h)),b.y<f&&(l=(this.y-f)/(b.y-f));var w=t.bottomLeft();return w.x<h&&(s=(this.x-h)/(w.x-h)),w.y>f&&(u=(this.y+this.height-f)/(w.y-f)),{sx:Xs(n,r,i,s),sy:Xs(o,a,l,u)}},maxRectUniformScaleToFit:function(t,e){var n=this.maxRectScaleToFit(t,e);return Xs(n.sx,n.sy)},moveAndExpand:function(t){return this.x+=t.x||0,this.y+=t.y||0,this.width+=t.width||0,this.height+=t.height||0,this},normalize:function(){var t=this.x,e=this.y,n=this.width,r=this.height;return this.width<0&&(t=this.x+this.width,n=-this.width),this.height<0&&(e=this.y+this.height,r=-this.height),this.x=t,this.y=e,this.width=n,this.height=r,this},offset:function(t,e){return Z.prototype.offset.call(this,t,e)},origin:function(){return new Z(this.x,this.y)},pointNearestToPoint:function(t){if(t=new Z(t),this.containsPoint(t)){var e=this.sideNearestToPoint(t);switch(e){case"right":return new Z(this.x+this.width,t.y);case"left":return new Z(this.x,t.y);case"bottom":return new Z(t.x,this.y+this.height);case"top":return new Z(t.x,this.y)}}return t.adhereToRect(this)},rightLine:function(){return new Ot(this.topRight(),this.bottomRight())},rightMiddle:function(){return new Z(this.x+this.width,this.y+this.height/2)},round:function(t){let e=1;if(t)switch(t){case 1:e=10;break;case 2:e=100;break;case 3:e=1e3;break;default:e=aM(10,t);break}return this.x=ma(this.x*e)/e,this.y=ma(this.y*e)/e,this.width=ma(this.width*e)/e,this.height=ma(this.height*e)/e,this},scale:function(t,e,n){return n=this.origin().scale(t,e,n),this.x=n.x,this.y=n.y,this.width*=t,this.height*=e,this},sideNearestToPoint:function(t){t=new Z(t);var e=t.x-this.x,n=this.x+this.width-t.x,r=t.y-this.y,i=this.y+this.height-t.y,s=e,o="left";return n<s&&(s=n,o="right"),r<s&&(s=r,o="top"),i<s&&(o="bottom"),o},snapToGrid:function(t,e){var n=this.origin().snapToGrid(t,e),r=this.corner().snapToGrid(t,e);return this.x=n.x,this.y=n.y,this.width=r.x-n.x,this.height=r.y-n.y,this},toJSON:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},topLine:function(){return new Ot(this.topLeft(),this.topRight())},topMiddle:function(){return new Z(this.x+this.width/2,this.y)},topRight:function(){return new Z(this.x+this.width,this.y)},toString:function(){return this.origin().toString()+" "+this.corner().toString()},union:function(t){return Pt.fromRectUnion(this,t)},update:function(t,e,n,r){return Object(t)===t&&(e=t.y,n=t.width,r=t.height,t=t.x),this.x=t||0,this.y=e||0,this.width=n||0,this.height=r||0,this}};Pt.prototype.bottomRight=Pt.prototype.corner;Pt.prototype.topLeft=Pt.prototype.origin;Pt.prototype.translate=Pt.prototype.offset;const lM=Pt;function Ov(t){const e=t.trim();if(e==="")return[];const n=[],r=e.split(/\b\s*,\s*|,\s*|\s+/),i=r.length;for(let s=0;s<i;s+=2)n.push({x:+r[s],y:+r[s+1]});return n}function kv(t){const e=t.length;if(e===0)return[];const n=[];for(let r=0;r<e;r++){const i=t[r].clone();n.push(i)}return n}function Lv(t){const{abs:e}=Math;var n,r,i=t.length;if(i===0)return[];var s;for(n=0;n<i;n++)(s===void 0||t[n].y<s.y||t[n].y===s.y&&t[n].x>s.x)&&(s=t[n]);var o=[];for(n=0;n<i;n++){var a=s.theta(t[n]);a===0&&(a=360);var l=[t[n],n,a];o.push(l)}if(o.sort(function(ut,dt){var Ct=ut[2]-dt[2];return Ct===0&&(Ct=dt[1]-ut[1]),Ct}),o.length>2){var u=o[o.length-1];o.unshift(u)}for(var h={},f=[],v,C,b,w,O,k;o.length!==0;)if(v=o.pop(),C=v[0],!h.hasOwnProperty(v[0]+"@@"+v[1]))for(var R=!1;!R;)if(f.length<2)f.push(v),R=!0;else{b=f.pop(),w=b[0],O=f.pop(),k=O[0];var U=k.cross(w,C);if(U<0)f.push(O),f.push(b),f.push(v),R=!0;else if(U===0){var F=1e-10,y=w.angleBetween(k,C);e(y-180)<F||w.equals(C)||k.equals(w)?(h[b[0]+"@@"+b[1]]=w,f.push(O)):e((y+1)%360-1)<F&&(f.push(O),o.push(b))}else h[b[0]+"@@"+b[1]]=w,f.push(O)}f.length>2&&f.pop();var d,S=-1;for(r=f.length,n=0;n<r;n++){var E=f[n][1];(d===void 0||E<d)&&(d=E,S=n)}var z=[];if(S>0){var W=f.slice(S),$=f.slice(0,S);z=W.concat($)}else z=f;var Q=[];for(r=z.length,n=0;n<r;n++)Q.push(z[n][0]);return Q}const Me=function(t){if(!(this instanceof Me))return new Me(t);if(typeof t=="string")return new Me.parse(t);this.points=Array.isArray(t)?t.map(Z):[]};Me.parse=function(t){return new Me(Ov(t))};Me.fromRect=function(t){return new Me([t.topLeft(),t.topRight(),t.bottomRight(),t.bottomLeft(),t.topLeft()])};Me.prototype={type:te.Polyline,bbox:function(){var t=1/0,e=-1/0,n=1/0,r=-1/0,i=this.points,s=i.length;if(s===0)return null;for(var o=0;o<s;o++){var a=i[o],l=a.x,u=a.y;l<t&&(t=l),l>e&&(e=l),u<n&&(n=u),u>r&&(r=u)}return new Pt(t,n,e-t,r-n)},clone:function(){return new Me(kv(this.points))},closestPoint:function(t){var e=this.closestPointLength(t);return this.pointAtLength(e)},closestPointLength:function(t){var e=this.lengthPoints(),n=e.length;if(n===0||n===1)return 0;for(var r,i=1/0,s=0,o=n-1,a=0;a<o;a++){var l=new Ot(e[a],e[a+1]),u=l.length(),h=l.closestPointNormalizedLength(t),f=l.pointAt(h),v=f.squaredDistance(t);v<i&&(i=v,r=s+h*u),s+=u}return r},closestPointNormalizedLength:function(t){var e=this.closestPointLength(t);if(e===0)return 0;var n=this.length();return n===0?0:e/n},closestPointTangent:function(t){var e=this.closestPointLength(t);return this.tangentAtLength(e)},containsPoint:function(t){var e=this.points,n=e.length;if(n===0)return!1;for(var r=t.x,i=t.y,s=n-1,o=0,a=0,l=new Ot,u=new Ot,h=new Z;o<n;o++){var f=e[s],v=e[o];if(t.equals(f)||(l.start=f,l.end=v,l.containsPoint(t)))return!0;if(i<=f.y&&i>v.y||i>f.y&&i<=v.y){var C=f.x-r>v.x-r?f.x-r:v.x-r;C>=0&&(h.x=r+C,h.y=i,u.start=t,u.end=h,l.intersect(u)&&a++)}s=o}return a%2===1},close:function(){const{start:t,end:e,points:n}=this;return t&&e&&!t.equals(e)&&n.push(t.clone()),this},lengthPoints:function(){return this.points},convexHull:function(){return new Me(Lv(this.points))},equals:function(t){if(!t)return!1;var e=this.points,n=t.points,r=e.length;if(n.length!==r)return!1;for(var i=0;i<r;i++){var s=e[i],o=t.points[i];if(!s.equals(o))return!1}return!0},intersectionWithLine:function(t){for(var e=new Ot(t),n=[],r=this.lengthPoints(),i=new Ot,s=0,o=r.length-1;s<o;s++){i.start=r[s],i.end=r[s+1];var a=e.intersectionWithLine(i);a&&n.push(a[0])}return n.length>0?n:null},isDifferentiable:function(){var t=this.points,e=t.length;if(e===0)return!1;for(var n=new Ot,r=e-1,i=0;i<r;i++)if(n.start=t[i],n.end=t[i+1],n.isDifferentiable())return!0;return!1},length:function(){var t=this.lengthPoints(),e=t.length;if(e===0)return 0;for(var n=0,r=e-1,i=0;i<r;i++)n+=t[i].distance(t[i+1]);return n},pointAt:function(t){var e=this.lengthPoints(),n=e.length;if(n===0)return null;if(n===1||t<=0)return e[0].clone();if(t>=1)return e[n-1].clone();var r=this.length(),i=r*t;return this.pointAtLength(i)},pointAtLength:function(t){var e=this.lengthPoints(),n=e.length;if(n===0)return null;if(n===1)return e[0].clone();var r=!0;t<0&&(r=!1,t=-t);for(var i=0,s=n-1,o=0;o<s;o++){var a=r?o:s-1-o,l=e[a],u=e[a+1],h=new Ot(l,u),f=l.distance(u);if(t<=i+f)return h.pointAtLength((r?1:-1)*(t-i));i+=f}var v=r?e[n-1]:e[0];return v.clone()},round:function(t){for(var e=this.points,n=e.length,r=0;r<n;r++)e[r].round(t);return this},scale:function(t,e,n){for(var r=this.points,i=r.length,s=0;s<i;s++)r[s].scale(t,e,n);return this},simplify:function(t={}){const e=this.points;if(e.length<3)return this;const n=t.threshold||0;let r=0;for(;e[r+2];){const i=r,s=r+1,o=r+2,a=e[i],l=e[s],u=e[o];new Ot(a,u).closestPoint(l).distance(l)<=n?e.splice(s,1):r+=1}return this},tangentAt:function(t){var e=this.lengthPoints(),n=e.length;if(n===0||n===1)return null;t<0&&(t=0),t>1&&(t=1);var r=this.length(),i=r*t;return this.tangentAtLength(i)},tangentAtLength:function(t){var e=this.lengthPoints(),n=e.length;if(n===0||n===1)return null;var r=!0;t<0&&(r=!1,t=-t);for(var i,s=0,o=n-1,a=0;a<o;a++){var l=r?a:o-1-a,u=e[l],h=e[l+1],f=new Ot(u,h),v=u.distance(h);if(f.isDifferentiable()){if(t<=s+v)return f.tangentAtLength((r?1:-1)*(t-s));i=f}s+=v}if(i){var C=r?1:0;return i.tangentAt(C)}return null},toString:function(){return this.points+""},translate:function(t,e){for(var n=this.points,r=n.length,i=0;i<r;i++)n[i].translate(t,e);return this},serialize:function(){var t=this.points,e=t.length;if(e===0)return"";for(var n="",r=0;r<e;r++){var i=t[r];n+=i.x+","+i.y+" "}return n.trim()}};Object.defineProperty(Me.prototype,"start",{configurable:!0,enumerable:!0,get:function(){var t=this.points,e=t.length;return e===0?null:this.points[0]}});Object.defineProperty(Me.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var t=this.points,e=t.length;return e===0?null:this.points[e-1]}});const{abs:va,sqrt:cM,min:$g,max:Kg,pow:Xc}=Math,Ie=function(t,e,n,r){if(!(this instanceof Ie))return new Ie(t,e,n,r);if(t instanceof Ie)return new Ie(t.start,t.controlPoint1,t.controlPoint2,t.end);this.start=new Z(t),this.controlPoint1=new Z(e),this.controlPoint2=new Z(n),this.end=new Z(r)};Ie.throughPoints=function(){function t(n){var r=[],i=[],s=n.length-1,o;if(s==1)return r[0]=new Z((2*n[0].x+n[1].x)/3,(2*n[0].y+n[1].y)/3),i[0]=new Z(2*r[0].x-n[0].x,2*r[0].y-n[0].y),[r,i];var a=[];for(o=1;o<s-1;o++)a[o]=4*n[o].x+2*n[o+1].x;a[0]=n[0].x+2*n[1].x,a[s-1]=(8*n[s-1].x+n[s].x)/2;var l=e(a);for(o=1;o<s-1;++o)a[o]=4*n[o].y+2*n[o+1].y;a[0]=n[0].y+2*n[1].y,a[s-1]=(8*n[s-1].y+n[s].y)/2;var u=e(a);for(o=0;o<s;o++)r.push(new Z(l[o],u[o])),o<s-1?i.push(new Z(2*n[o+1].x-l[o+1],2*n[o+1].y-u[o+1])):i.push(new Z((n[s].x+l[s-1])/2,(n[s].y+u[s-1])/2));return[r,i]}function e(n){var r=n.length,i=[],s=[],o=2;i[0]=n[0]/o;for(var a=1;a<r;a++)s[a]=1/o,o=(a<r-1?4:3.5)-s[a],i[a]=(n[a]-i[a-1])/o;for(a=1;a<r;a++)i[r-a-1]-=s[r-a]*i[r-a];return i}return function(n){if(!n||Array.isArray(n)&&n.length<2)throw new Error("At least 2 points are required");for(var r=t(n),i=[],s=r[0].length,o=0;o<s;o++){var a=new Z(r[0][o].x,r[0][o].y),l=new Z(r[1][o].x,r[1][o].y);i.push(new Ie(n[o],a,l,n[o+1]))}return i}}();Ie.prototype={type:te.Curve,bbox:function(){for(var t=this.start,e=this.controlPoint1,n=this.controlPoint2,r=this.end,i=t.x,s=t.y,o=e.x,a=e.y,l=n.x,u=n.y,h=r.x,f=r.y,v=new Array,C=new Array,b=[new Array,new Array],w,O,k,R,U,F,y,d,S=0;S<2;++S){if(S===0?(O=6*i-12*o+6*l,w=-3*i+9*o-9*l+3*h,k=3*o-3*i):(O=6*s-12*a+6*u,w=-3*s+9*a-9*u+3*f,k=3*a-3*s),va(w)<1e-12){if(va(O)<1e-12)continue;R=-k/O,0<R&&R<1&&C.push(R);continue}y=O*O-4*k*w,d=cM(y),!(y<0)&&(U=(-O+d)/(2*w),0<U&&U<1&&C.push(U),F=(-O-d)/(2*w),0<F&&F<1&&C.push(F))}for(var E=C.length,z=E,W,$,Q;E--;)R=C[E],W=1-R,$=W*W*W*i+3*W*W*R*o+3*W*R*R*l+R*R*R*h,b[0][E]=$,Q=W*W*W*s+3*W*W*R*a+3*W*R*R*u+R*R*R*f,b[1][E]=Q,v[E]={X:$,Y:Q};C[z]=0,C[z+1]=1,v[z]={X:i,Y:s},v[z+1]={X:h,Y:f},b[0][z]=i,b[1][z]=s,b[0][z+1]=h,b[1][z+1]=f,C.length=z+2,b[0].length=z+2,b[1].length=z+2,v.length=z+2;var ut=$g.apply(null,b[0]),dt=$g.apply(null,b[1]),Ct=Kg.apply(null,b[0]),vt=Kg.apply(null,b[1]);return new Pt(ut,dt,Ct-ut,vt-dt)},clone:function(){return new Ie(this.start,this.controlPoint1,this.controlPoint2,this.end)},closestPoint:function(t,e){return this.pointAtT(this.closestPointT(t,e))},closestPointLength:function(t,e){e=e||{};var n=e.precision===void 0?this.PRECISION:e.precision,r=e.subdivisions===void 0?this.getSubdivisions({precision:n}):e.subdivisions,i={precision:n,subdivisions:r};return this.lengthAtT(this.closestPointT(t,i),i)},closestPointNormalizedLength:function(t,e){e=e||{};var n=e.precision===void 0?this.PRECISION:e.precision,r=e.subdivisions===void 0?this.getSubdivisions({precision:n}):e.subdivisions,i={precision:n,subdivisions:r},s=this.closestPointLength(t,i);if(!s)return 0;var o=this.length(i);return o===0?0:s/o},closestPointT:function(t,e){e=e||{};for(var n=e.precision===void 0?this.PRECISION:e.precision,r=e.subdivisions===void 0?this.getSubdivisions({precision:n}):e.subdivisions,i,s,o,a,l,u,h,f=r.length,v=f?1/f:0,C=0;C<f;C++){var b=r[C],w=b.start.distance(t),O=b.end.distance(t),k=w+O;(!h||k<h)&&(i=b,s=C*v,o=(C+1)*v,a=w,l=O,u=b.start.distance(b.end),h=k)}for(var R=Xc(10,-n);;){var U=a?va(a-l)/a:0,F=l?va(a-l)/l:0,y=U<R||F<R,d=a?a<u*R:!0,S=l?l<u*R:!0,E=d||S;if(y||E)return a<=l?s:o;var z=i.divide(.5);v/=2;var W=z[0].start.distance(t),$=z[0].end.distance(t),Q=W+$,ut=z[1].start.distance(t),dt=z[1].end.distance(t),Ct=ut+dt;Q<=Ct?(i=z[0],o-=v,a=W,l=$):(i=z[1],s+=v,a=ut,l=dt)}},closestPointTangent:function(t,e){return this.tangentAtT(this.closestPointT(t,e))},containsPoint:function(t,e){var n=this.toPolyline(e);return n.containsPoint(t)},divideAt:function(t,e){if(t<=0)return this.divideAtT(0);if(t>=1)return this.divideAtT(1);var n=this.tAt(t,e);return this.divideAtT(n)},divideAtLength:function(t,e){var n=this.tAtLength(t,e);return this.divideAtT(n)},divideAtT:function(t){var e=this.start,n=this.controlPoint1,r=this.controlPoint2,i=this.end;if(t<=0)return[new Ie(e,e,e,e),new Ie(e,n,r,i)];if(t>=1)return[new Ie(e,n,r,i),new Ie(i,i,i,i)];var s=this.getSkeletonPoints(t),o=s.startControlPoint1,a=s.startControlPoint2,l=s.divider,u=s.dividerControlPoint1,h=s.dividerControlPoint2;return[new Ie(e,o,a,l),new Ie(l,u,h,i)]},endpointDistance:function(){return this.start.distance(this.end)},equals:function(t){return!!t&&this.start.x===t.start.x&&this.start.y===t.start.y&&this.controlPoint1.x===t.controlPoint1.x&&this.controlPoint1.y===t.controlPoint1.y&&this.controlPoint2.x===t.controlPoint2.x&&this.controlPoint2.y===t.controlPoint2.y&&this.end.x===t.end.x&&this.end.y===t.end.y},getSkeletonPoints:function(t){var e=this.start,n=this.controlPoint1,r=this.controlPoint2,i=this.end;if(t<=0)return{startControlPoint1:e.clone(),startControlPoint2:e.clone(),divider:e.clone(),dividerControlPoint1:n.clone(),dividerControlPoint2:r.clone()};if(t>=1)return{startControlPoint1:n.clone(),startControlPoint2:r.clone(),divider:i.clone(),dividerControlPoint1:i.clone(),dividerControlPoint2:i.clone()};var s=new Ot(e,n).pointAt(t),o=new Ot(n,r).pointAt(t),a=new Ot(r,i).pointAt(t),l=new Ot(s,o).pointAt(t),u=new Ot(o,a).pointAt(t),h=new Ot(l,u).pointAt(t),f={startControlPoint1:s,startControlPoint2:l,divider:h,dividerControlPoint1:u,dividerControlPoint2:a};return f},getSubdivisions:function(t){t=t||{};var e=t.precision===void 0?this.PRECISION:t.precision,n=this.start,r=this.controlPoint1,i=this.controlPoint2,s=this.end,o=[new Ie(n,r,i,s)];if(e===0)return o;var a=!this.isDifferentiable();if(a)return o;var l=this.endpointDistance(),u=Xc(10,-e),h=2,f=r.cross(n,s)===0&&i.cross(n,s)===0;f&&(h=2*e);for(var v=0;;){v+=1;for(var C=[],b=o.length,w=0;w<b;w++){var O=o[w],k=O.divide(.5);C.push(k[0],k[1])}for(var R=0,U=C.length,F=0;F<U;F++){var y=C[F];R+=y.endpointDistance()}if(v>=h){var d=R!==0?(R-l)/R:0;if(d<u)return C}o=C,l=R}},isDifferentiable:function(){var t=this.start,e=this.controlPoint1,n=this.controlPoint2,r=this.end;return!(t.equals(e)&&e.equals(n)&&n.equals(r))},length:function(t){t=t||{};for(var e=t.precision===void 0?this.PRECISION:t.precision,n=t.subdivisions===void 0?this.getSubdivisions({precision:e}):t.subdivisions,r=0,i=n.length,s=0;s<i;s++){var o=n[s];r+=o.endpointDistance()}return r},lengthAtT:function(t,e){if(t<=0)return 0;e=e||{};var n=e.precision===void 0?this.PRECISION:e.precision,r=this.divide(t)[0],i=r.length({precision:n});return i},pointAt:function(t,e){if(t<=0)return this.start.clone();if(t>=1)return this.end.clone();var n=this.tAt(t,e);return this.pointAtT(n)},pointAtLength:function(t,e){var n=this.tAtLength(t,e);return this.pointAtT(n)},pointAtT:function(t){return t<=0?this.start.clone():t>=1?this.end.clone():this.getSkeletonPoints(t).divider},PRECISION:3,round:function(t){return this.start.round(t),this.controlPoint1.round(t),this.controlPoint2.round(t),this.end.round(t),this},scale:function(t,e,n){return this.start.scale(t,e,n),this.controlPoint1.scale(t,e,n),this.controlPoint2.scale(t,e,n),this.end.scale(t,e,n),this},tangentAt:function(t,e){if(!this.isDifferentiable())return null;t<0?t=0:t>1&&(t=1);var n=this.tAt(t,e);return this.tangentAtT(n)},tangentAtLength:function(t,e){if(!this.isDifferentiable())return null;var n=this.tAtLength(t,e);return this.tangentAtT(n)},tangentAtT:function(t){if(!this.isDifferentiable())return null;t<0?t=0:t>1&&(t=1);var e=this.getSkeletonPoints(t),n=e.startControlPoint2,r=e.dividerControlPoint1,i=e.divider,s=new Ot(n,r);return s.translate(i.x-n.x,i.y-n.y),s},tAt:function(t,e){if(t<=0)return 0;if(t>=1)return 1;e=e||{};var n=e.precision===void 0?this.PRECISION:e.precision,r=e.subdivisions===void 0?this.getSubdivisions({precision:n}):e.subdivisions,i={precision:n,subdivisions:r},s=this.length(i),o=s*t;return this.tAtLength(o,i)},tAtLength:function(t,e){var n=!0;t<0&&(n=!1,t=-t),e=e||{};for(var r=e.precision===void 0?this.PRECISION:e.precision,i=e.subdivisions===void 0?this.getSubdivisions({precision:r}):e.subdivisions,s={precision:r,subdivisions:i},o,a,l,u,h,f=0,v=i.length,C=1/v,b=0;b<v;b++){var w=n?b:v-1-b,O=i[b],k=O.endpointDistance();if(t<=f+k){o=O,a=w*C,l=(w+1)*C,u=n?t-f:k+f-t,h=n?k+f-t:t-f;break}f+=k}if(!o)return n?1:0;for(var R=this.length(s),U=Xc(10,-r);;){var F;if(F=R!==0?u/R:0,F<U)return a;if(F=R!==0?h/R:0,F<U)return l;var y,d,S=o.divide(.5);C/=2;var E=S[0].endpointDistance(),z=S[1].endpointDistance();u<=E?(o=S[0],l-=C,y=u,d=E-y):(o=S[1],a+=C,y=u-E,d=z-y),u=y,h=d}},toPoints:function(t){t=t||{};for(var e=t.precision===void 0?this.PRECISION:t.precision,n=t.subdivisions===void 0?this.getSubdivisions({precision:e}):t.subdivisions,r=[n[0].start.clone()],i=n.length,s=0;s<i;s++){var o=n[s];r.push(o.end.clone())}return r},toPolyline:function(t){return new Me(this.toPoints(t))},toString:function(){return this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(t,e){return this.start.translate(t,e),this.controlPoint1.translate(t,e),this.controlPoint2.translate(t,e),this.end.translate(t,e),this}};Ie.prototype.divide=Ie.prototype.divideAtT;function zo(t){var e,n,r=[];for(n=arguments.length,e=1;e<n;e++)r.push(arguments[e]);if(!t)throw new Error("Missing a parent object.");var i=Object.create(t);for(n=r.length,e=0;e<n;e++){var s=r[e],o,a;for(a in s)s.hasOwnProperty(a)&&(delete i[a],o=Object.getOwnPropertyDescriptor(s,a),Object.defineProperty(i,a,o))}return i}const Lt=function(t){if(!(this instanceof Lt))return new Lt(t);if(typeof t=="string")return new Lt.parse(t);this.segments=[];var e,n;if(t)if(Array.isArray(t)&&t.length!==0)if(t=t.reduce(function(a,l){return a.concat(l)},[]),n=t.length,t[0].isSegment)for(e=0;e<n;e++){var r=t[e];this.appendSegment(r)}else{var i=null;for(e=0;e<n;e++){var s=t[e];if(!(s instanceof Ot||s instanceof Ie))throw new Error("Cannot construct a path segment from the provided object.");e===0&&this.appendSegment(Lt.createSegment("M",s.start)),i&&!i.end.equals(s.start)&&this.appendSegment(Lt.createSegment("M",s.start)),s instanceof Ot?this.appendSegment(Lt.createSegment("L",s.end)):s instanceof Ie&&this.appendSegment(Lt.createSegment("C",s.controlPoint1,s.controlPoint2,s.end)),i=s}}else if(t.isSegment)this.appendSegment(t);else if(t instanceof Ot)this.appendSegment(Lt.createSegment("M",t.start)),this.appendSegment(Lt.createSegment("L",t.end));else if(t instanceof Ie)this.appendSegment(Lt.createSegment("M",t.start)),this.appendSegment(Lt.createSegment("C",t.controlPoint1,t.controlPoint2,t.end));else if(t instanceof Me){if(!(t.points&&t.points.length!==0))return;for(n=t.points.length,e=0;e<n;e++){var o=t.points[e];e===0?this.appendSegment(Lt.createSegment("M",o)):this.appendSegment(Lt.createSegment("L",o))}}else throw new Error("Cannot construct a path from the provided object.")};Lt.parse=function(t){if(!t)return new Lt;for(var e=new Lt,n=/(?:[a-zA-Z] *)(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)? *,? *)|(?:-?\.\d+ *,? *))+|(?:[a-zA-Z] *)(?! |\d|-|\.)/g,r=t.match(n),i=r.length,s=0;s<i;s++){var o=r[s],a=/(?:[a-zA-Z])|(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)?))|(?:(?:-?\.\d+))/g,l=o.match(a),u=Lt.createSegment.apply(this,l);e.appendSegment(u)}return e};Lt.createSegment=function(t){if(!t)throw new Error("Type must be provided.");var e=Lt.segmentTypes[t];if(!e)throw new Error(t+" is not a recognized path segment type.");for(var n=[],r=arguments.length,i=1;i<r;i++)n.push(arguments[i]);return wr(e,n)};Lt.prototype={type:te.Path,appendSegment:function(t){var e=this.segments,n=e.length,r,i=n!==0?e[n-1]:null,s=null;if(Array.isArray(t)){if(t=t.reduce(function(u,h){return u.concat(h)},[]),!t[0].isSegment)throw new Error("Segments required.");for(var o=t.length,a=0;a<o;a++){var l=t[a];r=this.prepareSegment(l,i,s),e.push(r),i=r}}else{if(!t||!t.isSegment)throw new Error("Segment required.");r=this.prepareSegment(t,i,s),e.push(r)}},bbox:function(){var t=this.segments,e=t.length;if(e===0)return null;for(var n,r=0;r<e;r++){var i=t[r];if(i.isVisible){var s=i.bbox();n=n?n.union(s):s}}if(n)return n;var o=t[e-1];return new Pt(o.end.x,o.end.y,0,0)},clone:function(){for(var t=this.segments,e=t.length,n=new Lt,r=0;r<e;r++){var i=t[r].clone();n.appendSegment(i)}return n},closestPoint:function(t,e){var n=this.closestPointT(t,e);return n?this.pointAtT(n):null},closestPointLength:function(t,e){e=e||{};var n=e.precision===void 0?this.PRECISION:e.precision,r=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:n}):e.segmentSubdivisions,i={precision:n,segmentSubdivisions:r},s=this.closestPointT(t,i);return s?this.lengthAtT(s,i):0},closestPointNormalizedLength:function(t,e){e=e||{};var n=e.precision===void 0?this.PRECISION:e.precision,r=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:n}):e.segmentSubdivisions,i={precision:n,segmentSubdivisions:r},s=this.closestPointLength(t,i);if(s===0)return 0;var o=this.length(i);return o===0?0:s/o},closestPointT:function(t,e){var n=this.segments,r=n.length;if(r===0)return null;e=e||{};for(var i=e.precision===void 0?this.PRECISION:e.precision,s=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):e.segmentSubdivisions,o,a=1/0,l=0;l<r;l++){var u=n[l],h=s[l];if(u.isVisible){var f=u.closestPointT(t,{precision:i,subdivisions:h}),v=u.pointAtT(f),C=new Ot(v,t).squaredLength();C<a&&(o={segmentIndex:l,value:f},a=C)}}return o||{segmentIndex:r-1,value:1}},closestPointTangent:function(t,e){var n=this.segments,r=n.length;if(r===0)return null;e=e||{};for(var i=e.precision===void 0?this.PRECISION:e.precision,s=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):e.segmentSubdivisions,o,a=1/0,l=0;l<r;l++){var u=n[l],h=s[l];if(u.isDifferentiable()){var f=u.closestPointT(t,{precision:i,subdivisions:h}),v=u.pointAtT(f),C=new Ot(v,t).squaredLength();C<a&&(o=u.tangentAtT(f),a=C)}}return o||null},containsPoint:function(t,e){var n=this.toPolylines(e);if(!n)return!1;for(var r=n.length,i=0,s=0;s<r;s++){var o=n[s];o.containsPoint(t)&&i++}return i%2===1},divideAt:function(t,e){var n=this.segments,r=n.length;if(r===0)return null;t<0&&(t=0),t>1&&(t=1),e=e||{};var i=e.precision===void 0?this.PRECISION:e.precision,s=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):e.segmentSubdivisions,o={precision:i,segmentSubdivisions:s},a=this.length(o),l=a*t;return this.divideAtLength(l,o)},divideAtLength:function(t,e){var n=this.segments.length;if(n===0)return null;var r=!0;t<0&&(r=!1,t=-t),e=e||{};var i=e.precision===void 0?this.PRECISION:e.precision,s=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):e.segmentSubdivisions,o,a,l=0,u,h,f,v,C;for(o=0;o<n;o++){var b=r?o:n-1-o;a=this.getSegment(b);var w=s[b],O=a.length({precision:i,subdivisions:w});if(a.isDifferentiable()&&(f=a,v=b,t<=l+O)){h=b,u=a.divideAtLength((r?1:-1)*(t-l),{precision:i,subdivisions:w});break}l+=O}if(!f)return null;u||(h=v,C=r?1:0,u=f.divideAtT(C));var k=this.clone();k.replaceSegment(h,u);var R=h,U=h+1,F=h+2;u[0].isDifferentiable()||(k.removeSegment(R),U-=1,F-=1);var y=k.getSegment(U).start;k.insertSegment(U,Lt.createSegment("M",y)),F+=1,u[1].isDifferentiable()||(k.removeSegment(F-1),F-=1);var d=F-R-1;for(o=F;o<k.segments.length;o++){var S=this.getSegment(o-d);if(a=k.getSegment(o),a.type==="Z"&&!S.subpathStartSegment.end.equals(a.subpathStartSegment.end)){var E=Lt.createSegment("L",S.end);k.replaceSegment(o,E)}}var z=new Lt(k.segments.slice(0,U)),W=new Lt(k.segments.slice(U));return[z,W]},equals:function(t){if(!t)return!1;var e=this.segments,n=t.segments,r=e.length;if(n.length!==r)return!1;for(var i=0;i<r;i++){var s=e[i],o=n[i];if(s.type!==o.type||!s.equals(o))return!1}return!0},getSegment:function(t){var e=this.segments,n=e.length;if(n===0)throw new Error("Path has no segments.");if(t<0&&(t=n+t),t>=n||t<0)throw new Error("Index out of range.");return e[t]},getSegmentSubdivisions:function(t){var e=this.segments,n=e.length;t=t||{};for(var r=t.precision===void 0?this.PRECISION:t.precision,i=[],s=0;s<n;s++){var o=e[s],a=o.getSubdivisions({precision:r});i.push(a)}return i},getSubpaths:function(){const e=this.clone().validate().segments,n=e.length,r=[];for(let i=0;i<n;i++){const s=e[i];s.isSubpathStart?r.push(new Lt(s)):r[r.length-1].appendSegment(s)}return r},insertSegment:function(t,e){var n=this.segments,r=n.length;if(t<0&&(t=r+t+1),t>r||t<0)throw new Error("Index out of range.");var i,s=null,o=null;if(r!==0&&(t>=1?(s=n[t-1],o=s.nextSegment):o=n[0]),Array.isArray(e)){if(e=e.reduce(function(h,f){return h.concat(f)},[]),!e[0].isSegment)throw new Error("Segments required.");for(var a=e.length,l=0;l<a;l++){var u=e[l];i=this.prepareSegment(u,s,o),n.splice(t+l,0,i),s=i}}else{if(!e||!e.isSegment)throw new Error("Segment required.");i=this.prepareSegment(e,s,o),n.splice(t,0,i)}},intersectionWithLine:function(t,e){var n=null,r=this.toPolylines(e);if(!r)return null;for(var i=0,s=r.length;i<s;i++){var o=r[i],a=t.intersect(o);a&&(n||(n=[]),Array.isArray(a)?Array.prototype.push.apply(n,a):n.push(a))}return n},isDifferentiable:function(){for(var t=this.segments,e=t.length,n=0;n<e;n++){var r=t[n];if(r.isDifferentiable())return!0}return!1},isValid:function(){var t=this.segments,e=t.length===0||t[0].type==="M";return e},length:function(t){var e=this.segments,n=e.length;if(n===0)return 0;t=t||{};for(var r=t.precision===void 0?this.PRECISION:t.precision,i=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):t.segmentSubdivisions,s=0,o=0;o<n;o++){var a=e[o],l=i[o];s+=a.length({subdivisions:l})}return s},lengthAtT:function(t,e){var n=this.segments,r=n.length;if(r===0)return 0;var i=t.segmentIndex;if(i<0)return 0;var s=t.value;i>=r?(i=r-1,s=1):s<0?s=0:s>1&&(s=1),e=e||{};for(var o=e.precision===void 0?this.PRECISION:e.precision,a=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:o}):e.segmentSubdivisions,l,u=0,h=0;h<i;h++){var f=n[h];l=a[h],u+=f.length({precisison:o,subdivisions:l})}return f=n[i],l=a[i],u+=f.lengthAtT(s,{precisison:o,subdivisions:l}),u},pointAt:function(t,e){var n=this.segments,r=n.length;if(r===0)return null;if(t<=0)return this.start.clone();if(t>=1)return this.end.clone();e=e||{};var i=e.precision===void 0?this.PRECISION:e.precision,s=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):e.segmentSubdivisions,o={precision:i,segmentSubdivisions:s},a=this.length(o),l=a*t;return this.pointAtLength(l,o)},pointAtLength:function(t,e){var n=this.segments,r=n.length;if(r===0)return null;if(t===0)return this.start.clone();var i=!0;t<0&&(i=!1,t=-t),e=e||{};for(var s=e.precision===void 0?this.PRECISION:e.precision,o=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:s}):e.segmentSubdivisions,a,l=0,u=0;u<r;u++){var h=i?u:r-1-u,f=n[h],v=o[h],C=f.length({precision:s,subdivisions:v});if(f.isVisible){if(t<=l+C)return f.pointAtLength((i?1:-1)*(t-l),{precision:s,subdivisions:v});a=f}l+=C}if(a)return i?a.end:a.start;var b=n[r-1];return b.end.clone()},pointAtT:function(t){var e=this.segments,n=e.length;if(n===0)return null;var r=t.segmentIndex;if(r<0)return e[0].pointAtT(0);if(r>=n)return e[n-1].pointAtT(1);var i=t.value;return i<0?i=0:i>1&&(i=1),e[r].pointAtT(i)},PRECISION:3,prepareSegment:function(t,e,n){t.previousSegment=e,t.nextSegment=n,e&&(e.nextSegment=t),n&&(n.previousSegment=t);var r=t;return t.isSubpathStart&&(t.subpathStartSegment=t,r=n),r&&this.updateSubpathStartSegment(r),t},removeSegment:function(t){var e=this.segments,n=e.length;if(n===0)throw new Error("Path has no segments.");if(t<0&&(t=n+t),t>=n||t<0)throw new Error("Index out of range.");var r=e.splice(t,1)[0],i=r.previousSegment,s=r.nextSegment;i&&(i.nextSegment=s),s&&(s.previousSegment=i),r.isSubpathStart&&s&&this.updateSubpathStartSegment(s)},replaceSegment:function(t,e){var n=this.segments,r=n.length;if(r===0)throw new Error("Path has no segments.");if(t<0&&(t=r+t),t>=r||t<0)throw new Error("Index out of range.");var i,s=n[t],o=s.previousSegment,a=s.nextSegment,l=s.isSubpathStart;if(Array.isArray(e)){if(e=e.reduce(function(v,C){return v.concat(C)},[]),!e[0].isSegment)throw new Error("Segments required.");n.splice(t,1);for(var u=e.length,h=0;h<u;h++){var f=e[h];i=this.prepareSegment(f,o,a),n.splice(t+h,0,i),o=i,l&&i.isSubpathStart&&(l=!1)}}else{if(!e||!e.isSegment)throw new Error("Segment required.");i=this.prepareSegment(e,o,a),n.splice(t,1,i),l&&i.isSubpathStart&&(l=!1)}l&&a&&this.updateSubpathStartSegment(a)},round:function(t){for(var e=this.segments,n=e.length,r=0;r<n;r++){var i=e[r];i.round(t)}return this},scale:function(t,e,n){for(var r=this.segments,i=r.length,s=0;s<i;s++){var o=r[s];o.scale(t,e,n)}return this},segmentAt:function(t,e){var n=this.segmentIndexAt(t,e);return n?this.getSegment(n):null},segmentAtLength:function(t,e){var n=this.segmentIndexAtLength(t,e);return n?this.getSegment(n):null},segmentIndexAt:function(t,e){var n=this.segments,r=n.length;if(r===0)return null;t<0&&(t=0),t>1&&(t=1),e=e||{};var i=e.precision===void 0?this.PRECISION:e.precision,s=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):e.segmentSubdivisions,o={precision:i,segmentSubdivisions:s},a=this.length(o),l=a*t;return this.segmentIndexAtLength(l,o)},segmentIndexAtLength:function(t,e){var n=this.segments,r=n.length;if(r===0)return null;var i=!0;t<0&&(i=!1,t=-t),e=e||{};for(var s=e.precision===void 0?this.PRECISION:e.precision,o=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:s}):e.segmentSubdivisions,a=null,l=0,u=0;u<r;u++){var h=i?u:r-1-u,f=n[h],v=o[h],C=f.length({precision:s,subdivisions:v});if(f.isVisible){if(t<=l+C)return h;a=h}l+=C}return a},serialize:function(){if(!this.isValid())throw new Error("Invalid path segments.");return this.toString()},tangentAt:function(t,e){var n=this.segments,r=n.length;if(r===0)return null;t<0&&(t=0),t>1&&(t=1),e=e||{};var i=e.precision===void 0?this.PRECISION:e.precision,s=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):e.segmentSubdivisions,o={precision:i,segmentSubdivisions:s},a=this.length(o),l=a*t;return this.tangentAtLength(l,o)},tangentAtLength:function(t,e){var n=this.segments,r=n.length;if(r===0)return null;var i=!0;t<0&&(i=!1,t=-t),e=e||{};for(var s=e.precision===void 0?this.PRECISION:e.precision,o=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:s}):e.segmentSubdivisions,a,l=0,u=0;u<r;u++){var h=i?u:r-1-u,f=n[h],v=o[h],C=f.length({precision:s,subdivisions:v});if(f.isDifferentiable()){if(t<=l+C)return f.tangentAtLength((i?1:-1)*(t-l),{precision:s,subdivisions:v});a=f}l+=C}if(a){var b=i?1:0;return a.tangentAtT(b)}return null},tangentAtT:function(t){var e=this.segments,n=e.length;if(n===0)return null;var r=t.segmentIndex;if(r<0)return e[0].tangentAtT(0);if(r>=n)return e[n-1].tangentAtT(1);var i=t.value;return i<0?i=0:i>1&&(i=1),e[r].tangentAtT(i)},toPoints:function(t){var e=this.segments,n=e.length;if(n===0)return null;t=t||{};for(var r=t.precision===void 0?this.PRECISION:t.precision,i=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):t.segmentSubdivisions,s=[],o=[],a=0;a<n;a++){var l=e[a];if(l.isVisible){var u=i[a];if(u.length>0){var h=u.map(function(f){return f.start});Array.prototype.push.apply(o,h)}else o.push(l.start)}else o.length>0&&(o.push(e[a-1].end),s.push(o),o=[])}return o.length>0&&(o.push(this.end),s.push(o)),s},toPolylines:function(t){var e=[],n=this.toPoints(t);if(!n)return null;for(var r=0,i=n.length;r<i;r++)e.push(new Me(n[r]));return e},toString:function(){for(var t=this.segments,e=t.length,n="",r=0;r<e;r++){var i=t[r];n+=i.serialize()+" "}return n.trim()},translate:function(t,e){for(var n=this.segments,r=n.length,i=0;i<r;i++){var s=n[i];s.translate(t,e)}return this},updateSubpathStartSegment:function(t){for(var e=t.previousSegment;t&&!t.isSubpathStart;)e?t.subpathStartSegment=e.subpathStartSegment:t.subpathStartSegment=null,e=t,t=t.nextSegment},validate:function(){return this.isValid()||this.insertSegment(0,Lt.createSegment("M",0,0)),this}};Object.defineProperty(Lt.prototype,"start",{configurable:!0,enumerable:!0,get:function(){var t=this.segments,e=t.length;if(e===0)return null;for(var n=0;n<e;n++){var r=t[n];if(r.isVisible)return r.start}return t[e-1].end}});Object.defineProperty(Lt.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var t=this.segments,e=t.length;if(e===0)return null;for(var n=e-1;n>=0;n--){var r=t[n];if(r.isVisible)return r.end}return t[e-1].end}});function wr(t,e){return e.unshift(null),new(Function.prototype.bind.apply(t,e))}var Wi={bbox:function(){throw new Error("Declaration missing for virtual function.")},clone:function(){throw new Error("Declaration missing for virtual function.")},closestPoint:function(){throw new Error("Declaration missing for virtual function.")},closestPointLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointNormalizedLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointT:function(t){if(this.closestPointNormalizedLength)return this.closestPointNormalizedLength(t);throw new Error("Neither closestPointT() nor closestPointNormalizedLength() function is implemented.")},closestPointTangent:function(){throw new Error("Declaration missing for virtual function.")},divideAt:function(){throw new Error("Declaration missing for virtual function.")},divideAtLength:function(){throw new Error("Declaration missing for virtual function.")},divideAtT:function(t){if(this.divideAt)return this.divideAt(t);throw new Error("Neither divideAtT() nor divideAt() function is implemented.")},equals:function(){throw new Error("Declaration missing for virtual function.")},getSubdivisions:function(){throw new Error("Declaration missing for virtual function.")},isDifferentiable:function(){throw new Error("Declaration missing for virtual function.")},isSegment:!0,isSubpathStart:!1,isVisible:!0,length:function(){throw new Error("Declaration missing for virtual function.")},lengthAtT:function(t){if(t<=0)return 0;var e=this.length();return t>=1?e:e*t},nextSegment:null,pointAt:function(){throw new Error("Declaration missing for virtual function.")},pointAtLength:function(){throw new Error("Declaration missing for virtual function.")},pointAtT:function(t){if(this.pointAt)return this.pointAt(t);throw new Error("Neither pointAtT() nor pointAt() function is implemented.")},previousSegment:null,round:function(){throw new Error("Declaration missing for virtual function.")},subpathStartSegment:null,scale:function(){throw new Error("Declaration missing for virtual function.")},serialize:function(){throw new Error("Declaration missing for virtual function.")},tangentAt:function(){throw new Error("Declaration missing for virtual function.")},tangentAtLength:function(){throw new Error("Declaration missing for virtual function.")},tangentAtT:function(t){if(this.tangentAt)return this.tangentAt(t);throw new Error("Neither tangentAtT() nor tangentAt() function is implemented.")},toString:function(){throw new Error("Declaration missing for virtual function.")},translate:function(){throw new Error("Declaration missing for virtual function.")}};Object.defineProperty(Wi,"end",{configurable:!0,enumerable:!0,writable:!0});Object.defineProperty(Wi,"start",{configurable:!0,enumerable:!0,get:function(){if(!this.previousSegment)throw new Error("Missing previous segment. (This segment cannot be the first segment of a path; OR segment has not yet been added to a path.)");return this.previousSegment.end}});Object.defineProperty(Wi,"type",{configurable:!0,enumerable:!0,get:function(){throw new Error("Bad segment declaration. No type specified.")}});var en=function(){for(var t=[],e=arguments.length,n=0;n<e;n++)t.push(arguments[n]);if(!(this instanceof en))return wr(en,t);if(e===0)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates (none provided).");var r;if(t[0]instanceof Ot){if(e===1)return this.end=t[0].end.clone(),this;throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+e+" lines provided).")}else if(typeof t[0]=="string"||typeof t[0]=="number"){if(e===2)return this.end=new Z(+t[0],+t[1]),this;if(e<2)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+e+" coordinates provided).");var i;for(r=[],n=0;n<e;n+=2)i=t.slice(n,n+2),r.push(wr(en,i));return r}else{if(e===1)return this.end=new Z(t[0]),this;var s;for(r=[],n=0;n<e;n+=1)s=t[n],r.push(new en(s));return r}},zv={clone:function(){return new en(this.end)},divideAt:function(t){var e=new Ot(this.start,this.end),n=e.divideAt(t);return[new en(n[0]),new en(n[1])]},divideAtLength:function(t){var e=new Ot(this.start,this.end),n=e.divideAtLength(t);return[new en(n[0]),new en(n[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return this.previousSegment?!this.start.equals(this.end):!1},round:function(t){return this.end.round(t),this},scale:function(t,e,n){return this.end.scale(t,e,n),this},serialize:function(){var t=this.end;return this.type+" "+t.x+" "+t.y},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(t,e){return this.end.translate(t,e),this}};Object.defineProperty(zv,"type",{configurable:!0,enumerable:!0,value:"L"});en.prototype=zo(Wi,Ot.prototype,zv);var Ln=function(){for(var t=[],e=arguments.length,n=0;n<e;n++)t.push(arguments[n]);if(!(this instanceof Ln))return wr(Ln,t);if(e===0)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates (none provided).");var r;if(t[0]instanceof Ie){if(e===1)return this.controlPoint1=t[0].controlPoint1.clone(),this.controlPoint2=t[0].controlPoint2.clone(),this.end=t[0].end.clone(),this;throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+e+" curves provided).")}else if(typeof t[0]=="string"||typeof t[0]=="number"){if(e===6)return this.controlPoint1=new Z(+t[0],+t[1]),this.controlPoint2=new Z(+t[2],+t[3]),this.end=new Z(+t[4],+t[5]),this;if(e<6)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+e+" coordinates provided).");var i;for(r=[],n=0;n<e;n+=6)i=t.slice(n,n+6),r.push(wr(Ln,i));return r}else{if(e===3)return this.controlPoint1=new Z(t[0]),this.controlPoint2=new Z(t[1]),this.end=new Z(t[2]),this;if(e<3)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+e+" points provided).");var s;for(r=[],n=0;n<e;n+=3)s=t.slice(n,n+3),r.push(wr(Ln,s));return r}},Rv={clone:function(){return new Ln(this.controlPoint1,this.controlPoint2,this.end)},divideAt:function(t,e){var n=new Ie(this.start,this.controlPoint1,this.controlPoint2,this.end),r=n.divideAt(t,e);return[new Ln(r[0]),new Ln(r[1])]},divideAtLength:function(t,e){var n=new Ie(this.start,this.controlPoint1,this.controlPoint2,this.end),r=n.divideAtLength(t,e);return[new Ln(r[0]),new Ln(r[1])]},divideAtT:function(t){var e=new Ie(this.start,this.controlPoint1,this.controlPoint2,this.end),n=e.divideAtT(t);return[new Ln(n[0]),new Ln(n[1])]},isDifferentiable:function(){if(!this.previousSegment)return!1;var t=this.start,e=this.controlPoint1,n=this.controlPoint2,r=this.end;return!(t.equals(e)&&e.equals(n)&&n.equals(r))},round:function(t){return this.controlPoint1.round(t),this.controlPoint2.round(t),this.end.round(t),this},scale:function(t,e,n){return this.controlPoint1.scale(t,e,n),this.controlPoint2.scale(t,e,n),this.end.scale(t,e,n),this},serialize:function(){var t=this.controlPoint1,e=this.controlPoint2,n=this.end;return this.type+" "+t.x+" "+t.y+" "+e.x+" "+e.y+" "+n.x+" "+n.y},toString:function(){return this.type+" "+this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(t,e){return this.controlPoint1.translate(t,e),this.controlPoint2.translate(t,e),this.end.translate(t,e),this}};Object.defineProperty(Rv,"type",{configurable:!0,enumerable:!0,value:"C"});Ln.prototype=zo(Wi,Ie.prototype,Rv);var Pi=function(){for(var t=[],e=arguments.length,n=0;n<e;n++)t.push(arguments[n]);if(!(this instanceof Pi))return wr(Pi,t);if(e===0)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates (none provided).");var r;if(t[0]instanceof Ot){if(e===1)return this.end=t[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+e+" lines provided).")}else if(t[0]instanceof Ie){if(e===1)return this.end=t[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+e+" curves provided).")}else if(typeof t[0]=="string"||typeof t[0]=="number"){if(e===2)return this.end=new Z(+t[0],+t[1]),this;if(e<2)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+e+" coordinates provided).");var i;for(r=[],n=0;n<e;n+=2)i=t.slice(n,n+2),n===0?r.push(wr(Pi,i)):r.push(wr(en,i));return r}else{if(e===1)return this.end=new Z(t[0]),this;var s;for(r=[],n=0;n<e;n+=1)s=t[n],n===0?r.push(new Pi(s)):r.push(new en(s));return r}},Df={bbox:function(){return null},clone:function(){return new Pi(this.end)},closestPoint:function(){return this.end.clone()},closestPointNormalizedLength:function(){return 0},closestPointLength:function(){return 0},closestPointT:function(){return 1},closestPointTangent:function(){return null},divideAt:function(){return[this.clone(),this.clone()]},divideAtLength:function(){return[this.clone(),this.clone()]},equals:function(t){return this.end.equals(t.end)},getSubdivisions:function(){return[]},isDifferentiable:function(){return!1},isSubpathStart:!0,isVisible:!1,length:function(){return 0},lengthAtT:function(){return 0},pointAt:function(){return this.end.clone()},pointAtLength:function(){return this.end.clone()},pointAtT:function(){return this.end.clone()},round:function(t){return this.end.round(t),this},scale:function(t,e,n){return this.end.scale(t,e,n),this},serialize:function(){var t=this.end;return this.type+" "+t.x+" "+t.y},tangentAt:function(){return null},tangentAtLength:function(){return null},tangentAtT:function(){return null},toString:function(){return this.type+" "+this.end},translate:function(t,e){return this.end.translate(t,e),this}};Object.defineProperty(Df,"start",{configurable:!0,enumerable:!0,get:function(){throw new Error("Illegal access. Moveto segments should not need a start property.")}});Object.defineProperty(Df,"type",{configurable:!0,enumerable:!0,value:"M"});Pi.prototype=zo(Wi,Df);var ws=function(){for(var t=[],e=arguments.length,n=0;n<e;n++)t.push(arguments[n]);if(!(this instanceof ws))return wr(ws,t);if(e>0)throw new Error("Closepath constructor expects no arguments.");return this},Of={clone:function(){return new ws},divideAt:function(t){var e=new Ot(this.start,this.end),n=e.divideAt(t);return[n[1].isDifferentiable()?new en(n[0]):this.clone(),new en(n[1])]},divideAtLength:function(t){var e=new Ot(this.start,this.end),n=e.divideAtLength(t);return[n[1].isDifferentiable()?new en(n[0]):this.clone(),new en(n[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return!this.previousSegment||!this.subpathStartSegment?!1:!this.start.equals(this.end)},round:function(){return this},scale:function(){return this},serialize:function(){return this.type},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(){return this}};Object.defineProperty(Of,"end",{configurable:!0,enumerable:!0,get:function(){if(!this.subpathStartSegment)throw new Error("Missing subpath start segment. (This segment needs a subpath start segment (e.g. Moveto); OR segment has not yet been added to a path.)");return this.subpathStartSegment.end}});Object.defineProperty(Of,"type",{configurable:!0,enumerable:!0,value:"Z"});ws.prototype=zo(Wi,Ot.prototype,Of);var uM=Lt.segmentTypes={L:en,C:Ln,M:Pi,Z:ws,z:ws};Lt.regexSupportedData=new RegExp("^[\\s\\d"+Object.keys(uM).join("")+",.]*$");Lt.isDataSupported=function(t){return typeof t!="string"?!1:this.regexSupportedData.test(t)};const fM={curveThroughPoints:function(t){return console.warn("deprecated"),new Lt(Ie.throughPoints(t)).serialize()},getCurveControlPoints:function(t){console.warn("deprecated");var e=[],n=[],r=t.length-1,i;if(r==1)return e[0]=new Z((2*t[0].x+t[1].x)/3,(2*t[0].y+t[1].y)/3),n[0]=new Z(2*e[0].x-t[0].x,2*e[0].y-t[0].y),[e,n];var s=[];for(i=1;i<r-1;i++)s[i]=4*t[i].x+2*t[i+1].x;s[0]=t[0].x+2*t[1].x,s[r-1]=(8*t[r-1].x+t[r].x)/2;var o=this.getFirstControlPoints(s);for(i=1;i<r-1;++i)s[i]=4*t[i].y+2*t[i+1].y;s[0]=t[0].y+2*t[1].y,s[r-1]=(8*t[r-1].y+t[r].y)/2;var a=this.getFirstControlPoints(s);for(i=0;i<r;i++)e.push(new Z(o[i],a[i])),i<r-1?n.push(new Z(2*t[i+1].x-o[i+1],2*t[i+1].y-a[i+1])):n.push(new Z((t[r].x+o[r-1])/2,(t[r].y+a[r-1])/2));return[e,n]},getCurveDivider:function(t,e,n,r){console.warn("deprecated");var i=new Ie(t,e,n,r);return function(o){var a=i.divide(o);return[{p0:a[0].start,p1:a[0].controlPoint1,p2:a[0].controlPoint2,p3:a[0].end},{p0:a[1].start,p1:a[1].controlPoint1,p2:a[1].controlPoint2,p3:a[1].end}]}},getFirstControlPoints:function(t){console.warn("deprecated");var e=t.length,n=[],r=[],i=2;n[0]=t[0]/i;for(var s=1;s<e;s++)r[s]=1/i,i=(s<e-1?4:3.5)-r[s],n[s]=(t[s]-n[s-1])/i;for(s=1;s<e;s++)n[e-s-1]-=r[e-s]*n[e-s];return n},getInversionSolver:function(t,e,n,r){console.warn("deprecated");var i=new Ie(t,e,n,r);return function(o){return i.closestPointT(o)}}},Sn=function(t){if(!(this instanceof Sn))return new Sn(t);if(typeof t=="string")return new Sn.parse(t);this.points=Array.isArray(t)?t.map(Z):[]};Sn.parse=function(t){return new Sn(Ov(t))};Sn.fromRect=function(t){return new Sn([t.topLeft(),t.topRight(),t.bottomRight(),t.bottomLeft()])};Sn.prototype=zo(Me.prototype,{type:te.Polygon,clone:function(){return new Sn(kv(this.points))},convexHull:function(){return new Sn(Lv(this.points))},lengthPoints:function(){const{start:t,end:e,points:n}=this;return n.length<=1||t.equals(e)?n:[...n,t.clone()]}});function Bv(t,e,n,r){switch(t.type){case te.Line:{switch(e.type){case te.Line:return _i(t,e)}break}case te.Ellipse:{switch(e.type){case te.Line:return kf(t,e);case te.Ellipse:return jv(t,e)}break}case te.Rect:{switch(e.type){case te.Line:return Gv(t,e);case te.Ellipse:return Zv(t,e);case te.Rect:return Lf(t,e)}break}case te.Polyline:{switch(e.type){case te.Line:return Ol(t,e);case te.Ellipse:return zf(t,e);case te.Rect:return Wv(t,e);case te.Polyline:return Uv(t,e)}break}case te.Polygon:{switch(e.type){case te.Line:return Rf(t,e);case te.Ellipse:return kl(t,e);case te.Rect:return Fv(t,e);case te.Polyline:return Yv(t,e);case te.Polygon:return Vv(t,e)}break}case te.Path:{switch(e.type){case te.Line:return Xv(t,e,n);case te.Ellipse:return Hv(t,e,n);case te.Rect:return Jv(t,e,n);case te.Polyline:return Bf(t,e,n);case te.Polygon:return Ll(t,e,n);case te.Path:return $v(t,e,n,r)}break}}switch(e.type){case te.Ellipse:case te.Rect:case te.Polyline:case te.Polygon:case te.Path:return Bv(e,t,r,n);default:throw Error(`The intersection for ${t} and ${e} could not be found.`)}}function _i(t,e){const n=t.start.x,r=t.start.y,i=t.end.x,s=t.end.y,o=e.start.x,a=e.start.y,l=e.end.x,u=e.end.y,h=i-n,f=s-r,v=l-o,C=u-a,b=n-o,w=r-a,O=h*C-v*f,k=(h*w-f*b)/O,R=(v*w-C*b)/O;return k>=0&&k<=1&&R>=0&&R<=1}function kf(t,e){const n=t.a,r=t.b,i=t.x,s=t.y,o=e.start.x-i,a=e.end.x-i,l=e.start.y-s,u=e.end.y-s,h=n*n,f=r*r,v=a-o,C=u-l,b=v*v/h+C*C/f,w=2*o*v/h+2*l*C/f,O=o*o/h+l*l/f-1,k=w*w-4*b*O;if(k===0){const R=-w/2/b;return R>=0&&R<=1}else if(k>0){const R=Math.sqrt(k),U=(-w+R)/2/b,F=(-w-R)/2/b;return U>=0&&U<=1||F>=0&&F<=1}return!1}function jv(t,e){return dM(t,0,e,0)}function Gv(t,e){const{start:n,end:r}=e,{x:i,y:s,width:o,height:a}=t;return n.x>i+o&&r.x>i+o||n.x<i&&r.x<i||n.y>s+a&&r.y>s+a||n.y<s&&r.y<s?!1:t.containsPoint(e.start)||t.containsPoint(e.end)?!0:_i(t.topLine(),e)||_i(t.rightLine(),e)||_i(t.bottomLine(),e)||_i(t.leftLine(),e)}function Zv(t,e){return Lf(t,Pt.fromEllipse(e))?kl(Sn.fromRect(t),e):!1}function Lf(t,e){return t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.y+t.height>e.y}function Ol(t,e){return Kv(t,e,{interior:!1})}function zf(t,e){return Qv(t,e,{interior:!1})}function Wv(t,e){return qv(t,e,{interior:!1})}function Uv(t,e){return zl(t,e,{interior:!1})}function Rf(t,e){return Kv(t,e,{interior:!0})}function kl(t,e){return Qv(t,e,{interior:!0})}function Fv(t,e){return qv(t,e,{interior:!0})}function Yv(t,e){return zl(t,e,{interior:!0})}function Vv(t,e){return jf(t,e,{interior:!0})}function Xv(t,e,n){return t.getSubpaths().some(r=>{const[i]=r.toPolylines(n),{type:s}=r.getSegment(-1);return s==="Z"?Rf(i,e):Ol(i,e)})}function Hv(t,e,n){return t.getSubpaths().some(r=>{const[i]=r.toPolylines(n),{type:s}=r.getSegment(-1);return s==="Z"?kl(i,e):zf(i,e)})}function Jv(t,e,n){return Ll(t,Sn.fromRect(e),n)}function Bf(t,e,n){return t0(t,e,n,{interior:!1})}function Ll(t,e,n){return t0(t,e,n,{interior:!0})}function $v(t,e,n,r){return t.getSubpaths().some(i=>{const[s]=i.toPolylines(n),{type:o}=i.getSegment(-1);return o==="Z"?Ll(e,s,r):Bf(e,s,r)})}function Kv(t,e,n={}){const{interior:r=!1}=n;let i;if(r){if(t.containsPoint(e.start))return!0;const{start:a,end:l,points:u}=t;i=l.equals(a)?u:[...u,a]}else i=t.points;const{length:s}=i,o=new Ot;for(let a=0;a<s-1;a++)if(o.start=i[a],o.end=i[a+1],_i(e,o))return!0;return!1}function Qv(t,e,n={}){const{start:r,end:i,points:s}=t;if(e.containsPoint(r))return!0;let o;const{interior:a=!1}=n;if(a){if(t.containsPoint(e.center()))return!0;o=i.equals(r)?s:[...s,r]}else o=s;const{length:l}=o,u=new Ot;for(let h=0;h<l-1;h++)if(u.start=o[h],u.end=o[h+1],kf(e,u))return!0;return!1}function qv(t,e,n){const r=Sn.fromRect(e);return jf(t,r,n)}function t0(t,e,n,r){return t.getSubpaths().some(i=>{const[s]=i.toPolylines(n),{type:o}=i.getSegment(-1);return o==="Z"?jf(e,s,r):zl(e,s,r)})}function zl(t,e,n={}){const{interior:r=!1}=n;let i;if(r){const{start:l}=e;if(t.containsPoint(l))return!0;i=t.clone().close()}else i=t;const s=e.points,{length:o}=s,a=new Ot;for(let l=0;l<o-1;l++)if(a.start=s[l],a.end=s[l+1],Ol(i,a))return!0;return!1}function jf(t,e,n){return e.containsPoint(t.start)||zl(t,e.clone().close(),n)}function dM(t,e,n,r){const{cos:i,sin:s}=Math,o=s(e),a=i(e),l=s(r),u=i(r),h=o*o,f=a*a,v=o*a,C=l*l,b=u*u,w=l*u,O=t.a*t.a,k=t.b*t.b,R=n.a*n.a,U=n.b*n.b,F=O*h+k*f,y=R*C+U*b,d=O*f+k*h,S=R*b+U*C;let E=2*(k-O)*v,z=2*(U-R)*w,W=-2*F*t.x-E*t.y,$=-2*y*n.x-z*n.y,Q=-E*t.x-2*d*t.y,ut=-z*n.x-2*S*n.y;const dt=F*t.x*t.x+d*t.y*t.y+E*t.x*t.y-O*k,Ct=y*n.x*n.x+S*n.y*n.y+z*n.x*n.y-R*U;E=E/2,z=z/2,W=W/2,$=$/2,Q=Q/2,ut=ut/2;const vt=Kr([[F,E,W],[E,d,Q],[W,Q,dt]]),mt=Kr([[y,z,$],[z,S,ut],[$,ut,Ct]]),St=.33333333*(Kr([[y,E,W],[z,d,Q],[$,Q,dt]])+Kr([[F,z,W],[E,S,Q],[W,ut,dt]])+Kr([[F,E,$],[E,d,ut],[W,Q,Ct]])),Mt=.33333333*(Kr([[F,z,$],[E,S,ut],[W,ut,Ct]])+Kr([[y,E,$],[z,d,ut],[$,Q,Ct]])+Kr([[y,z,W],[z,S,Q],[$,ut,dt]])),Zt=Ia([[vt,St],[St,Mt]]),kt=Ia([[vt,Mt],[St,mt]]),q=Ia([[St,Mt],[Mt,mt]]);return!(Ia([[2*Zt,kt],[kt,2*q]])>0&&(Mt>0||St>0))}function Ia(t){return t[0][0]*t[1][1]-t[0][1]*t[1][0]}function Kr(t){return t[0][0]*t[1][1]*t[2][2]-t[0][0]*t[1][2]*t[2][1]-t[0][1]*t[1][0]*t[2][2]+t[0][1]*t[1][2]*t[2][0]+t[0][2]*t[1][0]*t[2][1]-t[0][2]*t[1][1]*t[2][0]}const hM=Object.freeze(Object.defineProperty({__proto__:null,ellipseWithEllipse:jv,ellipseWithLine:kf,exists:Bv,lineWithLine:_i,pathWithEllipse:Hv,pathWithLine:Xv,pathWithPath:$v,pathWithPolygon:Ll,pathWithPolyline:Bf,pathWithRect:Jv,polygonWithEllipse:kl,polygonWithLine:Rf,polygonWithPolygon:Vv,polygonWithPolyline:Yv,polygonWithRect:Fv,polylineWithEllipse:zf,polylineWithLine:Ol,polylineWithPolyline:Uv,polylineWithRect:Wv,rectWithEllipse:Zv,rectWithLine:Gv,rectWithRect:Lf},Symbol.toStringTag,{value:"Module"})),gM=hM,pM=Object.freeze(Object.defineProperty({__proto__:null,Curve:Ie,Ellipse:mn,Line:Ot,Path:Lt,Point:Z,Polygon:Sn,Polyline:Me,Rect:Pt,bezier:fM,ellipse:iM,intersection:gM,line:ki,normalizeAngle:Mr,point:Qa,random:Pu,rect:lM,scale:qN,snapToGrid:Ri,toDeg:Dl,toRad:xn,types:te},Symbol.toStringTag,{value:"Module"}));var Qs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function e0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function mM(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var n0={},Gf="1.13.6",Qg=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},Rl=Array.prototype,Zf=Object.prototype,qg=typeof Symbol<"u"?Symbol.prototype:null,vM=Rl.push,Ro=Rl.slice,Ao=Zf.toString,IM=Zf.hasOwnProperty,r0=typeof ArrayBuffer<"u",yM=typeof DataView<"u",AM=Array.isArray,tp=Object.keys,ep=Object.create,np=r0&&ArrayBuffer.isView,CM=isNaN,bM=isFinite,i0=!{toString:null}.propertyIsEnumerable("toString"),rp=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],wM=Math.pow(2,53)-1;function In(t,e){return e=e==null?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var s=Array(e+1);for(i=0;i<e;i++)s[i]=arguments[i];return s[e]=r,t.apply(this,s)}}function ci(t){var e=typeof t;return e==="function"||e==="object"&&!!t}function s0(t){return t===null}function Wf(t){return t===void 0}function Uf(t){return t===!0||t===!1||Ao.call(t)==="[object Boolean]"}function o0(t){return!!(t&&t.nodeType===1)}function un(t){var e="[object "+t+"]";return function(n){return Ao.call(n)===e}}const Bl=un("String"),Ff=un("Number"),a0=un("Date"),l0=un("RegExp"),c0=un("Error"),Yf=un("Symbol"),Vf=un("ArrayBuffer");var u0=un("Function"),xM=Qg.document&&Qg.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof xM!="function"&&(u0=function(t){return typeof t=="function"||!1});const cn=u0,f0=un("Object");var d0=yM&&f0(new DataView(new ArrayBuffer(8))),Xf=typeof Map<"u"&&f0(new Map),SM=un("DataView");function NM(t){return t!=null&&cn(t.getInt8)&&Vf(t.buffer)}const Co=d0?NM:SM,ui=AM||un("Array");function fi(t,e){return t!=null&&IM.call(t,e)}var Du=un("Arguments");(function(){Du(arguments)||(Du=function(t){return fi(t,"callee")})})();const jl=Du;function h0(t){return!Yf(t)&&bM(t)&&!isNaN(parseFloat(t))}function Hf(t){return Ff(t)&&CM(t)}function Jf(t){return function(){return t}}function g0(t){return function(e){var n=t(e);return typeof n=="number"&&n>=0&&n<=wM}}function p0(t){return function(e){return e==null?void 0:e[t]}}const qa=p0("byteLength"),MM=g0(qa);var TM=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function PM(t){return np?np(t)&&!Co(t):MM(t)&&TM.test(Ao.call(t))}const $f=r0?PM:Jf(!1),Tn=p0("length");function _M(t){for(var e={},n=t.length,r=0;r<n;++r)e[t[r]]=!0;return{contains:function(i){return e[i]===!0},push:function(i){return e[i]=!0,t.push(i)}}}function m0(t,e){e=_M(e);var n=rp.length,r=t.constructor,i=cn(r)&&r.prototype||Zf,s="constructor";for(fi(t,s)&&!e.contains(s)&&e.push(s);n--;)s=rp[n],s in t&&t[s]!==i[s]&&!e.contains(s)&&e.push(s)}function Ke(t){if(!ci(t))return[];if(tp)return tp(t);var e=[];for(var n in t)fi(t,n)&&e.push(n);return i0&&m0(t,e),e}function v0(t){if(t==null)return!0;var e=Tn(t);return typeof e=="number"&&(ui(t)||Bl(t)||jl(t))?e===0:Tn(Ke(t))===0}function Kf(t,e){var n=Ke(e),r=n.length;if(t==null)return!r;for(var i=Object(t),s=0;s<r;s++){var o=n[s];if(e[o]!==i[o]||!(o in i))return!1}return!0}function Ae(t){if(t instanceof Ae)return t;if(!(this instanceof Ae))return new Ae(t);this._wrapped=t}Ae.VERSION=Gf;Ae.prototype.value=function(){return this._wrapped};Ae.prototype.valueOf=Ae.prototype.toJSON=Ae.prototype.value;Ae.prototype.toString=function(){return String(this._wrapped)};function ip(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,qa(t))}var sp="[object DataView]";function Ou(t,e,n,r){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var i=typeof t;return i!=="function"&&i!=="object"&&typeof e!="object"?!1:I0(t,e,n,r)}function I0(t,e,n,r){t instanceof Ae&&(t=t._wrapped),e instanceof Ae&&(e=e._wrapped);var i=Ao.call(t);if(i!==Ao.call(e))return!1;if(d0&&i=="[object Object]"&&Co(t)){if(!Co(e))return!1;i=sp}switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return qg.valueOf.call(t)===qg.valueOf.call(e);case"[object ArrayBuffer]":case sp:return I0(ip(t),ip(e),n,r)}var s=i==="[object Array]";if(!s&&$f(t)){var o=qa(t);if(o!==qa(e))return!1;if(t.buffer===e.buffer&&t.byteOffset===e.byteOffset)return!0;s=!0}if(!s){if(typeof t!="object"||typeof e!="object")return!1;var a=t.constructor,l=e.constructor;if(a!==l&&!(cn(a)&&a instanceof a&&cn(l)&&l instanceof l)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],r=r||[];for(var u=n.length;u--;)if(n[u]===t)return r[u]===e;if(n.push(t),r.push(e),s){if(u=t.length,u!==e.length)return!1;for(;u--;)if(!Ou(t[u],e[u],n,r))return!1}else{var h=Ke(t),f;if(u=h.length,Ke(e).length!==u)return!1;for(;u--;)if(f=h[u],!(fi(e,f)&&Ou(t[f],e[f],n,r)))return!1}return n.pop(),r.pop(),!0}function y0(t,e){return Ou(t,e)}function Es(t){if(!ci(t))return[];var e=[];for(var n in t)e.push(n);return i0&&m0(t,e),e}function Qf(t){var e=Tn(t);return function(n){if(n==null)return!1;var r=Es(n);if(Tn(r))return!1;for(var i=0;i<e;i++)if(!cn(n[t[i]]))return!1;return t!==b0||!cn(n[qf])}}var qf="forEach",A0="has",td=["clear","delete"],C0=["get",A0,"set"],EM=td.concat(qf,C0),b0=td.concat(C0),DM=["add"].concat(td,qf,A0);const w0=Xf?Qf(EM):un("Map"),x0=Xf?Qf(b0):un("WeakMap"),S0=Xf?Qf(DM):un("Set"),N0=un("WeakSet");function Ui(t){for(var e=Ke(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=t[e[i]];return r}function M0(t){for(var e=Ke(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=[e[i],t[e[i]]];return r}function ed(t){for(var e={},n=Ke(t),r=0,i=n.length;r<i;r++)e[t[n[r]]]=n[r];return e}function bo(t){var e=[];for(var n in t)cn(t[n])&&e.push(n);return e.sort()}function nd(t,e){return function(n){var r=arguments.length;if(e&&(n=Object(n)),r<2||n==null)return n;for(var i=1;i<r;i++)for(var s=arguments[i],o=t(s),a=o.length,l=0;l<a;l++){var u=o[l];(!e||n[u]===void 0)&&(n[u]=s[u])}return n}}const rd=nd(Es),xs=nd(Ke),id=nd(Es,!0);function OM(){return function(){}}function T0(t){if(!ci(t))return{};if(ep)return ep(t);var e=OM();e.prototype=t;var n=new e;return e.prototype=null,n}function P0(t,e){var n=T0(t);return e&&xs(n,e),n}function _0(t){return ci(t)?ui(t)?t.slice():rd({},t):t}function E0(t,e){return e(t),t}function sd(t){return ui(t)?t:[t]}Ae.toPath=sd;function Bo(t){return Ae.toPath(t)}function od(t,e){for(var n=e.length,r=0;r<n;r++){if(t==null)return;t=t[e[r]]}return n?t:void 0}function ad(t,e,n){var r=od(t,Bo(e));return Wf(r)?n:r}function D0(t,e){e=Bo(e);for(var n=e.length,r=0;r<n;r++){var i=e[r];if(!fi(t,i))return!1;t=t[i]}return!!n}function Gl(t){return t}function Bi(t){return t=xs({},t),function(e){return Kf(e,t)}}function Zl(t){return t=Bo(t),function(e){return od(e,t)}}function jo(t,e,n){if(e===void 0)return t;switch(n??3){case 1:return function(r){return t.call(e,r)};case 3:return function(r,i,s){return t.call(e,r,i,s)};case 4:return function(r,i,s,o){return t.call(e,r,i,s,o)}}return function(){return t.apply(e,arguments)}}function O0(t,e,n){return t==null?Gl:cn(t)?jo(t,e,n):ci(t)&&!ui(t)?Bi(t):Zl(t)}function Wl(t,e){return O0(t,e,1/0)}Ae.iteratee=Wl;function Pn(t,e,n){return Ae.iteratee!==Wl?Ae.iteratee(t,e):O0(t,e,n)}function k0(t,e,n){e=Pn(e,n);for(var r=Ke(t),i=r.length,s={},o=0;o<i;o++){var a=r[o];s[a]=e(t[a],a,t)}return s}function ld(){}function L0(t){return t==null?ld:function(e){return ad(t,e)}}function z0(t,e,n){var r=Array(Math.max(0,t));e=jo(e,n,1);for(var i=0;i<t;i++)r[i]=e(i);return r}function tl(t,e){return e==null&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}const Ss=Date.now||function(){return new Date().getTime()};function R0(t){var e=function(s){return t[s]},n="(?:"+Ke(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(s){return s=s==null?"":""+s,r.test(s)?s.replace(i,e):s}}const B0={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},j0=R0(B0),kM=ed(B0),G0=R0(kM),Z0=Ae.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var Hc=/(.)^/,LM={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},zM=/\\|'|\r|\n|\u2028|\u2029/g;function RM(t){return"\\"+LM[t]}var BM=/^\s*(\w|\$)+\s*$/;function W0(t,e,n){!e&&n&&(e=n),e=id({},e,Ae.templateSettings);var r=RegExp([(e.escape||Hc).source,(e.interpolate||Hc).source,(e.evaluate||Hc).source].join("|")+"|$","g"),i=0,s="__p+='";t.replace(r,function(u,h,f,v,C){return s+=t.slice(i,C).replace(zM,RM),i=C+u.length,h?s+=`'+
((__t=(`+h+`))==null?'':_.escape(__t))+
'`:f?s+=`'+
((__t=(`+f+`))==null?'':__t)+
'`:v&&(s+=`';
`+v+`
__p+='`),u}),s+=`';
`;var o=e.variable;if(o){if(!BM.test(o))throw new Error("variable is not a bare identifier: "+o)}else s=`with(obj||{}){
`+s+`}
`,o="obj";s=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+s+`return __p;
`;var a;try{a=new Function(o,"_",s)}catch(u){throw u.source=s,u}var l=function(u){return a.call(this,u,Ae)};return l.source="function("+o+`){
`+s+"}",l}function U0(t,e,n){e=Bo(e);var r=e.length;if(!r)return cn(n)?n.call(t):n;for(var i=0;i<r;i++){var s=t==null?void 0:t[e[i]];s===void 0&&(s=n,i=r),t=cn(s)?s.call(t):s}return t}var jM=0;function F0(t){var e=++jM+"";return t?t+e:e}function Y0(t){var e=Ae(t);return e._chain=!0,e}function V0(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var s=T0(t.prototype),o=t.apply(s,i);return ci(o)?o:s}var Fi=In(function(t,e){var n=Fi.placeholder,r=function(){for(var i=0,s=e.length,o=Array(s),a=0;a<s;a++)o[a]=e[a]===n?arguments[i++]:e[a];for(;i<arguments.length;)o.push(arguments[i++]);return V0(t,r,this,this,o)};return r});Fi.placeholder=Ae;const cd=In(function(t,e,n){if(!cn(t))throw new TypeError("Bind must be called on a function");var r=In(function(i){return V0(t,r,e,this,n.concat(i))});return r}),Gn=g0(Tn);function Yi(t,e,n,r){if(r=r||[],!e&&e!==0)e=1/0;else if(e<=0)return r.concat(t);for(var i=r.length,s=0,o=Tn(t);s<o;s++){var a=t[s];if(Gn(a)&&(ui(a)||jl(a)))if(e>1)Yi(a,e-1,n,r),i=r.length;else for(var l=0,u=a.length;l<u;)r[i++]=a[l++];else n||(r[i++]=a)}return r}const X0=In(function(t,e){e=Yi(e,!1,!1);var n=e.length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=e[n];t[r]=cd(t[r],t)}return t});function H0(t,e){var n=function(r){var i=n.cache,s=""+(e?e.apply(this,arguments):r);return fi(i,s)||(i[s]=t.apply(this,arguments)),i[s]};return n.cache={},n}const ud=In(function(t,e,n){return setTimeout(function(){return t.apply(null,n)},e)}),J0=Fi(ud,Ae,1);function $0(t,e,n){var r,i,s,o,a=0;n||(n={});var l=function(){a=n.leading===!1?0:Ss(),r=null,o=t.apply(i,s),r||(i=s=null)},u=function(){var h=Ss();!a&&n.leading===!1&&(a=h);var f=e-(h-a);return i=this,s=arguments,f<=0||f>e?(r&&(clearTimeout(r),r=null),a=h,o=t.apply(i,s),r||(i=s=null)):!r&&n.trailing!==!1&&(r=setTimeout(l,f)),o};return u.cancel=function(){clearTimeout(r),a=0,r=i=s=null},u}function K0(t,e,n){var r,i,s,o,a,l=function(){var h=Ss()-i;e>h?r=setTimeout(l,e-h):(r=null,n||(o=t.apply(a,s)),r||(s=a=null))},u=In(function(h){return a=this,s=h,i=Ss(),r||(r=setTimeout(l,e),n&&(o=t.apply(a,s))),o});return u.cancel=function(){clearTimeout(r),r=s=a=null},u}function Q0(t,e){return Fi(e,t)}function Ul(t){return function(){return!t.apply(this,arguments)}}function q0(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}}function tI(t,e){return function(){if(--t<1)return e.apply(this,arguments)}}function fd(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}}const eI=Fi(fd,2);function dd(t,e,n){e=Pn(e,n);for(var r=Ke(t),i,s=0,o=r.length;s<o;s++)if(i=r[s],e(t[i],i,t))return i}function nI(t){return function(e,n,r){n=Pn(n,r);for(var i=Tn(e),s=t>0?0:i-1;s>=0&&s<i;s+=t)if(n(e[s],s,e))return s;return-1}}const Fl=nI(1),hd=nI(-1);function gd(t,e,n,r){n=Pn(n,r,1);for(var i=n(e),s=0,o=Tn(t);s<o;){var a=Math.floor((s+o)/2);n(t[a])<i?s=a+1:o=a}return s}function rI(t,e,n){return function(r,i,s){var o=0,a=Tn(r);if(typeof s=="number")t>0?o=s>=0?s:Math.max(s+a,o):a=s>=0?Math.min(s+1,a):s+a+1;else if(n&&s&&a)return s=n(r,i),r[s]===i?s:-1;if(i!==i)return s=e(Ro.call(r,o,a),Hf),s>=0?s+o:-1;for(s=t>0?o:a-1;s>=0&&s<a;s+=t)if(r[s]===i)return s;return-1}}const pd=rI(1,Fl,gd),iI=rI(-1,hd);function wo(t,e,n){var r=Gn(t)?Fl:dd,i=r(t,e,n);if(i!==void 0&&i!==-1)return t[i]}function sI(t,e){return wo(t,Bi(e))}function ur(t,e,n){e=jo(e,n);var r,i;if(Gn(t))for(r=0,i=t.length;r<i;r++)e(t[r],r,t);else{var s=Ke(t);for(r=0,i=s.length;r<i;r++)e(t[s[r]],s[r],t)}return t}function Gr(t,e,n){e=Pn(e,n);for(var r=!Gn(t)&&Ke(t),i=(r||t).length,s=Array(i),o=0;o<i;o++){var a=r?r[o]:o;s[o]=e(t[a],a,t)}return s}function oI(t){var e=function(n,r,i,s){var o=!Gn(n)&&Ke(n),a=(o||n).length,l=t>0?0:a-1;for(s||(i=n[o?o[l]:l],l+=t);l>=0&&l<a;l+=t){var u=o?o[l]:l;i=r(i,n[u],u,n)}return i};return function(n,r,i,s){var o=arguments.length>=3;return e(n,jo(r,s,4),i,o)}}const hs=oI(1),el=oI(-1);function oi(t,e,n){var r=[];return e=Pn(e,n),ur(t,function(i,s,o){e(i,s,o)&&r.push(i)}),r}function aI(t,e,n){return oi(t,Ul(Pn(e)),n)}function nl(t,e,n){e=Pn(e,n);for(var r=!Gn(t)&&Ke(t),i=(r||t).length,s=0;s<i;s++){var o=r?r[s]:s;if(!e(t[o],o,t))return!1}return!0}function rl(t,e,n){e=Pn(e,n);for(var r=!Gn(t)&&Ke(t),i=(r||t).length,s=0;s<i;s++){var o=r?r[s]:s;if(e(t[o],o,t))return!0}return!1}function $n(t,e,n,r){return Gn(t)||(t=Ui(t)),(typeof n!="number"||r)&&(n=0),pd(t,e,n)>=0}const lI=In(function(t,e,n){var r,i;return cn(e)?i=e:(e=Bo(e),r=e.slice(0,-1),e=e[e.length-1]),Gr(t,function(s){var o=i;if(!o){if(r&&r.length&&(s=od(s,r)),s==null)return;o=s[e]}return o==null?o:o.apply(s,n)})});function Yl(t,e){return Gr(t,Zl(e))}function cI(t,e){return oi(t,Bi(e))}function md(t,e,n){var r=-1/0,i=-1/0,s,o;if(e==null||typeof e=="number"&&typeof t[0]!="object"&&t!=null){t=Gn(t)?t:Ui(t);for(var a=0,l=t.length;a<l;a++)s=t[a],s!=null&&s>r&&(r=s)}else e=Pn(e,n),ur(t,function(u,h,f){o=e(u,h,f),(o>i||o===-1/0&&r===-1/0)&&(r=u,i=o)});return r}function uI(t,e,n){var r=1/0,i=1/0,s,o;if(e==null||typeof e=="number"&&typeof t[0]!="object"&&t!=null){t=Gn(t)?t:Ui(t);for(var a=0,l=t.length;a<l;a++)s=t[a],s!=null&&s<r&&(r=s)}else e=Pn(e,n),ur(t,function(u,h,f){o=e(u,h,f),(o<i||o===1/0&&r===1/0)&&(r=u,i=o)});return r}var GM=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function vd(t){return t?ui(t)?Ro.call(t):Bl(t)?t.match(GM):Gn(t)?Gr(t,Gl):Ui(t):[]}function Id(t,e,n){if(e==null||n)return Gn(t)||(t=Ui(t)),t[tl(t.length-1)];var r=vd(t),i=Tn(r);e=Math.max(Math.min(e,i),0);for(var s=i-1,o=0;o<e;o++){var a=tl(o,s),l=r[o];r[o]=r[a],r[a]=l}return r.slice(0,e)}function fI(t){return Id(t,1/0)}function dI(t,e,n){var r=0;return e=Pn(e,n),Yl(Gr(t,function(i,s,o){return{value:i,index:r++,criteria:e(i,s,o)}}).sort(function(i,s){var o=i.criteria,a=s.criteria;if(o!==a){if(o>a||o===void 0)return 1;if(o<a||a===void 0)return-1}return i.index-s.index}),"value")}function Vl(t,e){return function(n,r,i){var s=e?[[],[]]:{};return r=Pn(r,i),ur(n,function(o,a){var l=r(o,a,n);t(s,o,l)}),s}}const hI=Vl(function(t,e,n){fi(t,n)?t[n].push(e):t[n]=[e]}),gI=Vl(function(t,e,n){t[n]=e}),pI=Vl(function(t,e,n){fi(t,n)?t[n]++:t[n]=1}),mI=Vl(function(t,e,n){t[n?0:1].push(e)},!0);function vI(t){return t==null?0:Gn(t)?t.length:Ke(t).length}function ZM(t,e,n){return e in n}const yd=In(function(t,e){var n={},r=e[0];if(t==null)return n;cn(r)?(e.length>1&&(r=jo(r,e[1])),e=Es(t)):(r=ZM,e=Yi(e,!1,!1),t=Object(t));for(var i=0,s=e.length;i<s;i++){var o=e[i],a=t[o];r(a,o,t)&&(n[o]=a)}return n}),II=In(function(t,e){var n=e[0],r;return cn(n)?(n=Ul(n),e.length>1&&(r=e[1])):(e=Gr(Yi(e,!1,!1),String),n=function(i,s){return!$n(e,s)}),yd(t,n,r)});function Ad(t,e,n){return Ro.call(t,0,Math.max(0,t.length-(e==null||n?1:e)))}function gs(t,e,n){return t==null||t.length<1?e==null||n?void 0:[]:e==null||n?t[0]:Ad(t,t.length-e)}function Li(t,e,n){return Ro.call(t,e==null||n?1:e)}function yI(t,e,n){return t==null||t.length<1?e==null||n?void 0:[]:e==null||n?t[t.length-1]:Li(t,Math.max(0,t.length-e))}function AI(t){return oi(t,Boolean)}function CI(t,e){return Yi(t,e,!1)}const Cd=In(function(t,e){return e=Yi(e,!0,!0),oi(t,function(n){return!$n(e,n)})}),bI=In(function(t,e){return Cd(t,e)});function xo(t,e,n,r){Uf(e)||(r=n,n=e,e=!1),n!=null&&(n=Pn(n,r));for(var i=[],s=[],o=0,a=Tn(t);o<a;o++){var l=t[o],u=n?n(l,o,t):l;e&&!n?((!o||s!==u)&&i.push(l),s=u):n?$n(s,u)||(s.push(u),i.push(l)):$n(i,l)||i.push(l)}return i}const wI=In(function(t){return xo(Yi(t,!0,!0))});function xI(t){for(var e=[],n=arguments.length,r=0,i=Tn(t);r<i;r++){var s=t[r];if(!$n(e,s)){var o;for(o=1;o<n&&$n(arguments[o],s);o++);o===n&&e.push(s)}}return e}function So(t){for(var e=t&&md(t,Tn).length||0,n=Array(e),r=0;r<e;r++)n[r]=Yl(t,r);return n}const SI=In(So);function NI(t,e){for(var n={},r=0,i=Tn(t);r<i;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n}function MI(t,e,n){e==null&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),s=0;s<r;s++,t+=n)i[s]=t;return i}function TI(t,e){if(e==null||e<1)return[];for(var n=[],r=0,i=t.length;r<i;)n.push(Ro.call(t,r,r+=e));return n}function bd(t,e){return t._chain?Ae(e).chain():e}function wd(t){return ur(bo(t),function(e){var n=Ae[e]=t[e];Ae.prototype[e]=function(){var r=[this._wrapped];return vM.apply(r,arguments),bd(this,n.apply(Ae,r))}}),Ae}ur(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=Rl[t];Ae.prototype[t]=function(){var n=this._wrapped;return n!=null&&(e.apply(n,arguments),(t==="shift"||t==="splice")&&n.length===0&&delete n[0]),bd(this,n)}});ur(["concat","join","slice"],function(t){var e=Rl[t];Ae.prototype[t]=function(){var n=this._wrapped;return n!=null&&(n=e.apply(n,arguments)),bd(this,n)}});const WM=Object.freeze(Object.defineProperty({__proto__:null,VERSION:Gf,after:tI,all:nl,allKeys:Es,any:rl,assign:xs,before:fd,bind:cd,bindAll:X0,chain:Y0,chunk:TI,clone:_0,collect:Gr,compact:AI,compose:q0,constant:Jf,contains:$n,countBy:pI,create:P0,debounce:K0,default:Ae,defaults:id,defer:J0,delay:ud,detect:wo,difference:Cd,drop:Li,each:ur,escape:j0,every:nl,extend:rd,extendOwn:xs,filter:oi,find:wo,findIndex:Fl,findKey:dd,findLastIndex:hd,findWhere:sI,first:gs,flatten:CI,foldl:hs,foldr:el,forEach:ur,functions:bo,get:ad,groupBy:hI,has:D0,head:gs,identity:Gl,include:$n,includes:$n,indexBy:gI,indexOf:pd,initial:Ad,inject:hs,intersection:xI,invert:ed,invoke:lI,isArguments:jl,isArray:ui,isArrayBuffer:Vf,isBoolean:Uf,isDataView:Co,isDate:a0,isElement:o0,isEmpty:v0,isEqual:y0,isError:c0,isFinite:h0,isFunction:cn,isMap:w0,isMatch:Kf,isNaN:Hf,isNull:s0,isNumber:Ff,isObject:ci,isRegExp:l0,isSet:S0,isString:Bl,isSymbol:Yf,isTypedArray:$f,isUndefined:Wf,isWeakMap:x0,isWeakSet:N0,iteratee:Wl,keys:Ke,last:yI,lastIndexOf:iI,map:Gr,mapObject:k0,matcher:Bi,matches:Bi,max:md,memoize:H0,methods:bo,min:uI,mixin:wd,negate:Ul,noop:ld,now:Ss,object:NI,omit:II,once:eI,pairs:M0,partial:Fi,partition:mI,pick:yd,pluck:Yl,property:Zl,propertyOf:L0,random:tl,range:MI,reduce:hs,reduceRight:el,reject:aI,rest:Li,restArguments:In,result:U0,sample:Id,select:oi,shuffle:fI,size:vI,some:rl,sortBy:dI,sortedIndex:gd,tail:Li,take:gs,tap:E0,template:W0,templateSettings:Z0,throttle:$0,times:z0,toArray:vd,toPath:sd,transpose:So,unescape:G0,union:wI,uniq:xo,unique:xo,uniqueId:F0,unzip:So,values:Ui,where:cI,without:bI,wrap:Q0,zip:SI},Symbol.toStringTag,{value:"Module"}));var ku=wd(WM);ku._=ku;const UM=Object.freeze(Object.defineProperty({__proto__:null,VERSION:Gf,after:tI,all:nl,allKeys:Es,any:rl,assign:xs,before:fd,bind:cd,bindAll:X0,chain:Y0,chunk:TI,clone:_0,collect:Gr,compact:AI,compose:q0,constant:Jf,contains:$n,countBy:pI,create:P0,debounce:K0,default:ku,defaults:id,defer:J0,delay:ud,detect:wo,difference:Cd,drop:Li,each:ur,escape:j0,every:nl,extend:rd,extendOwn:xs,filter:oi,find:wo,findIndex:Fl,findKey:dd,findLastIndex:hd,findWhere:sI,first:gs,flatten:CI,foldl:hs,foldr:el,forEach:ur,functions:bo,get:ad,groupBy:hI,has:D0,head:gs,identity:Gl,include:$n,includes:$n,indexBy:gI,indexOf:pd,initial:Ad,inject:hs,intersection:xI,invert:ed,invoke:lI,isArguments:jl,isArray:ui,isArrayBuffer:Vf,isBoolean:Uf,isDataView:Co,isDate:a0,isElement:o0,isEmpty:v0,isEqual:y0,isError:c0,isFinite:h0,isFunction:cn,isMap:w0,isMatch:Kf,isNaN:Hf,isNull:s0,isNumber:Ff,isObject:ci,isRegExp:l0,isSet:S0,isString:Bl,isSymbol:Yf,isTypedArray:$f,isUndefined:Wf,isWeakMap:x0,isWeakSet:N0,iteratee:Wl,keys:Ke,last:yI,lastIndexOf:iI,map:Gr,mapObject:k0,matcher:Bi,matches:Bi,max:md,memoize:H0,methods:bo,min:uI,mixin:wd,negate:Ul,noop:ld,now:Ss,object:NI,omit:II,once:eI,pairs:M0,partial:Fi,partition:mI,pick:yd,pluck:Yl,property:Zl,propertyOf:L0,random:tl,range:MI,reduce:hs,reduceRight:el,reject:aI,rest:Li,restArguments:In,result:U0,sample:Id,select:oi,shuffle:fI,size:vI,some:rl,sortBy:dI,sortedIndex:gd,tail:Li,take:gs,tap:E0,template:W0,templateSettings:Z0,throttle:$0,times:z0,toArray:vd,toPath:sd,transpose:So,unescape:G0,union:wI,uniq:xo,unique:xo,uniqueId:F0,unzip:So,values:Ui,where:cI,without:bI,wrap:Q0,zip:SI},Symbol.toStringTag,{value:"Module"})),FM=mM(UM);var PI={exports:{}};/*!
 * jQuery JavaScript Library v3.6.4
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-03-08T15:28Z
 */(function(t){(function(e,n){t.exports=e.document?n(e,!0):function(r){if(!r.document)throw new Error("jQuery requires a window with a document");return n(r)}})(typeof window<"u"?window:Qs,function(e,n){var r=[],i=Object.getPrototypeOf,s=r.slice,o=r.flat?function(c){return r.flat.call(c)}:function(c){return r.concat.apply([],c)},a=r.push,l=r.indexOf,u={},h=u.toString,f=u.hasOwnProperty,v=f.toString,C=v.call(Object),b={},w=function(g){return typeof g=="function"&&typeof g.nodeType!="number"&&typeof g.item!="function"},O=function(g){return g!=null&&g===g.window},k=e.document,R={type:!0,src:!0,nonce:!0,noModule:!0};function U(c,g,p){p=p||k;var I,x,N=p.createElement("script");if(N.text=c,g)for(I in R)x=g[I]||g.getAttribute&&g.getAttribute(I),x&&N.setAttribute(I,x);p.head.appendChild(N).parentNode.removeChild(N)}function F(c){return c==null?c+"":typeof c=="object"||typeof c=="function"?u[h.call(c)]||"object":typeof c}var y="3.6.4",d=function(c,g){return new d.fn.init(c,g)};d.fn=d.prototype={jquery:y,constructor:d,length:0,toArray:function(){return s.call(this)},get:function(c){return c==null?s.call(this):c<0?this[c+this.length]:this[c]},pushStack:function(c){var g=d.merge(this.constructor(),c);return g.prevObject=this,g},each:function(c){return d.each(this,c)},map:function(c){return this.pushStack(d.map(this,function(g,p){return c.call(g,p,g)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(d.grep(this,function(c,g){return(g+1)%2}))},odd:function(){return this.pushStack(d.grep(this,function(c,g){return g%2}))},eq:function(c){var g=this.length,p=+c+(c<0?g:0);return this.pushStack(p>=0&&p<g?[this[p]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:r.sort,splice:r.splice},d.extend=d.fn.extend=function(){var c,g,p,I,x,N,P=arguments[0]||{},G=1,B=arguments.length,J=!1;for(typeof P=="boolean"&&(J=P,P=arguments[G]||{},G++),typeof P!="object"&&!w(P)&&(P={}),G===B&&(P=this,G--);G<B;G++)if((c=arguments[G])!=null)for(g in c)I=c[g],!(g==="__proto__"||P===I)&&(J&&I&&(d.isPlainObject(I)||(x=Array.isArray(I)))?(p=P[g],x&&!Array.isArray(p)?N=[]:!x&&!d.isPlainObject(p)?N={}:N=p,x=!1,P[g]=d.extend(J,N,I)):I!==void 0&&(P[g]=I));return P},d.extend({expando:"jQuery"+(y+Math.random()).replace(/\D/g,""),isReady:!0,error:function(c){throw new Error(c)},noop:function(){},isPlainObject:function(c){var g,p;return!c||h.call(c)!=="[object Object]"?!1:(g=i(c),g?(p=f.call(g,"constructor")&&g.constructor,typeof p=="function"&&v.call(p)===C):!0)},isEmptyObject:function(c){var g;for(g in c)return!1;return!0},globalEval:function(c,g,p){U(c,{nonce:g&&g.nonce},p)},each:function(c,g){var p,I=0;if(S(c))for(p=c.length;I<p&&g.call(c[I],I,c[I])!==!1;I++);else for(I in c)if(g.call(c[I],I,c[I])===!1)break;return c},makeArray:function(c,g){var p=g||[];return c!=null&&(S(Object(c))?d.merge(p,typeof c=="string"?[c]:c):a.call(p,c)),p},inArray:function(c,g,p){return g==null?-1:l.call(g,c,p)},merge:function(c,g){for(var p=+g.length,I=0,x=c.length;I<p;I++)c[x++]=g[I];return c.length=x,c},grep:function(c,g,p){for(var I,x=[],N=0,P=c.length,G=!p;N<P;N++)I=!g(c[N],N),I!==G&&x.push(c[N]);return x},map:function(c,g,p){var I,x,N=0,P=[];if(S(c))for(I=c.length;N<I;N++)x=g(c[N],N,p),x!=null&&P.push(x);else for(N in c)x=g(c[N],N,p),x!=null&&P.push(x);return o(P)},guid:1,support:b}),typeof Symbol=="function"&&(d.fn[Symbol.iterator]=r[Symbol.iterator]),d.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(c,g){u["[object "+g+"]"]=g.toLowerCase()});function S(c){var g=!!c&&"length"in c&&c.length,p=F(c);return w(c)||O(c)?!1:p==="array"||g===0||typeof g=="number"&&g>0&&g-1 in c}var E=function(c){var g,p,I,x,N,P,G,B,J,st,yt,tt,ft,Bt,$t,Rt,Xe,Ue,_n,we="sizzle"+1*new Date,Jt=c.document,An=0,de=0,Oe=ia(),Gs=ia(),ea=ia(),En=ia(),vi=function(D,j){return D===j&&(yt=!0),0},Ii={}.hasOwnProperty,Cn=[],Vr=Cn.pop,Zn=Cn.push,Xr=Cn.push,xh=Cn.slice,yi=function(D,j){for(var X=0,ht=D.length;X<ht;X++)if(D[X]===j)return X;return-1},wc="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ye="[\\x20\\t\\r\\n\\f]",Ai="(?:\\\\[\\da-fA-F]{1,6}"+ye+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Sh="\\["+ye+"*("+Ai+")(?:"+ye+"*([*^$|!~]?=)"+ye+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Ai+"))|)"+ye+"*\\]",xc=":("+Ai+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Sh+")*)|.*)\\)|)",UA=new RegExp(ye+"+","g"),na=new RegExp("^"+ye+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ye+"+$","g"),FA=new RegExp("^"+ye+"*,"+ye+"*"),Nh=new RegExp("^"+ye+"*([>+~]|"+ye+")"+ye+"*"),YA=new RegExp(ye+"|>"),VA=new RegExp(xc),XA=new RegExp("^"+Ai+"$"),ra={ID:new RegExp("^#("+Ai+")"),CLASS:new RegExp("^\\.("+Ai+")"),TAG:new RegExp("^("+Ai+"|[*])"),ATTR:new RegExp("^"+Sh),PSEUDO:new RegExp("^"+xc),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ye+"*(even|odd|(([+-]|)(\\d*)n|)"+ye+"*(?:([+-]|)"+ye+"*(\\d+)|))"+ye+"*\\)|)","i"),bool:new RegExp("^(?:"+wc+")$","i"),needsContext:new RegExp("^"+ye+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ye+"*((?:-\\d)?\\d*)"+ye+"*\\)|)(?=[^-]|$)","i")},HA=/HTML$/i,JA=/^(?:input|select|textarea|button)$/i,$A=/^h\d$/i,Zs=/^[^{]+\{\s*\[native \w/,KA=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Sc=/[+~]/,Pr=new RegExp("\\\\[\\da-fA-F]{1,6}"+ye+"?|\\\\([^\\r\\n\\f])","g"),_r=function(D,j){var X="0x"+D.slice(1)-65536;return j||(X<0?String.fromCharCode(X+65536):String.fromCharCode(X>>10|55296,X&1023|56320))},Mh=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Th=function(D,j){return j?D==="\0"?"":D.slice(0,-1)+"\\"+D.charCodeAt(D.length-1).toString(16)+" ":"\\"+D},Ph=function(){tt()},QA=oa(function(D){return D.disabled===!0&&D.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{Xr.apply(Cn=xh.call(Jt.childNodes),Jt.childNodes),Cn[Jt.childNodes.length].nodeType}catch{Xr={apply:Cn.length?function(j,X){Zn.apply(j,xh.call(X))}:function(j,X){for(var ht=j.length,H=0;j[ht++]=X[H++];);j.length=ht-1}}}function xe(D,j,X,ht){var H,gt,At,_t,Dt,Ut,Wt,Vt=j&&j.ownerDocument,se=j?j.nodeType:9;if(X=X||[],typeof D!="string"||!D||se!==1&&se!==9&&se!==11)return X;if(!ht&&(tt(j),j=j||ft,$t)){if(se!==11&&(Dt=KA.exec(D)))if(H=Dt[1]){if(se===9)if(At=j.getElementById(H)){if(At.id===H)return X.push(At),X}else return X;else if(Vt&&(At=Vt.getElementById(H))&&_n(j,At)&&At.id===H)return X.push(At),X}else{if(Dt[2])return Xr.apply(X,j.getElementsByTagName(D)),X;if((H=Dt[3])&&p.getElementsByClassName&&j.getElementsByClassName)return Xr.apply(X,j.getElementsByClassName(H)),X}if(p.qsa&&!En[D+" "]&&(!Rt||!Rt.test(D))&&(se!==1||j.nodeName.toLowerCase()!=="object")){if(Wt=D,Vt=j,se===1&&(YA.test(D)||Nh.test(D))){for(Vt=Sc.test(D)&&Mc(j.parentNode)||j,(Vt!==j||!p.scope)&&((_t=j.getAttribute("id"))?_t=_t.replace(Mh,Th):j.setAttribute("id",_t=we)),Ut=P(D),gt=Ut.length;gt--;)Ut[gt]=(_t?"#"+_t:":scope")+" "+sa(Ut[gt]);Wt=Ut.join(",")}try{return Xr.apply(X,Vt.querySelectorAll(Wt)),X}catch{En(D,!0)}finally{_t===we&&j.removeAttribute("id")}}}return B(D.replace(na,"$1"),j,X,ht)}function ia(){var D=[];function j(X,ht){return D.push(X+" ")>I.cacheLength&&delete j[D.shift()],j[X+" "]=ht}return j}function tr(D){return D[we]=!0,D}function Wn(D){var j=ft.createElement("fieldset");try{return!!D(j)}catch{return!1}finally{j.parentNode&&j.parentNode.removeChild(j),j=null}}function Nc(D,j){for(var X=D.split("|"),ht=X.length;ht--;)I.attrHandle[X[ht]]=j}function _h(D,j){var X=j&&D,ht=X&&D.nodeType===1&&j.nodeType===1&&D.sourceIndex-j.sourceIndex;if(ht)return ht;if(X){for(;X=X.nextSibling;)if(X===j)return-1}return D?1:-1}function qA(D){return function(j){var X=j.nodeName.toLowerCase();return X==="input"&&j.type===D}}function tC(D){return function(j){var X=j.nodeName.toLowerCase();return(X==="input"||X==="button")&&j.type===D}}function Eh(D){return function(j){return"form"in j?j.parentNode&&j.disabled===!1?"label"in j?"label"in j.parentNode?j.parentNode.disabled===D:j.disabled===D:j.isDisabled===D||j.isDisabled!==!D&&QA(j)===D:j.disabled===D:"label"in j?j.disabled===D:!1}}function Ci(D){return tr(function(j){return j=+j,tr(function(X,ht){for(var H,gt=D([],X.length,j),At=gt.length;At--;)X[H=gt[At]]&&(X[H]=!(ht[H]=X[H]))})})}function Mc(D){return D&&typeof D.getElementsByTagName<"u"&&D}p=xe.support={},N=xe.isXML=function(D){var j=D&&D.namespaceURI,X=D&&(D.ownerDocument||D).documentElement;return!HA.test(j||X&&X.nodeName||"HTML")},tt=xe.setDocument=function(D){var j,X,ht=D?D.ownerDocument||D:Jt;return ht==ft||ht.nodeType!==9||!ht.documentElement||(ft=ht,Bt=ft.documentElement,$t=!N(ft),Jt!=ft&&(X=ft.defaultView)&&X.top!==X&&(X.addEventListener?X.addEventListener("unload",Ph,!1):X.attachEvent&&X.attachEvent("onunload",Ph)),p.scope=Wn(function(H){return Bt.appendChild(H).appendChild(ft.createElement("div")),typeof H.querySelectorAll<"u"&&!H.querySelectorAll(":scope fieldset div").length}),p.cssHas=Wn(function(){try{return ft.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),p.attributes=Wn(function(H){return H.className="i",!H.getAttribute("className")}),p.getElementsByTagName=Wn(function(H){return H.appendChild(ft.createComment("")),!H.getElementsByTagName("*").length}),p.getElementsByClassName=Zs.test(ft.getElementsByClassName),p.getById=Wn(function(H){return Bt.appendChild(H).id=we,!ft.getElementsByName||!ft.getElementsByName(we).length}),p.getById?(I.filter.ID=function(H){var gt=H.replace(Pr,_r);return function(At){return At.getAttribute("id")===gt}},I.find.ID=function(H,gt){if(typeof gt.getElementById<"u"&&$t){var At=gt.getElementById(H);return At?[At]:[]}}):(I.filter.ID=function(H){var gt=H.replace(Pr,_r);return function(At){var _t=typeof At.getAttributeNode<"u"&&At.getAttributeNode("id");return _t&&_t.value===gt}},I.find.ID=function(H,gt){if(typeof gt.getElementById<"u"&&$t){var At,_t,Dt,Ut=gt.getElementById(H);if(Ut){if(At=Ut.getAttributeNode("id"),At&&At.value===H)return[Ut];for(Dt=gt.getElementsByName(H),_t=0;Ut=Dt[_t++];)if(At=Ut.getAttributeNode("id"),At&&At.value===H)return[Ut]}return[]}}),I.find.TAG=p.getElementsByTagName?function(H,gt){if(typeof gt.getElementsByTagName<"u")return gt.getElementsByTagName(H);if(p.qsa)return gt.querySelectorAll(H)}:function(H,gt){var At,_t=[],Dt=0,Ut=gt.getElementsByTagName(H);if(H==="*"){for(;At=Ut[Dt++];)At.nodeType===1&&_t.push(At);return _t}return Ut},I.find.CLASS=p.getElementsByClassName&&function(H,gt){if(typeof gt.getElementsByClassName<"u"&&$t)return gt.getElementsByClassName(H)},Xe=[],Rt=[],(p.qsa=Zs.test(ft.querySelectorAll))&&(Wn(function(H){var gt;Bt.appendChild(H).innerHTML="<a id='"+we+"'></a><select id='"+we+"-\r\\' msallowcapture=''><option selected=''></option></select>",H.querySelectorAll("[msallowcapture^='']").length&&Rt.push("[*^$]="+ye+`*(?:''|"")`),H.querySelectorAll("[selected]").length||Rt.push("\\["+ye+"*(?:value|"+wc+")"),H.querySelectorAll("[id~="+we+"-]").length||Rt.push("~="),gt=ft.createElement("input"),gt.setAttribute("name",""),H.appendChild(gt),H.querySelectorAll("[name='']").length||Rt.push("\\["+ye+"*name"+ye+"*="+ye+`*(?:''|"")`),H.querySelectorAll(":checked").length||Rt.push(":checked"),H.querySelectorAll("a#"+we+"+*").length||Rt.push(".#.+[+~]"),H.querySelectorAll("\\\f"),Rt.push("[\\r\\n\\f]")}),Wn(function(H){H.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var gt=ft.createElement("input");gt.setAttribute("type","hidden"),H.appendChild(gt).setAttribute("name","D"),H.querySelectorAll("[name=d]").length&&Rt.push("name"+ye+"*[*^$|!~]?="),H.querySelectorAll(":enabled").length!==2&&Rt.push(":enabled",":disabled"),Bt.appendChild(H).disabled=!0,H.querySelectorAll(":disabled").length!==2&&Rt.push(":enabled",":disabled"),H.querySelectorAll("*,:x"),Rt.push(",.*:")})),(p.matchesSelector=Zs.test(Ue=Bt.matches||Bt.webkitMatchesSelector||Bt.mozMatchesSelector||Bt.oMatchesSelector||Bt.msMatchesSelector))&&Wn(function(H){p.disconnectedMatch=Ue.call(H,"*"),Ue.call(H,"[s!='']:x"),Xe.push("!=",xc)}),p.cssHas||Rt.push(":has"),Rt=Rt.length&&new RegExp(Rt.join("|")),Xe=Xe.length&&new RegExp(Xe.join("|")),j=Zs.test(Bt.compareDocumentPosition),_n=j||Zs.test(Bt.contains)?function(H,gt){var At=H.nodeType===9&&H.documentElement||H,_t=gt&&gt.parentNode;return H===_t||!!(_t&&_t.nodeType===1&&(At.contains?At.contains(_t):H.compareDocumentPosition&&H.compareDocumentPosition(_t)&16))}:function(H,gt){if(gt){for(;gt=gt.parentNode;)if(gt===H)return!0}return!1},vi=j?function(H,gt){if(H===gt)return yt=!0,0;var At=!H.compareDocumentPosition-!gt.compareDocumentPosition;return At||(At=(H.ownerDocument||H)==(gt.ownerDocument||gt)?H.compareDocumentPosition(gt):1,At&1||!p.sortDetached&&gt.compareDocumentPosition(H)===At?H==ft||H.ownerDocument==Jt&&_n(Jt,H)?-1:gt==ft||gt.ownerDocument==Jt&&_n(Jt,gt)?1:st?yi(st,H)-yi(st,gt):0:At&4?-1:1)}:function(H,gt){if(H===gt)return yt=!0,0;var At,_t=0,Dt=H.parentNode,Ut=gt.parentNode,Wt=[H],Vt=[gt];if(!Dt||!Ut)return H==ft?-1:gt==ft?1:Dt?-1:Ut?1:st?yi(st,H)-yi(st,gt):0;if(Dt===Ut)return _h(H,gt);for(At=H;At=At.parentNode;)Wt.unshift(At);for(At=gt;At=At.parentNode;)Vt.unshift(At);for(;Wt[_t]===Vt[_t];)_t++;return _t?_h(Wt[_t],Vt[_t]):Wt[_t]==Jt?-1:Vt[_t]==Jt?1:0}),ft},xe.matches=function(D,j){return xe(D,null,null,j)},xe.matchesSelector=function(D,j){if(tt(D),p.matchesSelector&&$t&&!En[j+" "]&&(!Xe||!Xe.test(j))&&(!Rt||!Rt.test(j)))try{var X=Ue.call(D,j);if(X||p.disconnectedMatch||D.document&&D.document.nodeType!==11)return X}catch{En(j,!0)}return xe(j,ft,null,[D]).length>0},xe.contains=function(D,j){return(D.ownerDocument||D)!=ft&&tt(D),_n(D,j)},xe.attr=function(D,j){(D.ownerDocument||D)!=ft&&tt(D);var X=I.attrHandle[j.toLowerCase()],ht=X&&Ii.call(I.attrHandle,j.toLowerCase())?X(D,j,!$t):void 0;return ht!==void 0?ht:p.attributes||!$t?D.getAttribute(j):(ht=D.getAttributeNode(j))&&ht.specified?ht.value:null},xe.escape=function(D){return(D+"").replace(Mh,Th)},xe.error=function(D){throw new Error("Syntax error, unrecognized expression: "+D)},xe.uniqueSort=function(D){var j,X=[],ht=0,H=0;if(yt=!p.detectDuplicates,st=!p.sortStable&&D.slice(0),D.sort(vi),yt){for(;j=D[H++];)j===D[H]&&(ht=X.push(H));for(;ht--;)D.splice(X[ht],1)}return st=null,D},x=xe.getText=function(D){var j,X="",ht=0,H=D.nodeType;if(H){if(H===1||H===9||H===11){if(typeof D.textContent=="string")return D.textContent;for(D=D.firstChild;D;D=D.nextSibling)X+=x(D)}else if(H===3||H===4)return D.nodeValue}else for(;j=D[ht++];)X+=x(j);return X},I=xe.selectors={cacheLength:50,createPseudo:tr,match:ra,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(D){return D[1]=D[1].replace(Pr,_r),D[3]=(D[3]||D[4]||D[5]||"").replace(Pr,_r),D[2]==="~="&&(D[3]=" "+D[3]+" "),D.slice(0,4)},CHILD:function(D){return D[1]=D[1].toLowerCase(),D[1].slice(0,3)==="nth"?(D[3]||xe.error(D[0]),D[4]=+(D[4]?D[5]+(D[6]||1):2*(D[3]==="even"||D[3]==="odd")),D[5]=+(D[7]+D[8]||D[3]==="odd")):D[3]&&xe.error(D[0]),D},PSEUDO:function(D){var j,X=!D[6]&&D[2];return ra.CHILD.test(D[0])?null:(D[3]?D[2]=D[4]||D[5]||"":X&&VA.test(X)&&(j=P(X,!0))&&(j=X.indexOf(")",X.length-j)-X.length)&&(D[0]=D[0].slice(0,j),D[2]=X.slice(0,j)),D.slice(0,3))}},filter:{TAG:function(D){var j=D.replace(Pr,_r).toLowerCase();return D==="*"?function(){return!0}:function(X){return X.nodeName&&X.nodeName.toLowerCase()===j}},CLASS:function(D){var j=Oe[D+" "];return j||(j=new RegExp("(^|"+ye+")"+D+"("+ye+"|$)"))&&Oe(D,function(X){return j.test(typeof X.className=="string"&&X.className||typeof X.getAttribute<"u"&&X.getAttribute("class")||"")})},ATTR:function(D,j,X){return function(ht){var H=xe.attr(ht,D);return H==null?j==="!=":j?(H+="",j==="="?H===X:j==="!="?H!==X:j==="^="?X&&H.indexOf(X)===0:j==="*="?X&&H.indexOf(X)>-1:j==="$="?X&&H.slice(-X.length)===X:j==="~="?(" "+H.replace(UA," ")+" ").indexOf(X)>-1:j==="|="?H===X||H.slice(0,X.length+1)===X+"-":!1):!0}},CHILD:function(D,j,X,ht,H){var gt=D.slice(0,3)!=="nth",At=D.slice(-4)!=="last",_t=j==="of-type";return ht===1&&H===0?function(Dt){return!!Dt.parentNode}:function(Dt,Ut,Wt){var Vt,se,Se,Ft,He,sn,Dn=gt!==At?"nextSibling":"previousSibling",De=Dt.parentNode,Ws=_t&&Dt.nodeName.toLowerCase(),Us=!Wt&&!_t,On=!1;if(De){if(gt){for(;Dn;){for(Ft=Dt;Ft=Ft[Dn];)if(_t?Ft.nodeName.toLowerCase()===Ws:Ft.nodeType===1)return!1;sn=Dn=D==="only"&&!sn&&"nextSibling"}return!0}if(sn=[At?De.firstChild:De.lastChild],At&&Us){for(Ft=De,Se=Ft[we]||(Ft[we]={}),se=Se[Ft.uniqueID]||(Se[Ft.uniqueID]={}),Vt=se[D]||[],He=Vt[0]===An&&Vt[1],On=He&&Vt[2],Ft=He&&De.childNodes[He];Ft=++He&&Ft&&Ft[Dn]||(On=He=0)||sn.pop();)if(Ft.nodeType===1&&++On&&Ft===Dt){se[D]=[An,He,On];break}}else if(Us&&(Ft=Dt,Se=Ft[we]||(Ft[we]={}),se=Se[Ft.uniqueID]||(Se[Ft.uniqueID]={}),Vt=se[D]||[],He=Vt[0]===An&&Vt[1],On=He),On===!1)for(;(Ft=++He&&Ft&&Ft[Dn]||(On=He=0)||sn.pop())&&!((_t?Ft.nodeName.toLowerCase()===Ws:Ft.nodeType===1)&&++On&&(Us&&(Se=Ft[we]||(Ft[we]={}),se=Se[Ft.uniqueID]||(Se[Ft.uniqueID]={}),se[D]=[An,On]),Ft===Dt)););return On-=H,On===ht||On%ht===0&&On/ht>=0}}},PSEUDO:function(D,j){var X,ht=I.pseudos[D]||I.setFilters[D.toLowerCase()]||xe.error("unsupported pseudo: "+D);return ht[we]?ht(j):ht.length>1?(X=[D,D,"",j],I.setFilters.hasOwnProperty(D.toLowerCase())?tr(function(H,gt){for(var At,_t=ht(H,j),Dt=_t.length;Dt--;)At=yi(H,_t[Dt]),H[At]=!(gt[At]=_t[Dt])}):function(H){return ht(H,0,X)}):ht}},pseudos:{not:tr(function(D){var j=[],X=[],ht=G(D.replace(na,"$1"));return ht[we]?tr(function(H,gt,At,_t){for(var Dt,Ut=ht(H,null,_t,[]),Wt=H.length;Wt--;)(Dt=Ut[Wt])&&(H[Wt]=!(gt[Wt]=Dt))}):function(H,gt,At){return j[0]=H,ht(j,null,At,X),j[0]=null,!X.pop()}}),has:tr(function(D){return function(j){return xe(D,j).length>0}}),contains:tr(function(D){return D=D.replace(Pr,_r),function(j){return(j.textContent||x(j)).indexOf(D)>-1}}),lang:tr(function(D){return XA.test(D||"")||xe.error("unsupported lang: "+D),D=D.replace(Pr,_r).toLowerCase(),function(j){var X;do if(X=$t?j.lang:j.getAttribute("xml:lang")||j.getAttribute("lang"))return X=X.toLowerCase(),X===D||X.indexOf(D+"-")===0;while((j=j.parentNode)&&j.nodeType===1);return!1}}),target:function(D){var j=c.location&&c.location.hash;return j&&j.slice(1)===D.id},root:function(D){return D===Bt},focus:function(D){return D===ft.activeElement&&(!ft.hasFocus||ft.hasFocus())&&!!(D.type||D.href||~D.tabIndex)},enabled:Eh(!1),disabled:Eh(!0),checked:function(D){var j=D.nodeName.toLowerCase();return j==="input"&&!!D.checked||j==="option"&&!!D.selected},selected:function(D){return D.parentNode&&D.parentNode.selectedIndex,D.selected===!0},empty:function(D){for(D=D.firstChild;D;D=D.nextSibling)if(D.nodeType<6)return!1;return!0},parent:function(D){return!I.pseudos.empty(D)},header:function(D){return $A.test(D.nodeName)},input:function(D){return JA.test(D.nodeName)},button:function(D){var j=D.nodeName.toLowerCase();return j==="input"&&D.type==="button"||j==="button"},text:function(D){var j;return D.nodeName.toLowerCase()==="input"&&D.type==="text"&&((j=D.getAttribute("type"))==null||j.toLowerCase()==="text")},first:Ci(function(){return[0]}),last:Ci(function(D,j){return[j-1]}),eq:Ci(function(D,j,X){return[X<0?X+j:X]}),even:Ci(function(D,j){for(var X=0;X<j;X+=2)D.push(X);return D}),odd:Ci(function(D,j){for(var X=1;X<j;X+=2)D.push(X);return D}),lt:Ci(function(D,j,X){for(var ht=X<0?X+j:X>j?j:X;--ht>=0;)D.push(ht);return D}),gt:Ci(function(D,j,X){for(var ht=X<0?X+j:X;++ht<j;)D.push(ht);return D})}},I.pseudos.nth=I.pseudos.eq;for(g in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})I.pseudos[g]=qA(g);for(g in{submit:!0,reset:!0})I.pseudos[g]=tC(g);function Dh(){}Dh.prototype=I.filters=I.pseudos,I.setFilters=new Dh,P=xe.tokenize=function(D,j){var X,ht,H,gt,At,_t,Dt,Ut=Gs[D+" "];if(Ut)return j?0:Ut.slice(0);for(At=D,_t=[],Dt=I.preFilter;At;){(!X||(ht=FA.exec(At)))&&(ht&&(At=At.slice(ht[0].length)||At),_t.push(H=[])),X=!1,(ht=Nh.exec(At))&&(X=ht.shift(),H.push({value:X,type:ht[0].replace(na," ")}),At=At.slice(X.length));for(gt in I.filter)(ht=ra[gt].exec(At))&&(!Dt[gt]||(ht=Dt[gt](ht)))&&(X=ht.shift(),H.push({value:X,type:gt,matches:ht}),At=At.slice(X.length));if(!X)break}return j?At.length:At?xe.error(D):Gs(D,_t).slice(0)};function sa(D){for(var j=0,X=D.length,ht="";j<X;j++)ht+=D[j].value;return ht}function oa(D,j,X){var ht=j.dir,H=j.next,gt=H||ht,At=X&&gt==="parentNode",_t=de++;return j.first?function(Dt,Ut,Wt){for(;Dt=Dt[ht];)if(Dt.nodeType===1||At)return D(Dt,Ut,Wt);return!1}:function(Dt,Ut,Wt){var Vt,se,Se,Ft=[An,_t];if(Wt){for(;Dt=Dt[ht];)if((Dt.nodeType===1||At)&&D(Dt,Ut,Wt))return!0}else for(;Dt=Dt[ht];)if(Dt.nodeType===1||At)if(Se=Dt[we]||(Dt[we]={}),se=Se[Dt.uniqueID]||(Se[Dt.uniqueID]={}),H&&H===Dt.nodeName.toLowerCase())Dt=Dt[ht]||Dt;else{if((Vt=se[gt])&&Vt[0]===An&&Vt[1]===_t)return Ft[2]=Vt[2];if(se[gt]=Ft,Ft[2]=D(Dt,Ut,Wt))return!0}return!1}}function Tc(D){return D.length>1?function(j,X,ht){for(var H=D.length;H--;)if(!D[H](j,X,ht))return!1;return!0}:D[0]}function eC(D,j,X){for(var ht=0,H=j.length;ht<H;ht++)xe(D,j[ht],X);return X}function aa(D,j,X,ht,H){for(var gt,At=[],_t=0,Dt=D.length,Ut=j!=null;_t<Dt;_t++)(gt=D[_t])&&(!X||X(gt,ht,H))&&(At.push(gt),Ut&&j.push(_t));return At}function Pc(D,j,X,ht,H,gt){return ht&&!ht[we]&&(ht=Pc(ht)),H&&!H[we]&&(H=Pc(H,gt)),tr(function(At,_t,Dt,Ut){var Wt,Vt,se,Se=[],Ft=[],He=_t.length,sn=At||eC(j||"*",Dt.nodeType?[Dt]:Dt,[]),Dn=D&&(At||!j)?aa(sn,Se,D,Dt,Ut):sn,De=X?H||(At?D:He||ht)?[]:_t:Dn;if(X&&X(Dn,De,Dt,Ut),ht)for(Wt=aa(De,Ft),ht(Wt,[],Dt,Ut),Vt=Wt.length;Vt--;)(se=Wt[Vt])&&(De[Ft[Vt]]=!(Dn[Ft[Vt]]=se));if(At){if(H||D){if(H){for(Wt=[],Vt=De.length;Vt--;)(se=De[Vt])&&Wt.push(Dn[Vt]=se);H(null,De=[],Wt,Ut)}for(Vt=De.length;Vt--;)(se=De[Vt])&&(Wt=H?yi(At,se):Se[Vt])>-1&&(At[Wt]=!(_t[Wt]=se))}}else De=aa(De===_t?De.splice(He,De.length):De),H?H(null,_t,De,Ut):Xr.apply(_t,De)})}function _c(D){for(var j,X,ht,H=D.length,gt=I.relative[D[0].type],At=gt||I.relative[" "],_t=gt?1:0,Dt=oa(function(Vt){return Vt===j},At,!0),Ut=oa(function(Vt){return yi(j,Vt)>-1},At,!0),Wt=[function(Vt,se,Se){var Ft=!gt&&(Se||se!==J)||((j=se).nodeType?Dt(Vt,se,Se):Ut(Vt,se,Se));return j=null,Ft}];_t<H;_t++)if(X=I.relative[D[_t].type])Wt=[oa(Tc(Wt),X)];else{if(X=I.filter[D[_t].type].apply(null,D[_t].matches),X[we]){for(ht=++_t;ht<H&&!I.relative[D[ht].type];ht++);return Pc(_t>1&&Tc(Wt),_t>1&&sa(D.slice(0,_t-1).concat({value:D[_t-2].type===" "?"*":""})).replace(na,"$1"),X,_t<ht&&_c(D.slice(_t,ht)),ht<H&&_c(D=D.slice(ht)),ht<H&&sa(D))}Wt.push(X)}return Tc(Wt)}function nC(D,j){var X=j.length>0,ht=D.length>0,H=function(gt,At,_t,Dt,Ut){var Wt,Vt,se,Se=0,Ft="0",He=gt&&[],sn=[],Dn=J,De=gt||ht&&I.find.TAG("*",Ut),Ws=An+=Dn==null?1:Math.random()||.1,Us=De.length;for(Ut&&(J=At==ft||At||Ut);Ft!==Us&&(Wt=De[Ft])!=null;Ft++){if(ht&&Wt){for(Vt=0,!At&&Wt.ownerDocument!=ft&&(tt(Wt),_t=!$t);se=D[Vt++];)if(se(Wt,At||ft,_t)){Dt.push(Wt);break}Ut&&(An=Ws)}X&&((Wt=!se&&Wt)&&Se--,gt&&He.push(Wt))}if(Se+=Ft,X&&Ft!==Se){for(Vt=0;se=j[Vt++];)se(He,sn,At,_t);if(gt){if(Se>0)for(;Ft--;)He[Ft]||sn[Ft]||(sn[Ft]=Vr.call(Dt));sn=aa(sn)}Xr.apply(Dt,sn),Ut&&!gt&&sn.length>0&&Se+j.length>1&&xe.uniqueSort(Dt)}return Ut&&(An=Ws,J=Dn),He};return X?tr(H):H}return G=xe.compile=function(D,j){var X,ht=[],H=[],gt=ea[D+" "];if(!gt){for(j||(j=P(D)),X=j.length;X--;)gt=_c(j[X]),gt[we]?ht.push(gt):H.push(gt);gt=ea(D,nC(H,ht)),gt.selector=D}return gt},B=xe.select=function(D,j,X,ht){var H,gt,At,_t,Dt,Ut=typeof D=="function"&&D,Wt=!ht&&P(D=Ut.selector||D);if(X=X||[],Wt.length===1){if(gt=Wt[0]=Wt[0].slice(0),gt.length>2&&(At=gt[0]).type==="ID"&&j.nodeType===9&&$t&&I.relative[gt[1].type]){if(j=(I.find.ID(At.matches[0].replace(Pr,_r),j)||[])[0],j)Ut&&(j=j.parentNode);else return X;D=D.slice(gt.shift().value.length)}for(H=ra.needsContext.test(D)?0:gt.length;H--&&(At=gt[H],!I.relative[_t=At.type]);)if((Dt=I.find[_t])&&(ht=Dt(At.matches[0].replace(Pr,_r),Sc.test(gt[0].type)&&Mc(j.parentNode)||j))){if(gt.splice(H,1),D=ht.length&&sa(gt),!D)return Xr.apply(X,ht),X;break}}return(Ut||G(D,Wt))(ht,j,!$t,X,!j||Sc.test(D)&&Mc(j.parentNode)||j),X},p.sortStable=we.split("").sort(vi).join("")===we,p.detectDuplicates=!!yt,tt(),p.sortDetached=Wn(function(D){return D.compareDocumentPosition(ft.createElement("fieldset"))&1}),Wn(function(D){return D.innerHTML="<a href='#'></a>",D.firstChild.getAttribute("href")==="#"})||Nc("type|href|height|width",function(D,j,X){if(!X)return D.getAttribute(j,j.toLowerCase()==="type"?1:2)}),(!p.attributes||!Wn(function(D){return D.innerHTML="<input/>",D.firstChild.setAttribute("value",""),D.firstChild.getAttribute("value")===""}))&&Nc("value",function(D,j,X){if(!X&&D.nodeName.toLowerCase()==="input")return D.defaultValue}),Wn(function(D){return D.getAttribute("disabled")==null})||Nc(wc,function(D,j,X){var ht;if(!X)return D[j]===!0?j.toLowerCase():(ht=D.getAttributeNode(j))&&ht.specified?ht.value:null}),xe}(e);d.find=E,d.expr=E.selectors,d.expr[":"]=d.expr.pseudos,d.uniqueSort=d.unique=E.uniqueSort,d.text=E.getText,d.isXMLDoc=E.isXML,d.contains=E.contains,d.escapeSelector=E.escape;var z=function(c,g,p){for(var I=[],x=p!==void 0;(c=c[g])&&c.nodeType!==9;)if(c.nodeType===1){if(x&&d(c).is(p))break;I.push(c)}return I},W=function(c,g){for(var p=[];c;c=c.nextSibling)c.nodeType===1&&c!==g&&p.push(c);return p},$=d.expr.match.needsContext;function Q(c,g){return c.nodeName&&c.nodeName.toLowerCase()===g.toLowerCase()}var ut=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function dt(c,g,p){return w(g)?d.grep(c,function(I,x){return!!g.call(I,x,I)!==p}):g.nodeType?d.grep(c,function(I){return I===g!==p}):typeof g!="string"?d.grep(c,function(I){return l.call(g,I)>-1!==p}):d.filter(g,c,p)}d.filter=function(c,g,p){var I=g[0];return p&&(c=":not("+c+")"),g.length===1&&I.nodeType===1?d.find.matchesSelector(I,c)?[I]:[]:d.find.matches(c,d.grep(g,function(x){return x.nodeType===1}))},d.fn.extend({find:function(c){var g,p,I=this.length,x=this;if(typeof c!="string")return this.pushStack(d(c).filter(function(){for(g=0;g<I;g++)if(d.contains(x[g],this))return!0}));for(p=this.pushStack([]),g=0;g<I;g++)d.find(c,x[g],p);return I>1?d.uniqueSort(p):p},filter:function(c){return this.pushStack(dt(this,c||[],!1))},not:function(c){return this.pushStack(dt(this,c||[],!0))},is:function(c){return!!dt(this,typeof c=="string"&&$.test(c)?d(c):c||[],!1).length}});var Ct,vt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,mt=d.fn.init=function(c,g,p){var I,x;if(!c)return this;if(p=p||Ct,typeof c=="string")if(c[0]==="<"&&c[c.length-1]===">"&&c.length>=3?I=[null,c,null]:I=vt.exec(c),I&&(I[1]||!g))if(I[1]){if(g=g instanceof d?g[0]:g,d.merge(this,d.parseHTML(I[1],g&&g.nodeType?g.ownerDocument||g:k,!0)),ut.test(I[1])&&d.isPlainObject(g))for(I in g)w(this[I])?this[I](g[I]):this.attr(I,g[I]);return this}else return x=k.getElementById(I[2]),x&&(this[0]=x,this.length=1),this;else return!g||g.jquery?(g||p).find(c):this.constructor(g).find(c);else{if(c.nodeType)return this[0]=c,this.length=1,this;if(w(c))return p.ready!==void 0?p.ready(c):c(d)}return d.makeArray(c,this)};mt.prototype=d.fn,Ct=d(k);var St=/^(?:parents|prev(?:Until|All))/,Mt={children:!0,contents:!0,next:!0,prev:!0};d.fn.extend({has:function(c){var g=d(c,this),p=g.length;return this.filter(function(){for(var I=0;I<p;I++)if(d.contains(this,g[I]))return!0})},closest:function(c,g){var p,I=0,x=this.length,N=[],P=typeof c!="string"&&d(c);if(!$.test(c)){for(;I<x;I++)for(p=this[I];p&&p!==g;p=p.parentNode)if(p.nodeType<11&&(P?P.index(p)>-1:p.nodeType===1&&d.find.matchesSelector(p,c))){N.push(p);break}}return this.pushStack(N.length>1?d.uniqueSort(N):N)},index:function(c){return c?typeof c=="string"?l.call(d(c),this[0]):l.call(this,c.jquery?c[0]:c):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(c,g){return this.pushStack(d.uniqueSort(d.merge(this.get(),d(c,g))))},addBack:function(c){return this.add(c==null?this.prevObject:this.prevObject.filter(c))}});function Zt(c,g){for(;(c=c[g])&&c.nodeType!==1;);return c}d.each({parent:function(c){var g=c.parentNode;return g&&g.nodeType!==11?g:null},parents:function(c){return z(c,"parentNode")},parentsUntil:function(c,g,p){return z(c,"parentNode",p)},next:function(c){return Zt(c,"nextSibling")},prev:function(c){return Zt(c,"previousSibling")},nextAll:function(c){return z(c,"nextSibling")},prevAll:function(c){return z(c,"previousSibling")},nextUntil:function(c,g,p){return z(c,"nextSibling",p)},prevUntil:function(c,g,p){return z(c,"previousSibling",p)},siblings:function(c){return W((c.parentNode||{}).firstChild,c)},children:function(c){return W(c.firstChild)},contents:function(c){return c.contentDocument!=null&&i(c.contentDocument)?c.contentDocument:(Q(c,"template")&&(c=c.content||c),d.merge([],c.childNodes))}},function(c,g){d.fn[c]=function(p,I){var x=d.map(this,g,p);return c.slice(-5)!=="Until"&&(I=p),I&&typeof I=="string"&&(x=d.filter(I,x)),this.length>1&&(Mt[c]||d.uniqueSort(x),St.test(c)&&x.reverse()),this.pushStack(x)}});var kt=/[^\x20\t\r\n\f]+/g;function q(c){var g={};return d.each(c.match(kt)||[],function(p,I){g[I]=!0}),g}d.Callbacks=function(c){c=typeof c=="string"?q(c):d.extend({},c);var g,p,I,x,N=[],P=[],G=-1,B=function(){for(x=x||c.once,I=g=!0;P.length;G=-1)for(p=P.shift();++G<N.length;)N[G].apply(p[0],p[1])===!1&&c.stopOnFalse&&(G=N.length,p=!1);c.memory||(p=!1),g=!1,x&&(p?N=[]:N="")},J={add:function(){return N&&(p&&!g&&(G=N.length-1,P.push(p)),function st(yt){d.each(yt,function(tt,ft){w(ft)?(!c.unique||!J.has(ft))&&N.push(ft):ft&&ft.length&&F(ft)!=="string"&&st(ft)})}(arguments),p&&!g&&B()),this},remove:function(){return d.each(arguments,function(st,yt){for(var tt;(tt=d.inArray(yt,N,tt))>-1;)N.splice(tt,1),tt<=G&&G--}),this},has:function(st){return st?d.inArray(st,N)>-1:N.length>0},empty:function(){return N&&(N=[]),this},disable:function(){return x=P=[],N=p="",this},disabled:function(){return!N},lock:function(){return x=P=[],!p&&!g&&(N=p=""),this},locked:function(){return!!x},fireWith:function(st,yt){return x||(yt=yt||[],yt=[st,yt.slice?yt.slice():yt],P.push(yt),g||B()),this},fire:function(){return J.fireWith(this,arguments),this},fired:function(){return!!I}};return J};function et(c){return c}function nt(c){throw c}function ot(c,g,p,I){var x;try{c&&w(x=c.promise)?x.call(c).done(g).fail(p):c&&w(x=c.then)?x.call(c,g,p):g.apply(void 0,[c].slice(I))}catch(N){p.apply(void 0,[N])}}d.extend({Deferred:function(c){var g=[["notify","progress",d.Callbacks("memory"),d.Callbacks("memory"),2],["resolve","done",d.Callbacks("once memory"),d.Callbacks("once memory"),0,"resolved"],["reject","fail",d.Callbacks("once memory"),d.Callbacks("once memory"),1,"rejected"]],p="pending",I={state:function(){return p},always:function(){return x.done(arguments).fail(arguments),this},catch:function(N){return I.then(null,N)},pipe:function(){var N=arguments;return d.Deferred(function(P){d.each(g,function(G,B){var J=w(N[B[4]])&&N[B[4]];x[B[1]](function(){var st=J&&J.apply(this,arguments);st&&w(st.promise)?st.promise().progress(P.notify).done(P.resolve).fail(P.reject):P[B[0]+"With"](this,J?[st]:arguments)})}),N=null}).promise()},then:function(N,P,G){var B=0;function J(st,yt,tt,ft){return function(){var Bt=this,$t=arguments,Rt=function(){var Ue,_n;if(!(st<B)){if(Ue=tt.apply(Bt,$t),Ue===yt.promise())throw new TypeError("Thenable self-resolution");_n=Ue&&(typeof Ue=="object"||typeof Ue=="function")&&Ue.then,w(_n)?ft?_n.call(Ue,J(B,yt,et,ft),J(B,yt,nt,ft)):(B++,_n.call(Ue,J(B,yt,et,ft),J(B,yt,nt,ft),J(B,yt,et,yt.notifyWith))):(tt!==et&&(Bt=void 0,$t=[Ue]),(ft||yt.resolveWith)(Bt,$t))}},Xe=ft?Rt:function(){try{Rt()}catch(Ue){d.Deferred.exceptionHook&&d.Deferred.exceptionHook(Ue,Xe.stackTrace),st+1>=B&&(tt!==nt&&(Bt=void 0,$t=[Ue]),yt.rejectWith(Bt,$t))}};st?Xe():(d.Deferred.getStackHook&&(Xe.stackTrace=d.Deferred.getStackHook()),e.setTimeout(Xe))}}return d.Deferred(function(st){g[0][3].add(J(0,st,w(G)?G:et,st.notifyWith)),g[1][3].add(J(0,st,w(N)?N:et)),g[2][3].add(J(0,st,w(P)?P:nt))}).promise()},promise:function(N){return N!=null?d.extend(N,I):I}},x={};return d.each(g,function(N,P){var G=P[2],B=P[5];I[P[1]]=G.add,B&&G.add(function(){p=B},g[3-N][2].disable,g[3-N][3].disable,g[0][2].lock,g[0][3].lock),G.add(P[3].fire),x[P[0]]=function(){return x[P[0]+"With"](this===x?void 0:this,arguments),this},x[P[0]+"With"]=G.fireWith}),I.promise(x),c&&c.call(x,x),x},when:function(c){var g=arguments.length,p=g,I=Array(p),x=s.call(arguments),N=d.Deferred(),P=function(G){return function(B){I[G]=this,x[G]=arguments.length>1?s.call(arguments):B,--g||N.resolveWith(I,x)}};if(g<=1&&(ot(c,N.done(P(p)).resolve,N.reject,!g),N.state()==="pending"||w(x[p]&&x[p].then)))return N.then();for(;p--;)ot(x[p],P(p),N.reject);return N.promise()}});var Gt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;d.Deferred.exceptionHook=function(c,g){e.console&&e.console.warn&&c&&Gt.test(c.name)&&e.console.warn("jQuery.Deferred exception: "+c.message,c.stack,g)},d.readyException=function(c){e.setTimeout(function(){throw c})};var K=d.Deferred();d.fn.ready=function(c){return K.then(c).catch(function(g){d.readyException(g)}),this},d.extend({isReady:!1,readyWait:1,ready:function(c){(c===!0?--d.readyWait:d.isReady)||(d.isReady=!0,!(c!==!0&&--d.readyWait>0)&&K.resolveWith(k,[d]))}}),d.ready.then=K.then;function It(){k.removeEventListener("DOMContentLoaded",It),e.removeEventListener("load",It),d.ready()}k.readyState==="complete"||k.readyState!=="loading"&&!k.documentElement.doScroll?e.setTimeout(d.ready):(k.addEventListener("DOMContentLoaded",It),e.addEventListener("load",It));var ct=function(c,g,p,I,x,N,P){var G=0,B=c.length,J=p==null;if(F(p)==="object"){x=!0;for(G in p)ct(c,g,G,p[G],!0,N,P)}else if(I!==void 0&&(x=!0,w(I)||(P=!0),J&&(P?(g.call(c,I),g=null):(J=g,g=function(st,yt,tt){return J.call(d(st),tt)})),g))for(;G<B;G++)g(c[G],p,P?I:I.call(c[G],G,g(c[G],p)));return x?c:J?g.call(c):B?g(c[0],p):N},xt=/^-ms-/,Et=/-([a-z])/g;function T(c,g){return g.toUpperCase()}function _(c){return c.replace(xt,"ms-").replace(Et,T)}var m=function(c){return c.nodeType===1||c.nodeType===9||!+c.nodeType};function A(){this.expando=d.expando+A.uid++}A.uid=1,A.prototype={cache:function(c){var g=c[this.expando];return g||(g={},m(c)&&(c.nodeType?c[this.expando]=g:Object.defineProperty(c,this.expando,{value:g,configurable:!0}))),g},set:function(c,g,p){var I,x=this.cache(c);if(typeof g=="string")x[_(g)]=p;else for(I in g)x[_(I)]=g[I];return x},get:function(c,g){return g===void 0?this.cache(c):c[this.expando]&&c[this.expando][_(g)]},access:function(c,g,p){return g===void 0||g&&typeof g=="string"&&p===void 0?this.get(c,g):(this.set(c,g,p),p!==void 0?p:g)},remove:function(c,g){var p,I=c[this.expando];if(I!==void 0){if(g!==void 0)for(Array.isArray(g)?g=g.map(_):(g=_(g),g=g in I?[g]:g.match(kt)||[]),p=g.length;p--;)delete I[g[p]];(g===void 0||d.isEmptyObject(I))&&(c.nodeType?c[this.expando]=void 0:delete c[this.expando])}},hasData:function(c){var g=c[this.expando];return g!==void 0&&!d.isEmptyObject(g)}};var M=new A,L=new A,Y=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,V=/[A-Z]/g;function rt(c){return c==="true"?!0:c==="false"?!1:c==="null"?null:c===+c+""?+c:Y.test(c)?JSON.parse(c):c}function at(c,g,p){var I;if(p===void 0&&c.nodeType===1)if(I="data-"+g.replace(V,"-$&").toLowerCase(),p=c.getAttribute(I),typeof p=="string"){try{p=rt(p)}catch{}L.set(c,g,p)}else p=void 0;return p}d.extend({hasData:function(c){return L.hasData(c)||M.hasData(c)},data:function(c,g,p){return L.access(c,g,p)},removeData:function(c,g){L.remove(c,g)},_data:function(c,g,p){return M.access(c,g,p)},_removeData:function(c,g){M.remove(c,g)}}),d.fn.extend({data:function(c,g){var p,I,x,N=this[0],P=N&&N.attributes;if(c===void 0){if(this.length&&(x=L.get(N),N.nodeType===1&&!M.get(N,"hasDataAttrs"))){for(p=P.length;p--;)P[p]&&(I=P[p].name,I.indexOf("data-")===0&&(I=_(I.slice(5)),at(N,I,x[I])));M.set(N,"hasDataAttrs",!0)}return x}return typeof c=="object"?this.each(function(){L.set(this,c)}):ct(this,function(G){var B;if(N&&G===void 0)return B=L.get(N,c),B!==void 0||(B=at(N,c),B!==void 0)?B:void 0;this.each(function(){L.set(this,c,G)})},null,g,arguments.length>1,null,!0)},removeData:function(c){return this.each(function(){L.remove(this,c)})}}),d.extend({queue:function(c,g,p){var I;if(c)return g=(g||"fx")+"queue",I=M.get(c,g),p&&(!I||Array.isArray(p)?I=M.access(c,g,d.makeArray(p)):I.push(p)),I||[]},dequeue:function(c,g){g=g||"fx";var p=d.queue(c,g),I=p.length,x=p.shift(),N=d._queueHooks(c,g),P=function(){d.dequeue(c,g)};x==="inprogress"&&(x=p.shift(),I--),x&&(g==="fx"&&p.unshift("inprogress"),delete N.stop,x.call(c,P,N)),!I&&N&&N.empty.fire()},_queueHooks:function(c,g){var p=g+"queueHooks";return M.get(c,p)||M.access(c,p,{empty:d.Callbacks("once memory").add(function(){M.remove(c,[g+"queue",p])})})}}),d.fn.extend({queue:function(c,g){var p=2;return typeof c!="string"&&(g=c,c="fx",p--),arguments.length<p?d.queue(this[0],c):g===void 0?this:this.each(function(){var I=d.queue(this,c,g);d._queueHooks(this,c),c==="fx"&&I[0]!=="inprogress"&&d.dequeue(this,c)})},dequeue:function(c){return this.each(function(){d.dequeue(this,c)})},clearQueue:function(c){return this.queue(c||"fx",[])},promise:function(c,g){var p,I=1,x=d.Deferred(),N=this,P=this.length,G=function(){--I||x.resolveWith(N,[N])};for(typeof c!="string"&&(g=c,c=void 0),c=c||"fx";P--;)p=M.get(N[P],c+"queueHooks"),p&&p.empty&&(I++,p.empty.add(G));return G(),x.promise(g)}});var Tt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Nt=new RegExp("^(?:([+-])=|)("+Tt+")([a-z%]*)$","i"),bt=["Top","Right","Bottom","Left"],wt=k.documentElement,zt=function(c){return d.contains(c.ownerDocument,c)},re={composed:!0};wt.getRootNode&&(zt=function(c){return d.contains(c.ownerDocument,c)||c.getRootNode(re)===c.ownerDocument});var oe=function(c,g){return c=g||c,c.style.display==="none"||c.style.display===""&&zt(c)&&d.css(c,"display")==="none"};function Ht(c,g,p,I){var x,N,P=20,G=I?function(){return I.cur()}:function(){return d.css(c,g,"")},B=G(),J=p&&p[3]||(d.cssNumber[g]?"":"px"),st=c.nodeType&&(d.cssNumber[g]||J!=="px"&&+B)&&Nt.exec(d.css(c,g));if(st&&st[3]!==J){for(B=B/2,J=J||st[3],st=+B||1;P--;)d.style(c,g,st+J),(1-N)*(1-(N=G()/B||.5))<=0&&(P=0),st=st/N;st=st*2,d.style(c,g,st+J),p=p||[]}return p&&(st=+st||+B||0,x=p[1]?st+(p[1]+1)*p[2]:+p[2],I&&(I.unit=J,I.start=st,I.end=x)),x}var ve={};function ze(c){var g,p=c.ownerDocument,I=c.nodeName,x=ve[I];return x||(g=p.body.appendChild(p.createElement(I)),x=d.css(g,"display"),g.parentNode.removeChild(g),x==="none"&&(x="block"),ve[I]=x,x)}function fn(c,g){for(var p,I,x=[],N=0,P=c.length;N<P;N++)I=c[N],I.style&&(p=I.style.display,g?(p==="none"&&(x[N]=M.get(I,"display")||null,x[N]||(I.style.display="")),I.style.display===""&&oe(I)&&(x[N]=ze(I))):p!=="none"&&(x[N]="none",M.set(I,"display",p)));for(N=0;N<P;N++)x[N]!=null&&(c[N].style.display=x[N]);return c}d.fn.extend({show:function(){return fn(this,!0)},hide:function(){return fn(this)},toggle:function(c){return typeof c=="boolean"?c?this.show():this.hide():this.each(function(){oe(this)?d(this).show():d(this).hide()})}});var rn=/^(?:checkbox|radio)$/i,dr=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Re=/^$|^module$|\/(?:java|ecma)script/i;(function(){var c=k.createDocumentFragment(),g=c.appendChild(k.createElement("div")),p=k.createElement("input");p.setAttribute("type","radio"),p.setAttribute("checked","checked"),p.setAttribute("name","t"),g.appendChild(p),b.checkClone=g.cloneNode(!0).cloneNode(!0).lastChild.checked,g.innerHTML="<textarea>x</textarea>",b.noCloneChecked=!!g.cloneNode(!0).lastChild.defaultValue,g.innerHTML="<option></option>",b.option=!!g.lastChild})();var be={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};be.tbody=be.tfoot=be.colgroup=be.caption=be.thead,be.th=be.td,b.option||(be.optgroup=be.option=[1,"<select multiple='multiple'>","</select>"]);function We(c,g){var p;return typeof c.getElementsByTagName<"u"?p=c.getElementsByTagName(g||"*"):typeof c.querySelectorAll<"u"?p=c.querySelectorAll(g||"*"):p=[],g===void 0||g&&Q(c,g)?d.merge([c],p):p}function hr(c,g){for(var p=0,I=c.length;p<I;p++)M.set(c[p],"globalEval",!g||M.get(g[p],"globalEval"))}var $o=/<|&#?\w+;/;function ks(c,g,p,I,x){for(var N,P,G,B,J,st,yt=g.createDocumentFragment(),tt=[],ft=0,Bt=c.length;ft<Bt;ft++)if(N=c[ft],N||N===0)if(F(N)==="object")d.merge(tt,N.nodeType?[N]:N);else if(!$o.test(N))tt.push(g.createTextNode(N));else{for(P=P||yt.appendChild(g.createElement("div")),G=(dr.exec(N)||["",""])[1].toLowerCase(),B=be[G]||be._default,P.innerHTML=B[1]+d.htmlPrefilter(N)+B[2],st=B[0];st--;)P=P.lastChild;d.merge(tt,P.childNodes),P=yt.firstChild,P.textContent=""}for(yt.textContent="",ft=0;N=tt[ft++];){if(I&&d.inArray(N,I)>-1){x&&x.push(N);continue}if(J=zt(N),P=We(yt.appendChild(N),"script"),J&&hr(P),p)for(st=0;N=P[st++];)Re.test(N.type||"")&&p.push(N)}return yt}var Ls=/^([^.]*)(?:\.(.+)|)/;function Yr(){return!0}function dn(){return!1}function aA(c,g){return c===lA()==(g==="focus")}function lA(){try{return k.activeElement}catch{}}function uc(c,g,p,I,x,N){var P,G;if(typeof g=="object"){typeof p!="string"&&(I=I||p,p=void 0);for(G in g)uc(c,G,p,I,g[G],N);return c}if(I==null&&x==null?(x=p,I=p=void 0):x==null&&(typeof p=="string"?(x=I,I=void 0):(x=I,I=p,p=void 0)),x===!1)x=dn;else if(!x)return c;return N===1&&(P=x,x=function(B){return d().off(B),P.apply(this,arguments)},x.guid=P.guid||(P.guid=d.guid++)),c.each(function(){d.event.add(this,g,x,I,p)})}d.event={global:{},add:function(c,g,p,I,x){var N,P,G,B,J,st,yt,tt,ft,Bt,$t,Rt=M.get(c);if(m(c))for(p.handler&&(N=p,p=N.handler,x=N.selector),x&&d.find.matchesSelector(wt,x),p.guid||(p.guid=d.guid++),(B=Rt.events)||(B=Rt.events=Object.create(null)),(P=Rt.handle)||(P=Rt.handle=function(Xe){return typeof d<"u"&&d.event.triggered!==Xe.type?d.event.dispatch.apply(c,arguments):void 0}),g=(g||"").match(kt)||[""],J=g.length;J--;)G=Ls.exec(g[J])||[],ft=$t=G[1],Bt=(G[2]||"").split(".").sort(),ft&&(yt=d.event.special[ft]||{},ft=(x?yt.delegateType:yt.bindType)||ft,yt=d.event.special[ft]||{},st=d.extend({type:ft,origType:$t,data:I,handler:p,guid:p.guid,selector:x,needsContext:x&&d.expr.match.needsContext.test(x),namespace:Bt.join(".")},N),(tt=B[ft])||(tt=B[ft]=[],tt.delegateCount=0,(!yt.setup||yt.setup.call(c,I,Bt,P)===!1)&&c.addEventListener&&c.addEventListener(ft,P)),yt.add&&(yt.add.call(c,st),st.handler.guid||(st.handler.guid=p.guid)),x?tt.splice(tt.delegateCount++,0,st):tt.push(st),d.event.global[ft]=!0)},remove:function(c,g,p,I,x){var N,P,G,B,J,st,yt,tt,ft,Bt,$t,Rt=M.hasData(c)&&M.get(c);if(!(!Rt||!(B=Rt.events))){for(g=(g||"").match(kt)||[""],J=g.length;J--;){if(G=Ls.exec(g[J])||[],ft=$t=G[1],Bt=(G[2]||"").split(".").sort(),!ft){for(ft in B)d.event.remove(c,ft+g[J],p,I,!0);continue}for(yt=d.event.special[ft]||{},ft=(I?yt.delegateType:yt.bindType)||ft,tt=B[ft]||[],G=G[2]&&new RegExp("(^|\\.)"+Bt.join("\\.(?:.*\\.|)")+"(\\.|$)"),P=N=tt.length;N--;)st=tt[N],(x||$t===st.origType)&&(!p||p.guid===st.guid)&&(!G||G.test(st.namespace))&&(!I||I===st.selector||I==="**"&&st.selector)&&(tt.splice(N,1),st.selector&&tt.delegateCount--,yt.remove&&yt.remove.call(c,st));P&&!tt.length&&((!yt.teardown||yt.teardown.call(c,Bt,Rt.handle)===!1)&&d.removeEvent(c,ft,Rt.handle),delete B[ft])}d.isEmptyObject(B)&&M.remove(c,"handle events")}},dispatch:function(c){var g,p,I,x,N,P,G=new Array(arguments.length),B=d.event.fix(c),J=(M.get(this,"events")||Object.create(null))[B.type]||[],st=d.event.special[B.type]||{};for(G[0]=B,g=1;g<arguments.length;g++)G[g]=arguments[g];if(B.delegateTarget=this,!(st.preDispatch&&st.preDispatch.call(this,B)===!1)){for(P=d.event.handlers.call(this,B,J),g=0;(x=P[g++])&&!B.isPropagationStopped();)for(B.currentTarget=x.elem,p=0;(N=x.handlers[p++])&&!B.isImmediatePropagationStopped();)(!B.rnamespace||N.namespace===!1||B.rnamespace.test(N.namespace))&&(B.handleObj=N,B.data=N.data,I=((d.event.special[N.origType]||{}).handle||N.handler).apply(x.elem,G),I!==void 0&&(B.result=I)===!1&&(B.preventDefault(),B.stopPropagation()));return st.postDispatch&&st.postDispatch.call(this,B),B.result}},handlers:function(c,g){var p,I,x,N,P,G=[],B=g.delegateCount,J=c.target;if(B&&J.nodeType&&!(c.type==="click"&&c.button>=1)){for(;J!==this;J=J.parentNode||this)if(J.nodeType===1&&!(c.type==="click"&&J.disabled===!0)){for(N=[],P={},p=0;p<B;p++)I=g[p],x=I.selector+" ",P[x]===void 0&&(P[x]=I.needsContext?d(x,this).index(J)>-1:d.find(x,this,null,[J]).length),P[x]&&N.push(I);N.length&&G.push({elem:J,handlers:N})}}return J=this,B<g.length&&G.push({elem:J,handlers:g.slice(B)}),G},addProp:function(c,g){Object.defineProperty(d.Event.prototype,c,{enumerable:!0,configurable:!0,get:w(g)?function(){if(this.originalEvent)return g(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[c]},set:function(p){Object.defineProperty(this,c,{enumerable:!0,configurable:!0,writable:!0,value:p})}})},fix:function(c){return c[d.expando]?c:new d.Event(c)},special:{load:{noBubble:!0},click:{setup:function(c){var g=this||c;return rn.test(g.type)&&g.click&&Q(g,"input")&&Ko(g,"click",Yr),!1},trigger:function(c){var g=this||c;return rn.test(g.type)&&g.click&&Q(g,"input")&&Ko(g,"click"),!0},_default:function(c){var g=c.target;return rn.test(g.type)&&g.click&&Q(g,"input")&&M.get(g,"click")||Q(g,"a")}},beforeunload:{postDispatch:function(c){c.result!==void 0&&c.originalEvent&&(c.originalEvent.returnValue=c.result)}}}};function Ko(c,g,p){if(!p){M.get(c,g)===void 0&&d.event.add(c,g,Yr);return}M.set(c,g,!1),d.event.add(c,g,{namespace:!1,handler:function(I){var x,N,P=M.get(this,g);if(I.isTrigger&1&&this[g]){if(P.length)(d.event.special[g]||{}).delegateType&&I.stopPropagation();else if(P=s.call(arguments),M.set(this,g,P),x=p(this,g),this[g](),N=M.get(this,g),P!==N||x?M.set(this,g,!1):N={},P!==N)return I.stopImmediatePropagation(),I.preventDefault(),N&&N.value}else P.length&&(M.set(this,g,{value:d.event.trigger(d.extend(P[0],d.Event.prototype),P.slice(1),this)}),I.stopImmediatePropagation())}})}d.removeEvent=function(c,g,p){c.removeEventListener&&c.removeEventListener(g,p)},d.Event=function(c,g){if(!(this instanceof d.Event))return new d.Event(c,g);c&&c.type?(this.originalEvent=c,this.type=c.type,this.isDefaultPrevented=c.defaultPrevented||c.defaultPrevented===void 0&&c.returnValue===!1?Yr:dn,this.target=c.target&&c.target.nodeType===3?c.target.parentNode:c.target,this.currentTarget=c.currentTarget,this.relatedTarget=c.relatedTarget):this.type=c,g&&d.extend(this,g),this.timeStamp=c&&c.timeStamp||Date.now(),this[d.expando]=!0},d.Event.prototype={constructor:d.Event,isDefaultPrevented:dn,isPropagationStopped:dn,isImmediatePropagationStopped:dn,isSimulated:!1,preventDefault:function(){var c=this.originalEvent;this.isDefaultPrevented=Yr,c&&!this.isSimulated&&c.preventDefault()},stopPropagation:function(){var c=this.originalEvent;this.isPropagationStopped=Yr,c&&!this.isSimulated&&c.stopPropagation()},stopImmediatePropagation:function(){var c=this.originalEvent;this.isImmediatePropagationStopped=Yr,c&&!this.isSimulated&&c.stopImmediatePropagation(),this.stopPropagation()}},d.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},d.event.addProp),d.each({focus:"focusin",blur:"focusout"},function(c,g){d.event.special[c]={setup:function(){return Ko(this,c,aA),!1},trigger:function(){return Ko(this,c),!0},_default:function(p){return M.get(p.target,c)},delegateType:g}}),d.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(c,g){d.event.special[c]={delegateType:g,bindType:g,handle:function(p){var I,x=this,N=p.relatedTarget,P=p.handleObj;return(!N||N!==x&&!d.contains(x,N))&&(p.type=P.origType,I=P.handler.apply(this,arguments),p.type=g),I}}}),d.fn.extend({on:function(c,g,p,I){return uc(this,c,g,p,I)},one:function(c,g,p,I){return uc(this,c,g,p,I,1)},off:function(c,g,p){var I,x;if(c&&c.preventDefault&&c.handleObj)return I=c.handleObj,d(c.delegateTarget).off(I.namespace?I.origType+"."+I.namespace:I.origType,I.selector,I.handler),this;if(typeof c=="object"){for(x in c)this.off(x,g,c[x]);return this}return(g===!1||typeof g=="function")&&(p=g,g=void 0),p===!1&&(p=dn),this.each(function(){d.event.remove(this,c,p,g)})}});var cA=/<script|<style|<link/i,uA=/checked\s*(?:[^=]|=\s*.checked.)/i,fA=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function th(c,g){return Q(c,"table")&&Q(g.nodeType!==11?g:g.firstChild,"tr")&&d(c).children("tbody")[0]||c}function dA(c){return c.type=(c.getAttribute("type")!==null)+"/"+c.type,c}function hA(c){return(c.type||"").slice(0,5)==="true/"?c.type=c.type.slice(5):c.removeAttribute("type"),c}function eh(c,g){var p,I,x,N,P,G,B;if(g.nodeType===1){if(M.hasData(c)&&(N=M.get(c),B=N.events,B)){M.remove(g,"handle events");for(x in B)for(p=0,I=B[x].length;p<I;p++)d.event.add(g,x,B[x][p])}L.hasData(c)&&(P=L.access(c),G=d.extend({},P),L.set(g,G))}}function gA(c,g){var p=g.nodeName.toLowerCase();p==="input"&&rn.test(c.type)?g.checked=c.checked:(p==="input"||p==="textarea")&&(g.defaultValue=c.defaultValue)}function Ji(c,g,p,I){g=o(g);var x,N,P,G,B,J,st=0,yt=c.length,tt=yt-1,ft=g[0],Bt=w(ft);if(Bt||yt>1&&typeof ft=="string"&&!b.checkClone&&uA.test(ft))return c.each(function($t){var Rt=c.eq($t);Bt&&(g[0]=ft.call(this,$t,Rt.html())),Ji(Rt,g,p,I)});if(yt&&(x=ks(g,c[0].ownerDocument,!1,c,I),N=x.firstChild,x.childNodes.length===1&&(x=N),N||I)){for(P=d.map(We(x,"script"),dA),G=P.length;st<yt;st++)B=x,st!==tt&&(B=d.clone(B,!0,!0),G&&d.merge(P,We(B,"script"))),p.call(c[st],B,st);if(G)for(J=P[P.length-1].ownerDocument,d.map(P,hA),st=0;st<G;st++)B=P[st],Re.test(B.type||"")&&!M.access(B,"globalEval")&&d.contains(J,B)&&(B.src&&(B.type||"").toLowerCase()!=="module"?d._evalUrl&&!B.noModule&&d._evalUrl(B.src,{nonce:B.nonce||B.getAttribute("nonce")},J):U(B.textContent.replace(fA,""),B,J))}return c}function nh(c,g,p){for(var I,x=g?d.filter(g,c):c,N=0;(I=x[N])!=null;N++)!p&&I.nodeType===1&&d.cleanData(We(I)),I.parentNode&&(p&&zt(I)&&hr(We(I,"script")),I.parentNode.removeChild(I));return c}d.extend({htmlPrefilter:function(c){return c},clone:function(c,g,p){var I,x,N,P,G=c.cloneNode(!0),B=zt(c);if(!b.noCloneChecked&&(c.nodeType===1||c.nodeType===11)&&!d.isXMLDoc(c))for(P=We(G),N=We(c),I=0,x=N.length;I<x;I++)gA(N[I],P[I]);if(g)if(p)for(N=N||We(c),P=P||We(G),I=0,x=N.length;I<x;I++)eh(N[I],P[I]);else eh(c,G);return P=We(G,"script"),P.length>0&&hr(P,!B&&We(c,"script")),G},cleanData:function(c){for(var g,p,I,x=d.event.special,N=0;(p=c[N])!==void 0;N++)if(m(p)){if(g=p[M.expando]){if(g.events)for(I in g.events)x[I]?d.event.remove(p,I):d.removeEvent(p,I,g.handle);p[M.expando]=void 0}p[L.expando]&&(p[L.expando]=void 0)}}}),d.fn.extend({detach:function(c){return nh(this,c,!0)},remove:function(c){return nh(this,c)},text:function(c){return ct(this,function(g){return g===void 0?d.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=g)})},null,c,arguments.length)},append:function(){return Ji(this,arguments,function(c){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var g=th(this,c);g.appendChild(c)}})},prepend:function(){return Ji(this,arguments,function(c){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var g=th(this,c);g.insertBefore(c,g.firstChild)}})},before:function(){return Ji(this,arguments,function(c){this.parentNode&&this.parentNode.insertBefore(c,this)})},after:function(){return Ji(this,arguments,function(c){this.parentNode&&this.parentNode.insertBefore(c,this.nextSibling)})},empty:function(){for(var c,g=0;(c=this[g])!=null;g++)c.nodeType===1&&(d.cleanData(We(c,!1)),c.textContent="");return this},clone:function(c,g){return c=c??!1,g=g??c,this.map(function(){return d.clone(this,c,g)})},html:function(c){return ct(this,function(g){var p=this[0]||{},I=0,x=this.length;if(g===void 0&&p.nodeType===1)return p.innerHTML;if(typeof g=="string"&&!cA.test(g)&&!be[(dr.exec(g)||["",""])[1].toLowerCase()]){g=d.htmlPrefilter(g);try{for(;I<x;I++)p=this[I]||{},p.nodeType===1&&(d.cleanData(We(p,!1)),p.innerHTML=g);p=0}catch{}}p&&this.empty().append(g)},null,c,arguments.length)},replaceWith:function(){var c=[];return Ji(this,arguments,function(g){var p=this.parentNode;d.inArray(this,c)<0&&(d.cleanData(We(this)),p&&p.replaceChild(g,this))},c)}}),d.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(c,g){d.fn[c]=function(p){for(var I,x=[],N=d(p),P=N.length-1,G=0;G<=P;G++)I=G===P?this:this.clone(!0),d(N[G])[g](I),a.apply(x,I.get());return this.pushStack(x)}});var fc=new RegExp("^("+Tt+")(?!px)[a-z%]+$","i"),dc=/^--/,Qo=function(c){var g=c.ownerDocument.defaultView;return(!g||!g.opener)&&(g=e),g.getComputedStyle(c)},rh=function(c,g,p){var I,x,N={};for(x in g)N[x]=c.style[x],c.style[x]=g[x];I=p.call(c);for(x in g)c.style[x]=N[x];return I},pA=new RegExp(bt.join("|"),"i"),ih="[\\x20\\t\\r\\n\\f]",mA=new RegExp("^"+ih+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ih+"+$","g");(function(){function c(){if(J){B.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",J.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",wt.appendChild(B).appendChild(J);var st=e.getComputedStyle(J);p=st.top!=="1%",G=g(st.marginLeft)===12,J.style.right="60%",N=g(st.right)===36,I=g(st.width)===36,J.style.position="absolute",x=g(J.offsetWidth/3)===12,wt.removeChild(B),J=null}}function g(st){return Math.round(parseFloat(st))}var p,I,x,N,P,G,B=k.createElement("div"),J=k.createElement("div");J.style&&(J.style.backgroundClip="content-box",J.cloneNode(!0).style.backgroundClip="",b.clearCloneStyle=J.style.backgroundClip==="content-box",d.extend(b,{boxSizingReliable:function(){return c(),I},pixelBoxStyles:function(){return c(),N},pixelPosition:function(){return c(),p},reliableMarginLeft:function(){return c(),G},scrollboxSize:function(){return c(),x},reliableTrDimensions:function(){var st,yt,tt,ft;return P==null&&(st=k.createElement("table"),yt=k.createElement("tr"),tt=k.createElement("div"),st.style.cssText="position:absolute;left:-11111px;border-collapse:separate",yt.style.cssText="border:1px solid",yt.style.height="1px",tt.style.height="9px",tt.style.display="block",wt.appendChild(st).appendChild(yt).appendChild(tt),ft=e.getComputedStyle(yt),P=parseInt(ft.height,10)+parseInt(ft.borderTopWidth,10)+parseInt(ft.borderBottomWidth,10)===yt.offsetHeight,wt.removeChild(st)),P}}))})();function zs(c,g,p){var I,x,N,P,G=dc.test(g),B=c.style;return p=p||Qo(c),p&&(P=p.getPropertyValue(g)||p[g],G&&P&&(P=P.replace(mA,"$1")||void 0),P===""&&!zt(c)&&(P=d.style(c,g)),!b.pixelBoxStyles()&&fc.test(P)&&pA.test(g)&&(I=B.width,x=B.minWidth,N=B.maxWidth,B.minWidth=B.maxWidth=B.width=P,P=p.width,B.width=I,B.minWidth=x,B.maxWidth=N)),P!==void 0?P+"":P}function sh(c,g){return{get:function(){if(c()){delete this.get;return}return(this.get=g).apply(this,arguments)}}}var oh=["Webkit","Moz","ms"],ah=k.createElement("div").style,lh={};function vA(c){for(var g=c[0].toUpperCase()+c.slice(1),p=oh.length;p--;)if(c=oh[p]+g,c in ah)return c}function hc(c){var g=d.cssProps[c]||lh[c];return g||(c in ah?c:lh[c]=vA(c)||c)}var IA=/^(none|table(?!-c[ea]).+)/,yA={position:"absolute",visibility:"hidden",display:"block"},ch={letterSpacing:"0",fontWeight:"400"};function uh(c,g,p){var I=Nt.exec(g);return I?Math.max(0,I[2]-(p||0))+(I[3]||"px"):g}function gc(c,g,p,I,x,N){var P=g==="width"?1:0,G=0,B=0;if(p===(I?"border":"content"))return 0;for(;P<4;P+=2)p==="margin"&&(B+=d.css(c,p+bt[P],!0,x)),I?(p==="content"&&(B-=d.css(c,"padding"+bt[P],!0,x)),p!=="margin"&&(B-=d.css(c,"border"+bt[P]+"Width",!0,x))):(B+=d.css(c,"padding"+bt[P],!0,x),p!=="padding"?B+=d.css(c,"border"+bt[P]+"Width",!0,x):G+=d.css(c,"border"+bt[P]+"Width",!0,x));return!I&&N>=0&&(B+=Math.max(0,Math.ceil(c["offset"+g[0].toUpperCase()+g.slice(1)]-N-B-G-.5))||0),B}function fh(c,g,p){var I=Qo(c),x=!b.boxSizingReliable()||p,N=x&&d.css(c,"boxSizing",!1,I)==="border-box",P=N,G=zs(c,g,I),B="offset"+g[0].toUpperCase()+g.slice(1);if(fc.test(G)){if(!p)return G;G="auto"}return(!b.boxSizingReliable()&&N||!b.reliableTrDimensions()&&Q(c,"tr")||G==="auto"||!parseFloat(G)&&d.css(c,"display",!1,I)==="inline")&&c.getClientRects().length&&(N=d.css(c,"boxSizing",!1,I)==="border-box",P=B in c,P&&(G=c[B])),G=parseFloat(G)||0,G+gc(c,g,p||(N?"border":"content"),P,I,G)+"px"}d.extend({cssHooks:{opacity:{get:function(c,g){if(g){var p=zs(c,"opacity");return p===""?"1":p}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(c,g,p,I){if(!(!c||c.nodeType===3||c.nodeType===8||!c.style)){var x,N,P,G=_(g),B=dc.test(g),J=c.style;if(B||(g=hc(G)),P=d.cssHooks[g]||d.cssHooks[G],p!==void 0){if(N=typeof p,N==="string"&&(x=Nt.exec(p))&&x[1]&&(p=Ht(c,g,x),N="number"),p==null||p!==p)return;N==="number"&&!B&&(p+=x&&x[3]||(d.cssNumber[G]?"":"px")),!b.clearCloneStyle&&p===""&&g.indexOf("background")===0&&(J[g]="inherit"),(!P||!("set"in P)||(p=P.set(c,p,I))!==void 0)&&(B?J.setProperty(g,p):J[g]=p)}else return P&&"get"in P&&(x=P.get(c,!1,I))!==void 0?x:J[g]}},css:function(c,g,p,I){var x,N,P,G=_(g),B=dc.test(g);return B||(g=hc(G)),P=d.cssHooks[g]||d.cssHooks[G],P&&"get"in P&&(x=P.get(c,!0,p)),x===void 0&&(x=zs(c,g,I)),x==="normal"&&g in ch&&(x=ch[g]),p===""||p?(N=parseFloat(x),p===!0||isFinite(N)?N||0:x):x}}),d.each(["height","width"],function(c,g){d.cssHooks[g]={get:function(p,I,x){if(I)return IA.test(d.css(p,"display"))&&(!p.getClientRects().length||!p.getBoundingClientRect().width)?rh(p,yA,function(){return fh(p,g,x)}):fh(p,g,x)},set:function(p,I,x){var N,P=Qo(p),G=!b.scrollboxSize()&&P.position==="absolute",B=G||x,J=B&&d.css(p,"boxSizing",!1,P)==="border-box",st=x?gc(p,g,x,J,P):0;return J&&G&&(st-=Math.ceil(p["offset"+g[0].toUpperCase()+g.slice(1)]-parseFloat(P[g])-gc(p,g,"border",!1,P)-.5)),st&&(N=Nt.exec(I))&&(N[3]||"px")!=="px"&&(p.style[g]=I,I=d.css(p,g)),uh(p,I,st)}}}),d.cssHooks.marginLeft=sh(b.reliableMarginLeft,function(c,g){if(g)return(parseFloat(zs(c,"marginLeft"))||c.getBoundingClientRect().left-rh(c,{marginLeft:0},function(){return c.getBoundingClientRect().left}))+"px"}),d.each({margin:"",padding:"",border:"Width"},function(c,g){d.cssHooks[c+g]={expand:function(p){for(var I=0,x={},N=typeof p=="string"?p.split(" "):[p];I<4;I++)x[c+bt[I]+g]=N[I]||N[I-2]||N[0];return x}},c!=="margin"&&(d.cssHooks[c+g].set=uh)}),d.fn.extend({css:function(c,g){return ct(this,function(p,I,x){var N,P,G={},B=0;if(Array.isArray(I)){for(N=Qo(p),P=I.length;B<P;B++)G[I[B]]=d.css(p,I[B],!1,N);return G}return x!==void 0?d.style(p,I,x):d.css(p,I)},c,g,arguments.length>1)}});function yn(c,g,p,I,x){return new yn.prototype.init(c,g,p,I,x)}d.Tween=yn,yn.prototype={constructor:yn,init:function(c,g,p,I,x,N){this.elem=c,this.prop=p,this.easing=x||d.easing._default,this.options=g,this.start=this.now=this.cur(),this.end=I,this.unit=N||(d.cssNumber[p]?"":"px")},cur:function(){var c=yn.propHooks[this.prop];return c&&c.get?c.get(this):yn.propHooks._default.get(this)},run:function(c){var g,p=yn.propHooks[this.prop];return this.options.duration?this.pos=g=d.easing[this.easing](c,this.options.duration*c,0,1,this.options.duration):this.pos=g=c,this.now=(this.end-this.start)*g+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),p&&p.set?p.set(this):yn.propHooks._default.set(this),this}},yn.prototype.init.prototype=yn.prototype,yn.propHooks={_default:{get:function(c){var g;return c.elem.nodeType!==1||c.elem[c.prop]!=null&&c.elem.style[c.prop]==null?c.elem[c.prop]:(g=d.css(c.elem,c.prop,""),!g||g==="auto"?0:g)},set:function(c){d.fx.step[c.prop]?d.fx.step[c.prop](c):c.elem.nodeType===1&&(d.cssHooks[c.prop]||c.elem.style[hc(c.prop)]!=null)?d.style(c.elem,c.prop,c.now+c.unit):c.elem[c.prop]=c.now}}},yn.propHooks.scrollTop=yn.propHooks.scrollLeft={set:function(c){c.elem.nodeType&&c.elem.parentNode&&(c.elem[c.prop]=c.now)}},d.easing={linear:function(c){return c},swing:function(c){return .5-Math.cos(c*Math.PI)/2},_default:"swing"},d.fx=yn.prototype.init,d.fx.step={};var $i,qo,AA=/^(?:toggle|show|hide)$/,CA=/queueHooks$/;function pc(){qo&&(k.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(pc):e.setTimeout(pc,d.fx.interval),d.fx.tick())}function dh(){return e.setTimeout(function(){$i=void 0}),$i=Date.now()}function ta(c,g){var p,I=0,x={height:c};for(g=g?1:0;I<4;I+=2-g)p=bt[I],x["margin"+p]=x["padding"+p]=c;return g&&(x.opacity=x.width=c),x}function hh(c,g,p){for(var I,x=(qn.tweeners[g]||[]).concat(qn.tweeners["*"]),N=0,P=x.length;N<P;N++)if(I=x[N].call(p,g,c))return I}function bA(c,g,p){var I,x,N,P,G,B,J,st,yt="width"in g||"height"in g,tt=this,ft={},Bt=c.style,$t=c.nodeType&&oe(c),Rt=M.get(c,"fxshow");p.queue||(P=d._queueHooks(c,"fx"),P.unqueued==null&&(P.unqueued=0,G=P.empty.fire,P.empty.fire=function(){P.unqueued||G()}),P.unqueued++,tt.always(function(){tt.always(function(){P.unqueued--,d.queue(c,"fx").length||P.empty.fire()})}));for(I in g)if(x=g[I],AA.test(x)){if(delete g[I],N=N||x==="toggle",x===($t?"hide":"show"))if(x==="show"&&Rt&&Rt[I]!==void 0)$t=!0;else continue;ft[I]=Rt&&Rt[I]||d.style(c,I)}if(B=!d.isEmptyObject(g),!(!B&&d.isEmptyObject(ft))){yt&&c.nodeType===1&&(p.overflow=[Bt.overflow,Bt.overflowX,Bt.overflowY],J=Rt&&Rt.display,J==null&&(J=M.get(c,"display")),st=d.css(c,"display"),st==="none"&&(J?st=J:(fn([c],!0),J=c.style.display||J,st=d.css(c,"display"),fn([c]))),(st==="inline"||st==="inline-block"&&J!=null)&&d.css(c,"float")==="none"&&(B||(tt.done(function(){Bt.display=J}),J==null&&(st=Bt.display,J=st==="none"?"":st)),Bt.display="inline-block")),p.overflow&&(Bt.overflow="hidden",tt.always(function(){Bt.overflow=p.overflow[0],Bt.overflowX=p.overflow[1],Bt.overflowY=p.overflow[2]})),B=!1;for(I in ft)B||(Rt?"hidden"in Rt&&($t=Rt.hidden):Rt=M.access(c,"fxshow",{display:J}),N&&(Rt.hidden=!$t),$t&&fn([c],!0),tt.done(function(){$t||fn([c]),M.remove(c,"fxshow");for(I in ft)d.style(c,I,ft[I])})),B=hh($t?Rt[I]:0,I,tt),I in Rt||(Rt[I]=B.start,$t&&(B.end=B.start,B.start=0))}}function wA(c,g){var p,I,x,N,P;for(p in c)if(I=_(p),x=g[I],N=c[p],Array.isArray(N)&&(x=N[1],N=c[p]=N[0]),p!==I&&(c[I]=N,delete c[p]),P=d.cssHooks[I],P&&"expand"in P){N=P.expand(N),delete c[I];for(p in N)p in c||(c[p]=N[p],g[p]=x)}else g[I]=x}function qn(c,g,p){var I,x,N=0,P=qn.prefilters.length,G=d.Deferred().always(function(){delete B.elem}),B=function(){if(x)return!1;for(var yt=$i||dh(),tt=Math.max(0,J.startTime+J.duration-yt),ft=tt/J.duration||0,Bt=1-ft,$t=0,Rt=J.tweens.length;$t<Rt;$t++)J.tweens[$t].run(Bt);return G.notifyWith(c,[J,Bt,tt]),Bt<1&&Rt?tt:(Rt||G.notifyWith(c,[J,1,0]),G.resolveWith(c,[J]),!1)},J=G.promise({elem:c,props:d.extend({},g),opts:d.extend(!0,{specialEasing:{},easing:d.easing._default},p),originalProperties:g,originalOptions:p,startTime:$i||dh(),duration:p.duration,tweens:[],createTween:function(yt,tt){var ft=d.Tween(c,J.opts,yt,tt,J.opts.specialEasing[yt]||J.opts.easing);return J.tweens.push(ft),ft},stop:function(yt){var tt=0,ft=yt?J.tweens.length:0;if(x)return this;for(x=!0;tt<ft;tt++)J.tweens[tt].run(1);return yt?(G.notifyWith(c,[J,1,0]),G.resolveWith(c,[J,yt])):G.rejectWith(c,[J,yt]),this}}),st=J.props;for(wA(st,J.opts.specialEasing);N<P;N++)if(I=qn.prefilters[N].call(J,c,st,J.opts),I)return w(I.stop)&&(d._queueHooks(J.elem,J.opts.queue).stop=I.stop.bind(I)),I;return d.map(st,hh,J),w(J.opts.start)&&J.opts.start.call(c,J),J.progress(J.opts.progress).done(J.opts.done,J.opts.complete).fail(J.opts.fail).always(J.opts.always),d.fx.timer(d.extend(B,{elem:c,anim:J,queue:J.opts.queue})),J}d.Animation=d.extend(qn,{tweeners:{"*":[function(c,g){var p=this.createTween(c,g);return Ht(p.elem,c,Nt.exec(g),p),p}]},tweener:function(c,g){w(c)?(g=c,c=["*"]):c=c.match(kt);for(var p,I=0,x=c.length;I<x;I++)p=c[I],qn.tweeners[p]=qn.tweeners[p]||[],qn.tweeners[p].unshift(g)},prefilters:[bA],prefilter:function(c,g){g?qn.prefilters.unshift(c):qn.prefilters.push(c)}}),d.speed=function(c,g,p){var I=c&&typeof c=="object"?d.extend({},c):{complete:p||!p&&g||w(c)&&c,duration:c,easing:p&&g||g&&!w(g)&&g};return d.fx.off?I.duration=0:typeof I.duration!="number"&&(I.duration in d.fx.speeds?I.duration=d.fx.speeds[I.duration]:I.duration=d.fx.speeds._default),(I.queue==null||I.queue===!0)&&(I.queue="fx"),I.old=I.complete,I.complete=function(){w(I.old)&&I.old.call(this),I.queue&&d.dequeue(this,I.queue)},I},d.fn.extend({fadeTo:function(c,g,p,I){return this.filter(oe).css("opacity",0).show().end().animate({opacity:g},c,p,I)},animate:function(c,g,p,I){var x=d.isEmptyObject(c),N=d.speed(g,p,I),P=function(){var G=qn(this,d.extend({},c),N);(x||M.get(this,"finish"))&&G.stop(!0)};return P.finish=P,x||N.queue===!1?this.each(P):this.queue(N.queue,P)},stop:function(c,g,p){var I=function(x){var N=x.stop;delete x.stop,N(p)};return typeof c!="string"&&(p=g,g=c,c=void 0),g&&this.queue(c||"fx",[]),this.each(function(){var x=!0,N=c!=null&&c+"queueHooks",P=d.timers,G=M.get(this);if(N)G[N]&&G[N].stop&&I(G[N]);else for(N in G)G[N]&&G[N].stop&&CA.test(N)&&I(G[N]);for(N=P.length;N--;)P[N].elem===this&&(c==null||P[N].queue===c)&&(P[N].anim.stop(p),x=!1,P.splice(N,1));(x||!p)&&d.dequeue(this,c)})},finish:function(c){return c!==!1&&(c=c||"fx"),this.each(function(){var g,p=M.get(this),I=p[c+"queue"],x=p[c+"queueHooks"],N=d.timers,P=I?I.length:0;for(p.finish=!0,d.queue(this,c,[]),x&&x.stop&&x.stop.call(this,!0),g=N.length;g--;)N[g].elem===this&&N[g].queue===c&&(N[g].anim.stop(!0),N.splice(g,1));for(g=0;g<P;g++)I[g]&&I[g].finish&&I[g].finish.call(this);delete p.finish})}}),d.each(["toggle","show","hide"],function(c,g){var p=d.fn[g];d.fn[g]=function(I,x,N){return I==null||typeof I=="boolean"?p.apply(this,arguments):this.animate(ta(g,!0),I,x,N)}}),d.each({slideDown:ta("show"),slideUp:ta("hide"),slideToggle:ta("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(c,g){d.fn[c]=function(p,I,x){return this.animate(g,p,I,x)}}),d.timers=[],d.fx.tick=function(){var c,g=0,p=d.timers;for($i=Date.now();g<p.length;g++)c=p[g],!c()&&p[g]===c&&p.splice(g--,1);p.length||d.fx.stop(),$i=void 0},d.fx.timer=function(c){d.timers.push(c),d.fx.start()},d.fx.interval=13,d.fx.start=function(){qo||(qo=!0,pc())},d.fx.stop=function(){qo=null},d.fx.speeds={slow:600,fast:200,_default:400},d.fn.delay=function(c,g){return c=d.fx&&d.fx.speeds[c]||c,g=g||"fx",this.queue(g,function(p,I){var x=e.setTimeout(p,c);I.stop=function(){e.clearTimeout(x)}})},function(){var c=k.createElement("input"),g=k.createElement("select"),p=g.appendChild(k.createElement("option"));c.type="checkbox",b.checkOn=c.value!=="",b.optSelected=p.selected,c=k.createElement("input"),c.value="t",c.type="radio",b.radioValue=c.value==="t"}();var gh,Rs=d.expr.attrHandle;d.fn.extend({attr:function(c,g){return ct(this,d.attr,c,g,arguments.length>1)},removeAttr:function(c){return this.each(function(){d.removeAttr(this,c)})}}),d.extend({attr:function(c,g,p){var I,x,N=c.nodeType;if(!(N===3||N===8||N===2)){if(typeof c.getAttribute>"u")return d.prop(c,g,p);if((N!==1||!d.isXMLDoc(c))&&(x=d.attrHooks[g.toLowerCase()]||(d.expr.match.bool.test(g)?gh:void 0)),p!==void 0){if(p===null){d.removeAttr(c,g);return}return x&&"set"in x&&(I=x.set(c,p,g))!==void 0?I:(c.setAttribute(g,p+""),p)}return x&&"get"in x&&(I=x.get(c,g))!==null?I:(I=d.find.attr(c,g),I??void 0)}},attrHooks:{type:{set:function(c,g){if(!b.radioValue&&g==="radio"&&Q(c,"input")){var p=c.value;return c.setAttribute("type",g),p&&(c.value=p),g}}}},removeAttr:function(c,g){var p,I=0,x=g&&g.match(kt);if(x&&c.nodeType===1)for(;p=x[I++];)c.removeAttribute(p)}}),gh={set:function(c,g,p){return g===!1?d.removeAttr(c,p):c.setAttribute(p,p),p}},d.each(d.expr.match.bool.source.match(/\w+/g),function(c,g){var p=Rs[g]||d.find.attr;Rs[g]=function(I,x,N){var P,G,B=x.toLowerCase();return N||(G=Rs[B],Rs[B]=P,P=p(I,x,N)!=null?B:null,Rs[B]=G),P}});var xA=/^(?:input|select|textarea|button)$/i,SA=/^(?:a|area)$/i;d.fn.extend({prop:function(c,g){return ct(this,d.prop,c,g,arguments.length>1)},removeProp:function(c){return this.each(function(){delete this[d.propFix[c]||c]})}}),d.extend({prop:function(c,g,p){var I,x,N=c.nodeType;if(!(N===3||N===8||N===2))return(N!==1||!d.isXMLDoc(c))&&(g=d.propFix[g]||g,x=d.propHooks[g]),p!==void 0?x&&"set"in x&&(I=x.set(c,p,g))!==void 0?I:c[g]=p:x&&"get"in x&&(I=x.get(c,g))!==null?I:c[g]},propHooks:{tabIndex:{get:function(c){var g=d.find.attr(c,"tabindex");return g?parseInt(g,10):xA.test(c.nodeName)||SA.test(c.nodeName)&&c.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),b.optSelected||(d.propHooks.selected={get:function(c){var g=c.parentNode;return g&&g.parentNode&&g.parentNode.selectedIndex,null},set:function(c){var g=c.parentNode;g&&(g.selectedIndex,g.parentNode&&g.parentNode.selectedIndex)}}),d.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){d.propFix[this.toLowerCase()]=this});function pi(c){var g=c.match(kt)||[];return g.join(" ")}function mi(c){return c.getAttribute&&c.getAttribute("class")||""}function mc(c){return Array.isArray(c)?c:typeof c=="string"?c.match(kt)||[]:[]}d.fn.extend({addClass:function(c){var g,p,I,x,N,P;return w(c)?this.each(function(G){d(this).addClass(c.call(this,G,mi(this)))}):(g=mc(c),g.length?this.each(function(){if(I=mi(this),p=this.nodeType===1&&" "+pi(I)+" ",p){for(N=0;N<g.length;N++)x=g[N],p.indexOf(" "+x+" ")<0&&(p+=x+" ");P=pi(p),I!==P&&this.setAttribute("class",P)}}):this)},removeClass:function(c){var g,p,I,x,N,P;return w(c)?this.each(function(G){d(this).removeClass(c.call(this,G,mi(this)))}):arguments.length?(g=mc(c),g.length?this.each(function(){if(I=mi(this),p=this.nodeType===1&&" "+pi(I)+" ",p){for(N=0;N<g.length;N++)for(x=g[N];p.indexOf(" "+x+" ")>-1;)p=p.replace(" "+x+" "," ");P=pi(p),I!==P&&this.setAttribute("class",P)}}):this):this.attr("class","")},toggleClass:function(c,g){var p,I,x,N,P=typeof c,G=P==="string"||Array.isArray(c);return w(c)?this.each(function(B){d(this).toggleClass(c.call(this,B,mi(this),g),g)}):typeof g=="boolean"&&G?g?this.addClass(c):this.removeClass(c):(p=mc(c),this.each(function(){if(G)for(N=d(this),x=0;x<p.length;x++)I=p[x],N.hasClass(I)?N.removeClass(I):N.addClass(I);else(c===void 0||P==="boolean")&&(I=mi(this),I&&M.set(this,"__className__",I),this.setAttribute&&this.setAttribute("class",I||c===!1?"":M.get(this,"__className__")||""))}))},hasClass:function(c){var g,p,I=0;for(g=" "+c+" ";p=this[I++];)if(p.nodeType===1&&(" "+pi(mi(p))+" ").indexOf(g)>-1)return!0;return!1}});var NA=/\r/g;d.fn.extend({val:function(c){var g,p,I,x=this[0];return arguments.length?(I=w(c),this.each(function(N){var P;this.nodeType===1&&(I?P=c.call(this,N,d(this).val()):P=c,P==null?P="":typeof P=="number"?P+="":Array.isArray(P)&&(P=d.map(P,function(G){return G==null?"":G+""})),g=d.valHooks[this.type]||d.valHooks[this.nodeName.toLowerCase()],(!g||!("set"in g)||g.set(this,P,"value")===void 0)&&(this.value=P))})):x?(g=d.valHooks[x.type]||d.valHooks[x.nodeName.toLowerCase()],g&&"get"in g&&(p=g.get(x,"value"))!==void 0?p:(p=x.value,typeof p=="string"?p.replace(NA,""):p??"")):void 0}}),d.extend({valHooks:{option:{get:function(c){var g=d.find.attr(c,"value");return g??pi(d.text(c))}},select:{get:function(c){var g,p,I,x=c.options,N=c.selectedIndex,P=c.type==="select-one",G=P?null:[],B=P?N+1:x.length;for(N<0?I=B:I=P?N:0;I<B;I++)if(p=x[I],(p.selected||I===N)&&!p.disabled&&(!p.parentNode.disabled||!Q(p.parentNode,"optgroup"))){if(g=d(p).val(),P)return g;G.push(g)}return G},set:function(c,g){for(var p,I,x=c.options,N=d.makeArray(g),P=x.length;P--;)I=x[P],(I.selected=d.inArray(d.valHooks.option.get(I),N)>-1)&&(p=!0);return p||(c.selectedIndex=-1),N}}}}),d.each(["radio","checkbox"],function(){d.valHooks[this]={set:function(c,g){if(Array.isArray(g))return c.checked=d.inArray(d(c).val(),g)>-1}},b.checkOn||(d.valHooks[this].get=function(c){return c.getAttribute("value")===null?"on":c.value})}),b.focusin="onfocusin"in e;var ph=/^(?:focusinfocus|focusoutblur)$/,mh=function(c){c.stopPropagation()};d.extend(d.event,{trigger:function(c,g,p,I){var x,N,P,G,B,J,st,yt,tt=[p||k],ft=f.call(c,"type")?c.type:c,Bt=f.call(c,"namespace")?c.namespace.split("."):[];if(N=yt=P=p=p||k,!(p.nodeType===3||p.nodeType===8)&&!ph.test(ft+d.event.triggered)&&(ft.indexOf(".")>-1&&(Bt=ft.split("."),ft=Bt.shift(),Bt.sort()),B=ft.indexOf(":")<0&&"on"+ft,c=c[d.expando]?c:new d.Event(ft,typeof c=="object"&&c),c.isTrigger=I?2:3,c.namespace=Bt.join("."),c.rnamespace=c.namespace?new RegExp("(^|\\.)"+Bt.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c.result=void 0,c.target||(c.target=p),g=g==null?[c]:d.makeArray(g,[c]),st=d.event.special[ft]||{},!(!I&&st.trigger&&st.trigger.apply(p,g)===!1))){if(!I&&!st.noBubble&&!O(p)){for(G=st.delegateType||ft,ph.test(G+ft)||(N=N.parentNode);N;N=N.parentNode)tt.push(N),P=N;P===(p.ownerDocument||k)&&tt.push(P.defaultView||P.parentWindow||e)}for(x=0;(N=tt[x++])&&!c.isPropagationStopped();)yt=N,c.type=x>1?G:st.bindType||ft,J=(M.get(N,"events")||Object.create(null))[c.type]&&M.get(N,"handle"),J&&J.apply(N,g),J=B&&N[B],J&&J.apply&&m(N)&&(c.result=J.apply(N,g),c.result===!1&&c.preventDefault());return c.type=ft,!I&&!c.isDefaultPrevented()&&(!st._default||st._default.apply(tt.pop(),g)===!1)&&m(p)&&B&&w(p[ft])&&!O(p)&&(P=p[B],P&&(p[B]=null),d.event.triggered=ft,c.isPropagationStopped()&&yt.addEventListener(ft,mh),p[ft](),c.isPropagationStopped()&&yt.removeEventListener(ft,mh),d.event.triggered=void 0,P&&(p[B]=P)),c.result}},simulate:function(c,g,p){var I=d.extend(new d.Event,p,{type:c,isSimulated:!0});d.event.trigger(I,null,g)}}),d.fn.extend({trigger:function(c,g){return this.each(function(){d.event.trigger(c,g,this)})},triggerHandler:function(c,g){var p=this[0];if(p)return d.event.trigger(c,g,p,!0)}}),b.focusin||d.each({focus:"focusin",blur:"focusout"},function(c,g){var p=function(I){d.event.simulate(g,I.target,d.event.fix(I))};d.event.special[g]={setup:function(){var I=this.ownerDocument||this.document||this,x=M.access(I,g);x||I.addEventListener(c,p,!0),M.access(I,g,(x||0)+1)},teardown:function(){var I=this.ownerDocument||this.document||this,x=M.access(I,g)-1;x?M.access(I,g,x):(I.removeEventListener(c,p,!0),M.remove(I,g))}}});var Bs=e.location,vh={guid:Date.now()},vc=/\?/;d.parseXML=function(c){var g,p;if(!c||typeof c!="string")return null;try{g=new e.DOMParser().parseFromString(c,"text/xml")}catch{}return p=g&&g.getElementsByTagName("parsererror")[0],(!g||p)&&d.error("Invalid XML: "+(p?d.map(p.childNodes,function(I){return I.textContent}).join(`
`):c)),g};var MA=/\[\]$/,Ih=/\r?\n/g,TA=/^(?:submit|button|image|reset|file)$/i,PA=/^(?:input|select|textarea|keygen)/i;function Ic(c,g,p,I){var x;if(Array.isArray(g))d.each(g,function(N,P){p||MA.test(c)?I(c,P):Ic(c+"["+(typeof P=="object"&&P!=null?N:"")+"]",P,p,I)});else if(!p&&F(g)==="object")for(x in g)Ic(c+"["+x+"]",g[x],p,I);else I(c,g)}d.param=function(c,g){var p,I=[],x=function(N,P){var G=w(P)?P():P;I[I.length]=encodeURIComponent(N)+"="+encodeURIComponent(G??"")};if(c==null)return"";if(Array.isArray(c)||c.jquery&&!d.isPlainObject(c))d.each(c,function(){x(this.name,this.value)});else for(p in c)Ic(p,c[p],g,x);return I.join("&")},d.fn.extend({serialize:function(){return d.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var c=d.prop(this,"elements");return c?d.makeArray(c):this}).filter(function(){var c=this.type;return this.name&&!d(this).is(":disabled")&&PA.test(this.nodeName)&&!TA.test(c)&&(this.checked||!rn.test(c))}).map(function(c,g){var p=d(this).val();return p==null?null:Array.isArray(p)?d.map(p,function(I){return{name:g.name,value:I.replace(Ih,`\r
`)}}):{name:g.name,value:p.replace(Ih,`\r
`)}}).get()}});var _A=/%20/g,EA=/#.*$/,DA=/([?&])_=[^&]*/,OA=/^(.*?):[ \t]*([^\r\n]*)$/mg,kA=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,LA=/^(?:GET|HEAD)$/,zA=/^\/\//,yh={},yc={},Ah="*/".concat("*"),Ac=k.createElement("a");Ac.href=Bs.href;function Ch(c){return function(g,p){typeof g!="string"&&(p=g,g="*");var I,x=0,N=g.toLowerCase().match(kt)||[];if(w(p))for(;I=N[x++];)I[0]==="+"?(I=I.slice(1)||"*",(c[I]=c[I]||[]).unshift(p)):(c[I]=c[I]||[]).push(p)}}function bh(c,g,p,I){var x={},N=c===yc;function P(G){var B;return x[G]=!0,d.each(c[G]||[],function(J,st){var yt=st(g,p,I);if(typeof yt=="string"&&!N&&!x[yt])return g.dataTypes.unshift(yt),P(yt),!1;if(N)return!(B=yt)}),B}return P(g.dataTypes[0])||!x["*"]&&P("*")}function Cc(c,g){var p,I,x=d.ajaxSettings.flatOptions||{};for(p in g)g[p]!==void 0&&((x[p]?c:I||(I={}))[p]=g[p]);return I&&d.extend(!0,c,I),c}function RA(c,g,p){for(var I,x,N,P,G=c.contents,B=c.dataTypes;B[0]==="*";)B.shift(),I===void 0&&(I=c.mimeType||g.getResponseHeader("Content-Type"));if(I){for(x in G)if(G[x]&&G[x].test(I)){B.unshift(x);break}}if(B[0]in p)N=B[0];else{for(x in p){if(!B[0]||c.converters[x+" "+B[0]]){N=x;break}P||(P=x)}N=N||P}if(N)return N!==B[0]&&B.unshift(N),p[N]}function BA(c,g,p,I){var x,N,P,G,B,J={},st=c.dataTypes.slice();if(st[1])for(P in c.converters)J[P.toLowerCase()]=c.converters[P];for(N=st.shift();N;)if(c.responseFields[N]&&(p[c.responseFields[N]]=g),!B&&I&&c.dataFilter&&(g=c.dataFilter(g,c.dataType)),B=N,N=st.shift(),N){if(N==="*")N=B;else if(B!=="*"&&B!==N){if(P=J[B+" "+N]||J["* "+N],!P){for(x in J)if(G=x.split(" "),G[1]===N&&(P=J[B+" "+G[0]]||J["* "+G[0]],P)){P===!0?P=J[x]:J[x]!==!0&&(N=G[0],st.unshift(G[1]));break}}if(P!==!0)if(P&&c.throws)g=P(g);else try{g=P(g)}catch(yt){return{state:"parsererror",error:P?yt:"No conversion from "+B+" to "+N}}}}return{state:"success",data:g}}d.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Bs.href,type:"GET",isLocal:kA.test(Bs.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ah,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":d.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(c,g){return g?Cc(Cc(c,d.ajaxSettings),g):Cc(d.ajaxSettings,c)},ajaxPrefilter:Ch(yh),ajaxTransport:Ch(yc),ajax:function(c,g){typeof c=="object"&&(g=c,c=void 0),g=g||{};var p,I,x,N,P,G,B,J,st,yt,tt=d.ajaxSetup({},g),ft=tt.context||tt,Bt=tt.context&&(ft.nodeType||ft.jquery)?d(ft):d.event,$t=d.Deferred(),Rt=d.Callbacks("once memory"),Xe=tt.statusCode||{},Ue={},_n={},we="canceled",Jt={readyState:0,getResponseHeader:function(de){var Oe;if(B){if(!N)for(N={};Oe=OA.exec(x);)N[Oe[1].toLowerCase()+" "]=(N[Oe[1].toLowerCase()+" "]||[]).concat(Oe[2]);Oe=N[de.toLowerCase()+" "]}return Oe==null?null:Oe.join(", ")},getAllResponseHeaders:function(){return B?x:null},setRequestHeader:function(de,Oe){return B==null&&(de=_n[de.toLowerCase()]=_n[de.toLowerCase()]||de,Ue[de]=Oe),this},overrideMimeType:function(de){return B==null&&(tt.mimeType=de),this},statusCode:function(de){var Oe;if(de)if(B)Jt.always(de[Jt.status]);else for(Oe in de)Xe[Oe]=[Xe[Oe],de[Oe]];return this},abort:function(de){var Oe=de||we;return p&&p.abort(Oe),An(0,Oe),this}};if($t.promise(Jt),tt.url=((c||tt.url||Bs.href)+"").replace(zA,Bs.protocol+"//"),tt.type=g.method||g.type||tt.method||tt.type,tt.dataTypes=(tt.dataType||"*").toLowerCase().match(kt)||[""],tt.crossDomain==null){G=k.createElement("a");try{G.href=tt.url,G.href=G.href,tt.crossDomain=Ac.protocol+"//"+Ac.host!=G.protocol+"//"+G.host}catch{tt.crossDomain=!0}}if(tt.data&&tt.processData&&typeof tt.data!="string"&&(tt.data=d.param(tt.data,tt.traditional)),bh(yh,tt,g,Jt),B)return Jt;J=d.event&&tt.global,J&&d.active++===0&&d.event.trigger("ajaxStart"),tt.type=tt.type.toUpperCase(),tt.hasContent=!LA.test(tt.type),I=tt.url.replace(EA,""),tt.hasContent?tt.data&&tt.processData&&(tt.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(tt.data=tt.data.replace(_A,"+")):(yt=tt.url.slice(I.length),tt.data&&(tt.processData||typeof tt.data=="string")&&(I+=(vc.test(I)?"&":"?")+tt.data,delete tt.data),tt.cache===!1&&(I=I.replace(DA,"$1"),yt=(vc.test(I)?"&":"?")+"_="+vh.guid+++yt),tt.url=I+yt),tt.ifModified&&(d.lastModified[I]&&Jt.setRequestHeader("If-Modified-Since",d.lastModified[I]),d.etag[I]&&Jt.setRequestHeader("If-None-Match",d.etag[I])),(tt.data&&tt.hasContent&&tt.contentType!==!1||g.contentType)&&Jt.setRequestHeader("Content-Type",tt.contentType),Jt.setRequestHeader("Accept",tt.dataTypes[0]&&tt.accepts[tt.dataTypes[0]]?tt.accepts[tt.dataTypes[0]]+(tt.dataTypes[0]!=="*"?", "+Ah+"; q=0.01":""):tt.accepts["*"]);for(st in tt.headers)Jt.setRequestHeader(st,tt.headers[st]);if(tt.beforeSend&&(tt.beforeSend.call(ft,Jt,tt)===!1||B))return Jt.abort();if(we="abort",Rt.add(tt.complete),Jt.done(tt.success),Jt.fail(tt.error),p=bh(yc,tt,g,Jt),!p)An(-1,"No Transport");else{if(Jt.readyState=1,J&&Bt.trigger("ajaxSend",[Jt,tt]),B)return Jt;tt.async&&tt.timeout>0&&(P=e.setTimeout(function(){Jt.abort("timeout")},tt.timeout));try{B=!1,p.send(Ue,An)}catch(de){if(B)throw de;An(-1,de)}}function An(de,Oe,Gs,ea){var En,vi,Ii,Cn,Vr,Zn=Oe;B||(B=!0,P&&e.clearTimeout(P),p=void 0,x=ea||"",Jt.readyState=de>0?4:0,En=de>=200&&de<300||de===304,Gs&&(Cn=RA(tt,Jt,Gs)),!En&&d.inArray("script",tt.dataTypes)>-1&&d.inArray("json",tt.dataTypes)<0&&(tt.converters["text script"]=function(){}),Cn=BA(tt,Cn,Jt,En),En?(tt.ifModified&&(Vr=Jt.getResponseHeader("Last-Modified"),Vr&&(d.lastModified[I]=Vr),Vr=Jt.getResponseHeader("etag"),Vr&&(d.etag[I]=Vr)),de===204||tt.type==="HEAD"?Zn="nocontent":de===304?Zn="notmodified":(Zn=Cn.state,vi=Cn.data,Ii=Cn.error,En=!Ii)):(Ii=Zn,(de||!Zn)&&(Zn="error",de<0&&(de=0))),Jt.status=de,Jt.statusText=(Oe||Zn)+"",En?$t.resolveWith(ft,[vi,Zn,Jt]):$t.rejectWith(ft,[Jt,Zn,Ii]),Jt.statusCode(Xe),Xe=void 0,J&&Bt.trigger(En?"ajaxSuccess":"ajaxError",[Jt,tt,En?vi:Ii]),Rt.fireWith(ft,[Jt,Zn]),J&&(Bt.trigger("ajaxComplete",[Jt,tt]),--d.active||d.event.trigger("ajaxStop")))}return Jt},getJSON:function(c,g,p){return d.get(c,g,p,"json")},getScript:function(c,g){return d.get(c,void 0,g,"script")}}),d.each(["get","post"],function(c,g){d[g]=function(p,I,x,N){return w(I)&&(N=N||x,x=I,I=void 0),d.ajax(d.extend({url:p,type:g,dataType:N,data:I,success:x},d.isPlainObject(p)&&p))}}),d.ajaxPrefilter(function(c){var g;for(g in c.headers)g.toLowerCase()==="content-type"&&(c.contentType=c.headers[g]||"")}),d._evalUrl=function(c,g,p){return d.ajax({url:c,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(I){d.globalEval(I,g,p)}})},d.fn.extend({wrapAll:function(c){var g;return this[0]&&(w(c)&&(c=c.call(this[0])),g=d(c,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&g.insertBefore(this[0]),g.map(function(){for(var p=this;p.firstElementChild;)p=p.firstElementChild;return p}).append(this)),this},wrapInner:function(c){return w(c)?this.each(function(g){d(this).wrapInner(c.call(this,g))}):this.each(function(){var g=d(this),p=g.contents();p.length?p.wrapAll(c):g.append(c)})},wrap:function(c){var g=w(c);return this.each(function(p){d(this).wrapAll(g?c.call(this,p):c)})},unwrap:function(c){return this.parent(c).not("body").each(function(){d(this).replaceWith(this.childNodes)}),this}}),d.expr.pseudos.hidden=function(c){return!d.expr.pseudos.visible(c)},d.expr.pseudos.visible=function(c){return!!(c.offsetWidth||c.offsetHeight||c.getClientRects().length)},d.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch{}};var jA={0:200,1223:204},js=d.ajaxSettings.xhr();b.cors=!!js&&"withCredentials"in js,b.ajax=js=!!js,d.ajaxTransport(function(c){var g,p;if(b.cors||js&&!c.crossDomain)return{send:function(I,x){var N,P=c.xhr();if(P.open(c.type,c.url,c.async,c.username,c.password),c.xhrFields)for(N in c.xhrFields)P[N]=c.xhrFields[N];c.mimeType&&P.overrideMimeType&&P.overrideMimeType(c.mimeType),!c.crossDomain&&!I["X-Requested-With"]&&(I["X-Requested-With"]="XMLHttpRequest");for(N in I)P.setRequestHeader(N,I[N]);g=function(G){return function(){g&&(g=p=P.onload=P.onerror=P.onabort=P.ontimeout=P.onreadystatechange=null,G==="abort"?P.abort():G==="error"?typeof P.status!="number"?x(0,"error"):x(P.status,P.statusText):x(jA[P.status]||P.status,P.statusText,(P.responseType||"text")!=="text"||typeof P.responseText!="string"?{binary:P.response}:{text:P.responseText},P.getAllResponseHeaders()))}},P.onload=g(),p=P.onerror=P.ontimeout=g("error"),P.onabort!==void 0?P.onabort=p:P.onreadystatechange=function(){P.readyState===4&&e.setTimeout(function(){g&&p()})},g=g("abort");try{P.send(c.hasContent&&c.data||null)}catch(G){if(g)throw G}},abort:function(){g&&g()}}}),d.ajaxPrefilter(function(c){c.crossDomain&&(c.contents.script=!1)}),d.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(c){return d.globalEval(c),c}}}),d.ajaxPrefilter("script",function(c){c.cache===void 0&&(c.cache=!1),c.crossDomain&&(c.type="GET")}),d.ajaxTransport("script",function(c){if(c.crossDomain||c.scriptAttrs){var g,p;return{send:function(I,x){g=d("<script>").attr(c.scriptAttrs||{}).prop({charset:c.scriptCharset,src:c.url}).on("load error",p=function(N){g.remove(),p=null,N&&x(N.type==="error"?404:200,N.type)}),k.head.appendChild(g[0])},abort:function(){p&&p()}}}});var wh=[],bc=/(=)\?(?=&|$)|\?\?/;d.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var c=wh.pop()||d.expando+"_"+vh.guid++;return this[c]=!0,c}}),d.ajaxPrefilter("json jsonp",function(c,g,p){var I,x,N,P=c.jsonp!==!1&&(bc.test(c.url)?"url":typeof c.data=="string"&&(c.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&bc.test(c.data)&&"data");if(P||c.dataTypes[0]==="jsonp")return I=c.jsonpCallback=w(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,P?c[P]=c[P].replace(bc,"$1"+I):c.jsonp!==!1&&(c.url+=(vc.test(c.url)?"&":"?")+c.jsonp+"="+I),c.converters["script json"]=function(){return N||d.error(I+" was not called"),N[0]},c.dataTypes[0]="json",x=e[I],e[I]=function(){N=arguments},p.always(function(){x===void 0?d(e).removeProp(I):e[I]=x,c[I]&&(c.jsonpCallback=g.jsonpCallback,wh.push(I)),N&&w(x)&&x(N[0]),N=x=void 0}),"script"}),b.createHTMLDocument=function(){var c=k.implementation.createHTMLDocument("").body;return c.innerHTML="<form></form><form></form>",c.childNodes.length===2}(),d.parseHTML=function(c,g,p){if(typeof c!="string")return[];typeof g=="boolean"&&(p=g,g=!1);var I,x,N;return g||(b.createHTMLDocument?(g=k.implementation.createHTMLDocument(""),I=g.createElement("base"),I.href=k.location.href,g.head.appendChild(I)):g=k),x=ut.exec(c),N=!p&&[],x?[g.createElement(x[1])]:(x=ks([c],g,N),N&&N.length&&d(N).remove(),d.merge([],x.childNodes))},d.fn.load=function(c,g,p){var I,x,N,P=this,G=c.indexOf(" ");return G>-1&&(I=pi(c.slice(G)),c=c.slice(0,G)),w(g)?(p=g,g=void 0):g&&typeof g=="object"&&(x="POST"),P.length>0&&d.ajax({url:c,type:x||"GET",dataType:"html",data:g}).done(function(B){N=arguments,P.html(I?d("<div>").append(d.parseHTML(B)).find(I):B)}).always(p&&function(B,J){P.each(function(){p.apply(this,N||[B.responseText,J,B])})}),this},d.expr.pseudos.animated=function(c){return d.grep(d.timers,function(g){return c===g.elem}).length},d.offset={setOffset:function(c,g,p){var I,x,N,P,G,B,J,st=d.css(c,"position"),yt=d(c),tt={};st==="static"&&(c.style.position="relative"),G=yt.offset(),N=d.css(c,"top"),B=d.css(c,"left"),J=(st==="absolute"||st==="fixed")&&(N+B).indexOf("auto")>-1,J?(I=yt.position(),P=I.top,x=I.left):(P=parseFloat(N)||0,x=parseFloat(B)||0),w(g)&&(g=g.call(c,p,d.extend({},G))),g.top!=null&&(tt.top=g.top-G.top+P),g.left!=null&&(tt.left=g.left-G.left+x),"using"in g?g.using.call(c,tt):yt.css(tt)}},d.fn.extend({offset:function(c){if(arguments.length)return c===void 0?this:this.each(function(x){d.offset.setOffset(this,c,x)});var g,p,I=this[0];if(I)return I.getClientRects().length?(g=I.getBoundingClientRect(),p=I.ownerDocument.defaultView,{top:g.top+p.pageYOffset,left:g.left+p.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var c,g,p,I=this[0],x={top:0,left:0};if(d.css(I,"position")==="fixed")g=I.getBoundingClientRect();else{for(g=this.offset(),p=I.ownerDocument,c=I.offsetParent||p.documentElement;c&&(c===p.body||c===p.documentElement)&&d.css(c,"position")==="static";)c=c.parentNode;c&&c!==I&&c.nodeType===1&&(x=d(c).offset(),x.top+=d.css(c,"borderTopWidth",!0),x.left+=d.css(c,"borderLeftWidth",!0))}return{top:g.top-x.top-d.css(I,"marginTop",!0),left:g.left-x.left-d.css(I,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var c=this.offsetParent;c&&d.css(c,"position")==="static";)c=c.offsetParent;return c||wt})}}),d.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(c,g){var p=g==="pageYOffset";d.fn[c]=function(I){return ct(this,function(x,N,P){var G;if(O(x)?G=x:x.nodeType===9&&(G=x.defaultView),P===void 0)return G?G[g]:x[N];G?G.scrollTo(p?G.pageXOffset:P,p?P:G.pageYOffset):x[N]=P},c,I,arguments.length)}}),d.each(["top","left"],function(c,g){d.cssHooks[g]=sh(b.pixelPosition,function(p,I){if(I)return I=zs(p,g),fc.test(I)?d(p).position()[g]+"px":I})}),d.each({Height:"height",Width:"width"},function(c,g){d.each({padding:"inner"+c,content:g,"":"outer"+c},function(p,I){d.fn[I]=function(x,N){var P=arguments.length&&(p||typeof x!="boolean"),G=p||(x===!0||N===!0?"margin":"border");return ct(this,function(B,J,st){var yt;return O(B)?I.indexOf("outer")===0?B["inner"+c]:B.document.documentElement["client"+c]:B.nodeType===9?(yt=B.documentElement,Math.max(B.body["scroll"+c],yt["scroll"+c],B.body["offset"+c],yt["offset"+c],yt["client"+c])):st===void 0?d.css(B,J,G):d.style(B,J,st,G)},g,P?x:void 0,P)}})}),d.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(c,g){d.fn[g]=function(p){return this.on(g,p)}}),d.fn.extend({bind:function(c,g,p){return this.on(c,null,g,p)},unbind:function(c,g){return this.off(c,null,g)},delegate:function(c,g,p,I){return this.on(g,c,p,I)},undelegate:function(c,g,p){return arguments.length===1?this.off(c,"**"):this.off(g,c||"**",p)},hover:function(c,g){return this.mouseenter(c).mouseleave(g||c)}}),d.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(c,g){d.fn[g]=function(p,I){return arguments.length>0?this.on(g,null,p,I):this.trigger(g)}});var GA=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;d.proxy=function(c,g){var p,I,x;if(typeof g=="string"&&(p=c[g],g=c,c=p),!!w(c))return I=s.call(arguments,2),x=function(){return c.apply(g||this,I.concat(s.call(arguments)))},x.guid=c.guid=c.guid||d.guid++,x},d.holdReady=function(c){c?d.readyWait++:d.ready(!0)},d.isArray=Array.isArray,d.parseJSON=JSON.parse,d.nodeName=Q,d.isFunction=w,d.isWindow=O,d.camelCase=_,d.type=F,d.now=Date.now,d.isNumeric=function(c){var g=d.type(c);return(g==="number"||g==="string")&&!isNaN(c-parseFloat(c))},d.trim=function(c){return c==null?"":(c+"").replace(GA,"$1")};var ZA=e.jQuery,WA=e.$;return d.noConflict=function(c){return e.$===d&&(e.$=WA),c&&e.jQuery===d&&(e.jQuery=ZA),d},typeof n>"u"&&(e.jQuery=e.$=d),d})})(PI);var _I=PI.exports;const ce=e0(_I);(function(t){(function(e){var n=typeof self=="object"&&self.self===self&&self||typeof Qs=="object"&&Qs.global===Qs&&Qs;{var r=FM,i;try{i=_I}catch{}e(n,t,r,i)}})(function(e,n,r,i){var s=e.Backbone,o=Array.prototype.slice;n.VERSION="1.4.1",n.$=i,n.noConflict=function(){return e.Backbone=s,this},n.emulateHTTP=!1,n.emulateJSON=!1;var a=n.Events={},l=/\s+/,u,h=function(m,A,M,L,Y){var V=0,rt;if(M&&typeof M=="object")for(L!==void 0&&("context"in Y)&&Y.context===void 0&&(Y.context=L),rt=r.keys(M);V<rt.length;V++)A=h(m,A,rt[V],M[rt[V]],Y);else if(M&&l.test(M))for(rt=M.split(l);V<rt.length;V++)A=m(A,rt[V],L,Y);else A=m(A,M,L,Y);return A};a.on=function(m,A,M){if(this._events=h(f,this._events||{},m,A,{context:M,ctx:this,listening:u}),u){var L=this._listeners||(this._listeners={});L[u.id]=u,u.interop=!1}return this},a.listenTo=function(m,A,M){if(!m)return this;var L=m._listenId||(m._listenId=r.uniqueId("l")),Y=this._listeningTo||(this._listeningTo={}),V=u=Y[L];V||(this._listenId||(this._listenId=r.uniqueId("l")),V=u=Y[L]=new k(this,m));var rt=v(m,A,M,this);if(u=void 0,rt)throw rt;return V.interop&&V.on(A,M),this};var f=function(m,A,M,L){if(M){var Y=m[A]||(m[A]=[]),V=L.context,rt=L.ctx,at=L.listening;at&&at.count++,Y.push({callback:M,context:V,ctx:V||rt,listening:at})}return m},v=function(m,A,M,L){try{m.on(A,M,L)}catch(Y){return Y}};a.off=function(m,A,M){return this._events?(this._events=h(C,this._events,m,A,{context:M,listeners:this._listeners}),this):this},a.stopListening=function(m,A,M){var L=this._listeningTo;if(!L)return this;for(var Y=m?[m._listenId]:r.keys(L),V=0;V<Y.length;V++){var rt=L[Y[V]];if(!rt)break;rt.obj.off(A,M,this),rt.interop&&rt.off(A,M)}return r.isEmpty(L)&&(this._listeningTo=void 0),this};var C=function(m,A,M,L){if(m){var Y=L.context,V=L.listeners,rt=0,at;if(!A&&!Y&&!M){for(at=r.keys(V);rt<at.length;rt++)V[at[rt]].cleanup();return}for(at=A?[A]:r.keys(m);rt<at.length;rt++){A=at[rt];var Tt=m[A];if(!Tt)break;for(var Nt=[],bt=0;bt<Tt.length;bt++){var wt=Tt[bt];if(M&&M!==wt.callback&&M!==wt.callback._callback||Y&&Y!==wt.context)Nt.push(wt);else{var zt=wt.listening;zt&&zt.off(A,M)}}Nt.length?m[A]=Nt:delete m[A]}return m}};a.once=function(m,A,M){var L=h(b,{},m,A,this.off.bind(this));return typeof m=="string"&&M==null&&(A=void 0),this.on(L,A,M)},a.listenToOnce=function(m,A,M){var L=h(b,{},A,M,this.stopListening.bind(this,m));return this.listenTo(m,L)};var b=function(m,A,M,L){if(M){var Y=m[A]=r.once(function(){L(A,Y),M.apply(this,arguments)});Y._callback=M}return m};a.trigger=function(m){if(!this._events)return this;for(var A=Math.max(0,arguments.length-1),M=Array(A),L=0;L<A;L++)M[L]=arguments[L+1];return h(w,this._events,m,void 0,M),this};var w=function(m,A,M,L){if(m){var Y=m[A],V=m.all;Y&&V&&(V=V.slice()),Y&&O(Y,L),V&&O(V,[A].concat(L))}return m},O=function(m,A){var M,L=-1,Y=m.length,V=A[0],rt=A[1],at=A[2];switch(A.length){case 0:for(;++L<Y;)(M=m[L]).callback.call(M.ctx);return;case 1:for(;++L<Y;)(M=m[L]).callback.call(M.ctx,V);return;case 2:for(;++L<Y;)(M=m[L]).callback.call(M.ctx,V,rt);return;case 3:for(;++L<Y;)(M=m[L]).callback.call(M.ctx,V,rt,at);return;default:for(;++L<Y;)(M=m[L]).callback.apply(M.ctx,A);return}},k=function(m,A){this.id=m._listenId,this.listener=m,this.obj=A,this.interop=!0,this.count=0,this._events=void 0};k.prototype.on=a.on,k.prototype.off=function(m,A){var M;this.interop?(this._events=h(C,this._events,m,A,{context:void 0,listeners:void 0}),M=!this._events):(this.count--,M=this.count===0),M&&this.cleanup()},k.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},a.bind=a.on,a.unbind=a.off,r.extend(n,a);var R=n.Model=function(m,A){var M=m||{};A||(A={}),this.preinitialize.apply(this,arguments),this.cid=r.uniqueId(this.cidPrefix),this.attributes={},A.collection&&(this.collection=A.collection),A.parse&&(M=this.parse(M,A)||{});var L=r.result(this,"defaults");M=r.defaults(r.extend({},L,M),L),this.set(M,A),this.changed={},this.initialize.apply(this,arguments)};r.extend(R.prototype,a,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(m){return r.clone(this.attributes)},sync:function(){return n.sync.apply(this,arguments)},get:function(m){return this.attributes[m]},escape:function(m){return r.escape(this.get(m))},has:function(m){return this.get(m)!=null},matches:function(m){return!!r.iteratee(m,this)(this.attributes)},set:function(m,A,M){if(m==null)return this;var L;if(typeof m=="object"?(L=m,M=A):(L={})[m]=A,M||(M={}),!this._validate(L,M))return!1;var Y=M.unset,V=M.silent,rt=[],at=this._changing;this._changing=!0,at||(this._previousAttributes=r.clone(this.attributes),this.changed={});var Tt=this.attributes,Nt=this.changed,bt=this._previousAttributes;for(var wt in L)A=L[wt],r.isEqual(Tt[wt],A)||rt.push(wt),r.isEqual(bt[wt],A)?delete Nt[wt]:Nt[wt]=A,Y?delete Tt[wt]:Tt[wt]=A;if(this.idAttribute in L){var zt=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,zt,M)}if(!V){rt.length&&(this._pending=M);for(var re=0;re<rt.length;re++)this.trigger("change:"+rt[re],this,Tt[rt[re]],M)}if(at)return this;if(!V)for(;this._pending;)M=this._pending,this._pending=!1,this.trigger("change",this,M);return this._pending=!1,this._changing=!1,this},unset:function(m,A){return this.set(m,void 0,r.extend({},A,{unset:!0}))},clear:function(m){var A={};for(var M in this.attributes)A[M]=void 0;return this.set(A,r.extend({},m,{unset:!0}))},hasChanged:function(m){return m==null?!r.isEmpty(this.changed):r.has(this.changed,m)},changedAttributes:function(m){if(!m)return this.hasChanged()?r.clone(this.changed):!1;var A=this._changing?this._previousAttributes:this.attributes,M={},L;for(var Y in m){var V=m[Y];r.isEqual(A[Y],V)||(M[Y]=V,L=!0)}return L?M:!1},previous:function(m){return m==null||!this._previousAttributes?null:this._previousAttributes[m]},previousAttributes:function(){return r.clone(this._previousAttributes)},fetch:function(m){m=r.extend({parse:!0},m);var A=this,M=m.success;return m.success=function(L){var Y=m.parse?A.parse(L,m):L;if(!A.set(Y,m))return!1;M&&M.call(m.context,A,L,m),A.trigger("sync",A,L,m)},_(this,m),this.sync("read",this,m)},save:function(m,A,M){var L;m==null||typeof m=="object"?(L=m,M=A):(L={})[m]=A,M=r.extend({validate:!0,parse:!0},M);var Y=M.wait;if(L&&!Y){if(!this.set(L,M))return!1}else if(!this._validate(L,M))return!1;var V=this,rt=M.success,at=this.attributes;M.success=function(bt){V.attributes=at;var wt=M.parse?V.parse(bt,M):bt;if(Y&&(wt=r.extend({},L,wt)),wt&&!V.set(wt,M))return!1;rt&&rt.call(M.context,V,bt,M),V.trigger("sync",V,bt,M)},_(this,M),L&&Y&&(this.attributes=r.extend({},at,L));var Tt=this.isNew()?"create":M.patch?"patch":"update";Tt==="patch"&&!M.attrs&&(M.attrs=L);var Nt=this.sync(Tt,this,M);return this.attributes=at,Nt},destroy:function(m){m=m?r.clone(m):{};var A=this,M=m.success,L=m.wait,Y=function(){A.stopListening(),A.trigger("destroy",A,A.collection,m)};m.success=function(rt){L&&Y(),M&&M.call(m.context,A,rt,m),A.isNew()||A.trigger("sync",A,rt,m)};var V=!1;return this.isNew()?r.defer(m.success):(_(this,m),V=this.sync("delete",this,m)),L||Y(),V},url:function(){var m=r.result(this,"urlRoot")||r.result(this.collection,"url")||T();if(this.isNew())return m;var A=this.get(this.idAttribute);return m.replace(/[^\/]$/,"$&/")+encodeURIComponent(A)},parse:function(m,A){return m},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(m){return this._validate({},r.extend({},m,{validate:!0}))},_validate:function(m,A){if(!A.validate||!this.validate)return!0;m=r.extend({},this.attributes,m);var M=this.validationError=this.validate(m,A)||null;return M?(this.trigger("invalid",this,M,r.extend(A,{validationError:M})),!1):!0}});var U=n.Collection=function(m,A){A||(A={}),this.preinitialize.apply(this,arguments),A.model&&(this.model=A.model),A.comparator!==void 0&&(this.comparator=A.comparator),this._reset(),this.initialize.apply(this,arguments),m&&this.reset(m,r.extend({silent:!0},A))},F={add:!0,remove:!0,merge:!0},y={add:!0,remove:!1},d=function(m,A,M){M=Math.min(Math.max(M,0),m.length);var L=Array(m.length-M),Y=A.length,V;for(V=0;V<L.length;V++)L[V]=m[V+M];for(V=0;V<Y;V++)m[V+M]=A[V];for(V=0;V<L.length;V++)m[V+Y+M]=L[V]};r.extend(U.prototype,a,{model:R,preinitialize:function(){},initialize:function(){},toJSON:function(m){return this.map(function(A){return A.toJSON(m)})},sync:function(){return n.sync.apply(this,arguments)},add:function(m,A){return this.set(m,r.extend({merge:!1},A,y))},remove:function(m,A){A=r.extend({},A);var M=!r.isArray(m);m=M?[m]:m.slice();var L=this._removeModels(m,A);return!A.silent&&L.length&&(A.changes={added:[],merged:[],removed:L},this.trigger("update",this,A)),M?L[0]:L},set:function(m,A){if(m!=null){A=r.extend({},F,A),A.parse&&!this._isModel(m)&&(m=this.parse(m,A)||[]);var M=!r.isArray(m);m=M?[m]:m.slice();var L=A.at;L!=null&&(L=+L),L>this.length&&(L=this.length),L<0&&(L+=this.length+1);var Y=[],V=[],rt=[],at=[],Tt={},Nt=A.add,bt=A.merge,wt=A.remove,zt=!1,re=this.comparator&&L==null&&A.sort!==!1,oe=r.isString(this.comparator)?this.comparator:null,Ht,ve;for(ve=0;ve<m.length;ve++){Ht=m[ve];var ze=this.get(Ht);if(ze){if(bt&&Ht!==ze){var fn=this._isModel(Ht)?Ht.attributes:Ht;A.parse&&(fn=ze.parse(fn,A)),ze.set(fn,A),rt.push(ze),re&&!zt&&(zt=ze.hasChanged(oe))}Tt[ze.cid]||(Tt[ze.cid]=!0,Y.push(ze)),m[ve]=ze}else Nt&&(Ht=m[ve]=this._prepareModel(Ht,A),Ht&&(V.push(Ht),this._addReference(Ht,A),Tt[Ht.cid]=!0,Y.push(Ht)))}if(wt){for(ve=0;ve<this.length;ve++)Ht=this.models[ve],Tt[Ht.cid]||at.push(Ht);at.length&&this._removeModels(at,A)}var rn=!1,dr=!re&&Nt&&wt;if(Y.length&&dr?(rn=this.length!==Y.length||r.some(this.models,function(Re,be){return Re!==Y[be]}),this.models.length=0,d(this.models,Y,0),this.length=this.models.length):V.length&&(re&&(zt=!0),d(this.models,V,L??this.length),this.length=this.models.length),zt&&this.sort({silent:!0}),!A.silent){for(ve=0;ve<V.length;ve++)L!=null&&(A.index=L+ve),Ht=V[ve],Ht.trigger("add",Ht,this,A);(zt||rn)&&this.trigger("sort",this,A),(V.length||at.length||rt.length)&&(A.changes={added:V,removed:at,merged:rt},this.trigger("update",this,A))}return M?m[0]:m}},reset:function(m,A){A=A?r.clone(A):{};for(var M=0;M<this.models.length;M++)this._removeReference(this.models[M],A);return A.previousModels=this.models,this._reset(),m=this.add(m,r.extend({silent:!0},A)),A.silent||this.trigger("reset",this,A),m},push:function(m,A){return this.add(m,r.extend({at:this.length},A))},pop:function(m){var A=this.at(this.length-1);return this.remove(A,m)},unshift:function(m,A){return this.add(m,r.extend({at:0},A))},shift:function(m){var A=this.at(0);return this.remove(A,m)},slice:function(){return o.apply(this.models,arguments)},get:function(m){if(m!=null)return this._byId[m]||this._byId[this.modelId(this._isModel(m)?m.attributes:m,m.idAttribute)]||m.cid&&this._byId[m.cid]},has:function(m){return this.get(m)!=null},at:function(m){return m<0&&(m+=this.length),this.models[m]},where:function(m,A){return this[A?"find":"filter"](m)},findWhere:function(m){return this.where(m,!0)},sort:function(m){var A=this.comparator;if(!A)throw new Error("Cannot sort a set without a comparator");m||(m={});var M=A.length;return r.isFunction(A)&&(A=A.bind(this)),M===1||r.isString(A)?this.models=this.sortBy(A):this.models.sort(A),m.silent||this.trigger("sort",this,m),this},pluck:function(m){return this.map(m+"")},fetch:function(m){m=r.extend({parse:!0},m);var A=m.success,M=this;return m.success=function(L){var Y=m.reset?"reset":"set";M[Y](L,m),A&&A.call(m.context,M,L,m),M.trigger("sync",M,L,m)},_(this,m),this.sync("read",this,m)},create:function(m,A){A=A?r.clone(A):{};var M=A.wait;if(m=this._prepareModel(m,A),!m)return!1;M||this.add(m,A);var L=this,Y=A.success;return A.success=function(V,rt,at){M&&L.add(V,at),Y&&Y.call(at.context,V,rt,at)},m.save(null,A),m},parse:function(m,A){return m},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(m,A){return m[A||this.model.prototype.idAttribute||"id"]},values:function(){return new E(this,z)},keys:function(){return new E(this,W)},entries:function(){return new E(this,$)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(m,A){if(this._isModel(m))return m.collection||(m.collection=this),m;A=A?r.clone(A):{},A.collection=this;var M;return this.model.prototype?M=new this.model(m,A):M=this.model(m,A),M.validationError?(this.trigger("invalid",this,M.validationError,A),!1):M},_removeModels:function(m,A){for(var M=[],L=0;L<m.length;L++){var Y=this.get(m[L]);if(Y){var V=this.indexOf(Y);this.models.splice(V,1),this.length--,delete this._byId[Y.cid];var rt=this.modelId(Y.attributes,Y.idAttribute);rt!=null&&delete this._byId[rt],A.silent||(A.index=V,Y.trigger("remove",Y,this,A)),M.push(Y),this._removeReference(Y,A)}}return M},_isModel:function(m){return m instanceof R},_addReference:function(m,A){this._byId[m.cid]=m;var M=this.modelId(m.attributes,m.idAttribute);M!=null&&(this._byId[M]=m),m.on("all",this._onModelEvent,this)},_removeReference:function(m,A){delete this._byId[m.cid];var M=this.modelId(m.attributes,m.idAttribute);M!=null&&delete this._byId[M],this===m.collection&&delete m.collection,m.off("all",this._onModelEvent,this)},_onModelEvent:function(m,A,M,L){if(A){if((m==="add"||m==="remove")&&M!==this)return;if(m==="destroy"&&this.remove(A,L),m==="changeId"){var Y=this.modelId(A.previousAttributes(),A.idAttribute),V=this.modelId(A.attributes,A.idAttribute);Y!=null&&delete this._byId[Y],V!=null&&(this._byId[V]=A)}}this.trigger.apply(this,arguments)}});var S=typeof Symbol=="function"&&Symbol.iterator;S&&(U.prototype[S]=U.prototype.values);var E=function(m,A){this._collection=m,this._kind=A,this._index=0},z=1,W=2,$=3;S&&(E.prototype[S]=function(){return this}),E.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var m=this._collection.at(this._index);this._index++;var A;if(this._kind===z)A=m;else{var M=this._collection.modelId(m.attributes,m.idAttribute);this._kind===W?A=M:A=[M,m]}return{value:A,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var Q=n.View=function(m){this.cid=r.uniqueId("view"),this.preinitialize.apply(this,arguments),r.extend(this,r.pick(m,dt)),this._ensureElement(),this.initialize.apply(this,arguments)},ut=/^(\S+)\s*(.*)$/,dt=["model","collection","el","id","attributes","className","tagName","events"];r.extend(Q.prototype,a,{tagName:"div",$:function(m){return this.$el.find(m)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(m){return this.undelegateEvents(),this._setElement(m),this.delegateEvents(),this},_setElement:function(m){this.$el=m instanceof n.$?m:n.$(m),this.el=this.$el[0]},delegateEvents:function(m){if(m||(m=r.result(this,"events")),!m)return this;this.undelegateEvents();for(var A in m){var M=m[A];if(r.isFunction(M)||(M=this[M]),!!M){var L=A.match(ut);this.delegate(L[1],L[2],M.bind(this))}}return this},delegate:function(m,A,M){return this.$el.on(m+".delegateEvents"+this.cid,A,M),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(m,A,M){return this.$el.off(m+".delegateEvents"+this.cid,A,M),this},_createElement:function(m){return document.createElement(m)},_ensureElement:function(){if(this.el)this.setElement(r.result(this,"el"));else{var m=r.extend({},r.result(this,"attributes"));this.id&&(m.id=r.result(this,"id")),this.className&&(m.class=r.result(this,"className")),this.setElement(this._createElement(r.result(this,"tagName"))),this._setAttributes(m)}},_setAttributes:function(m){this.$el.attr(m)}});var Ct=function(m,A,M,L){switch(A){case 1:return function(){return m[M](this[L])};case 2:return function(Y){return m[M](this[L],Y)};case 3:return function(Y,V){return m[M](this[L],mt(Y,this),V)};case 4:return function(Y,V,rt){return m[M](this[L],mt(Y,this),V,rt)};default:return function(){var Y=o.call(arguments);return Y.unshift(this[L]),m[M].apply(m,Y)}}},vt=function(m,A,M,L){r.each(M,function(Y,V){A[V]&&(m.prototype[V]=Ct(A,Y,V,L))})},mt=function(m,A){return r.isFunction(m)?m:r.isObject(m)&&!A._isModel(m)?St(m):r.isString(m)?function(M){return M.get(m)}:m},St=function(m){var A=r.matches(m);return function(M){return A(M.attributes)}},Mt={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},Zt={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};r.each([[U,Mt,"models"],[R,Zt,"attributes"]],function(m){var A=m[0],M=m[1],L=m[2];A.mixin=function(Y){var V=r.reduce(r.functions(Y),function(rt,at){return rt[at]=0,rt},{});vt(A,Y,V,L)},vt(A,r,M,L)}),n.sync=function(m,A,M){var L=kt[m];r.defaults(M||(M={}),{emulateHTTP:n.emulateHTTP,emulateJSON:n.emulateJSON});var Y={type:L,dataType:"json"};if(M.url||(Y.url=r.result(A,"url")||T()),M.data==null&&A&&(m==="create"||m==="update"||m==="patch")&&(Y.contentType="application/json",Y.data=JSON.stringify(M.attrs||A.toJSON(M))),M.emulateJSON&&(Y.contentType="application/x-www-form-urlencoded",Y.data=Y.data?{model:Y.data}:{}),M.emulateHTTP&&(L==="PUT"||L==="DELETE"||L==="PATCH")){Y.type="POST",M.emulateJSON&&(Y.data._method=L);var V=M.beforeSend;M.beforeSend=function(Tt){if(Tt.setRequestHeader("X-HTTP-Method-Override",L),V)return V.apply(this,arguments)}}Y.type!=="GET"&&!M.emulateJSON&&(Y.processData=!1);var rt=M.error;M.error=function(Tt,Nt,bt){M.textStatus=Nt,M.errorThrown=bt,rt&&rt.call(M.context,Tt,Nt,bt)};var at=M.xhr=n.ajax(r.extend(Y,M));return A.trigger("request",A,at,M),at};var kt={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};n.ajax=function(){return n.$.ajax.apply(n.$,arguments)};var q=n.Router=function(m){m||(m={}),this.preinitialize.apply(this,arguments),m.routes&&(this.routes=m.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},et=/\((.*?)\)/g,nt=/(\(\?)?:\w+/g,ot=/\*\w+/g,Gt=/[\-{}\[\]+?.,\\\^$|#\s]/g;r.extend(q.prototype,a,{preinitialize:function(){},initialize:function(){},route:function(m,A,M){r.isRegExp(m)||(m=this._routeToRegExp(m)),r.isFunction(A)&&(M=A,A=""),M||(M=this[A]);var L=this;return n.history.route(m,function(Y){var V=L._extractParameters(m,Y);L.execute(M,V,A)!==!1&&(L.trigger.apply(L,["route:"+A].concat(V)),L.trigger("route",A,V),n.history.trigger("route",L,A,V))}),this},execute:function(m,A,M){m&&m.apply(this,A)},navigate:function(m,A){return n.history.navigate(m,A),this},_bindRoutes:function(){if(this.routes){this.routes=r.result(this,"routes");for(var m,A=r.keys(this.routes);(m=A.pop())!=null;)this.route(m,this.routes[m])}},_routeToRegExp:function(m){return m=m.replace(Gt,"\\$&").replace(et,"(?:$1)?").replace(nt,function(A,M){return M?A:"([^/?]+)"}).replace(ot,"([^?]*?)"),new RegExp("^"+m+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(m,A){var M=m.exec(A).slice(1);return r.map(M,function(L,Y){return Y===M.length-1?L||null:L?decodeURIComponent(L):null})}});var K=n.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),typeof window<"u"&&(this.location=window.location,this.history=window.history)},It=/^[#\/]|\s+$/g,ct=/^\/+|\/+$/g,xt=/#.*$/;K.started=!1,r.extend(K.prototype,a,{interval:50,atRoot:function(){var m=this.location.pathname.replace(/[^\/]$/,"$&/");return m===this.root&&!this.getSearch()},matchRoot:function(){var m=this.decodeFragment(this.location.pathname),A=m.slice(0,this.root.length-1)+"/";return A===this.root},decodeFragment:function(m){return decodeURI(m.replace(/%25/g,"%2525"))},getSearch:function(){var m=this.location.href.replace(/#.*/,"").match(/\?.+/);return m?m[0]:""},getHash:function(m){var A=(m||this).location.href.match(/#(.*)$/);return A?A[1]:""},getPath:function(){var m=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return m.charAt(0)==="/"?m.slice(1):m},getFragment:function(m){return m==null&&(this._usePushState||!this._wantsHashChange?m=this.getPath():m=this.getHash()),m.replace(It,"")},start:function(m){if(K.started)throw new Error("Backbone.history has already been started");if(K.started=!0,this.options=r.extend({root:"/"},this.options,m),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.history&&this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(ct,"/"),this._wantsHashChange&&this._wantsPushState)if(!this._hasPushState&&!this.atRoot()){var A=this.root.slice(0,-1)||"/";return this.location.replace(A+"#"+this.getPath()),!0}else this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0});if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var M=document.body,L=M.insertBefore(this.iframe,M.firstChild).contentWindow;L.document.open(),L.document.close(),L.location.hash="#"+this.fragment}var Y=window.addEventListener||function(V,rt){return attachEvent("on"+V,rt)};if(this._usePushState?Y("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?Y("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var m=window.removeEventListener||function(A,M){return detachEvent("on"+A,M)};this._usePushState?m("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&m("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),K.started=!1},route:function(m,A){this.handlers.unshift({route:m,callback:A})},checkUrl:function(m){var A=this.getFragment();if(A===this.fragment&&this.iframe&&(A=this.getHash(this.iframe.contentWindow)),A===this.fragment)return!1;this.iframe&&this.navigate(A),this.loadUrl()},loadUrl:function(m){return this.matchRoot()?(m=this.fragment=this.getFragment(m),r.some(this.handlers,function(A){if(A.route.test(m))return A.callback(m),!0})):!1},navigate:function(m,A){if(!K.started)return!1;(!A||A===!0)&&(A={trigger:!!A}),m=this.getFragment(m||"");var M=this.root;(m===""||m.charAt(0)==="?")&&(M=M.slice(0,-1)||"/");var L=M+m;m=m.replace(xt,"");var Y=this.decodeFragment(m);if(this.fragment!==Y){if(this.fragment=Y,this._usePushState)this.history[A.replace?"replaceState":"pushState"]({},document.title,L);else if(this._wantsHashChange){if(this._updateHash(this.location,m,A.replace),this.iframe&&m!==this.getHash(this.iframe.contentWindow)){var V=this.iframe.contentWindow;A.replace||(V.document.open(),V.document.close()),this._updateHash(V.location,m,A.replace)}}else return this.location.assign(L);if(A.trigger)return this.loadUrl(m)}},_updateHash:function(m,A,M){if(M){var L=m.href.replace(/(javascript:|#).*$/,"");m.replace(L+"#"+A)}else m.hash="#"+A}}),n.history=new K;var Et=function(m,A){var M=this,L;return m&&r.has(m,"constructor")?L=m.constructor:L=function(){return M.apply(this,arguments)},r.extend(L,M,A),L.prototype=r.create(M.prototype,m),L.prototype.constructor=L,L.__super__=M.prototype,L};R.extend=U.extend=q.extend=Q.extend=K.extend=Et;var T=function(){throw new Error('A "url" property or function must be specified')},_=function(m,A){var M=A.error;A.error=function(L){M&&M.call(A.context,m,L,A),m.trigger("error",m,L,A)}};return n})})(n0);const on=e0(n0),YM=function(){var t=typeof window=="object"&&!!window.SVGAngle;if(!t)return function(){throw new Error("SVG is required to use Vectorizer.")};var e={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xml:"http://www.w3.org/XML/1998/namespace",xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml"},n="1.1",r=Math,i=r.PI,s=r.atan2,o=r.sqrt,a=r.min,l=r.max,u=r.cos,h=r.sin,f=function(y,d,S){if(!(this instanceof f))return f.apply(Object.create(f.prototype),arguments);if(y){if(f.isV(y)&&(y=y.node),d=d||{},f.isString(y)){if(y=y.trim(),y.toLowerCase()==="svg")y=f.createSvgDocument();else if(y[0]==="<"){var E=f.createSvgDocument(y);if(E.childNodes.length>1){var z=[],W,$;for(W=0,$=E.childNodes.length;W<$;W++){var Q=E.childNodes[W];z.push(new f(document.importNode(Q,!0)))}return z}y=document.importNode(E.firstChild,!0)}else y=document.createElementNS(e.svg,y);f.ensureId(y)}return this.node=y,this.setAttributes(d),S&&this.append(S),this}},v=f.prototype;Object.defineProperty(v,"id",{enumerable:!0,get:function(){return this.node.id},set:function(y){this.node.id=y}}),v.getTransformToElement=function(y){var d=this.node;if(f.isSVGGraphicsElement(y)&&f.isSVGGraphicsElement(d)){var S=f.toNode(y).getScreenCTM(),E=d.getScreenCTM();if(S&&E)return S.inverse().multiply(E)}return f.createSVGMatrix()},v.transform=function(y,d){var S=this.node;if(f.isUndefined(y))return f.transformStringToMatrix(this.attr("transform"));if(d&&d.absolute)return this.attr("transform",f.matrixToTransformString(y));var E=f.createSVGTransform(y);return S.transform.baseVal.appendItem(E),this},v.translate=function(y,d,S){S=S||{},d=d||0;var E=this.attr("transform")||"",z=f.parseTransformString(E);if(E=z.value,f.isUndefined(y))return z.translate;E=E.replace(/translate\([^)]*\)/g,"").trim();var W=S.absolute?y:z.translate.tx+y,$=S.absolute?d:z.translate.ty+d,Q="translate("+W+","+$+")";return this.attr("transform",(Q+" "+E).trim()),this},v.rotate=function(y,d,S,E){E=E||{};var z=this.attr("transform")||"",W=f.parseTransformString(z);if(z=W.value,f.isUndefined(y))return W.rotate;z=z.replace(/rotate\([^)]*\)/g,"").trim(),y%=360;var $=E.absolute?y:W.rotate.angle+y,Q=d!==void 0&&S!==void 0?","+d+","+S:"",ut="rotate("+$+Q+")";return this.attr("transform",(z+" "+ut).trim()),this},v.scale=function(y,d){d=f.isUndefined(d)?y:d;var S=this.attr("transform")||"",E=f.parseTransformString(S);if(S=E.value,f.isUndefined(y))return E.scale;S=S.replace(/scale\([^)]*\)/g,"").trim();var z="scale("+y+","+d+")";return this.attr("transform",(S+" "+z).trim()),this},v.bbox=function(y,d){var S,E=this.node,z=E.ownerSVGElement;if(!z)return new Pt(0,0,0,0);try{S=E.getBBox()}catch{S={x:E.clientLeft,y:E.clientTop,width:E.clientWidth,height:E.clientHeight}}if(y)return new Pt(S);var W=this.getTransformToElement(d||z);return f.transformRect(S,W)},v.getBBox=function(y){var d={},S,E=this.node,z=E.ownerSVGElement;if(!z||!f.isSVGGraphicsElement(E))return new Pt(0,0,0,0);if(y&&(y.target&&(d.target=f.toNode(y.target)),y.recursive&&(d.recursive=y.recursive)),d.recursive){var $=this.children(),Q=$.length;if(Q===0)return this.getBBox({target:d.target,recursive:!1});d.target||(d.target=this);for(var ut=0;ut<Q;ut++){var dt=$[ut],Ct;dt.children().length===0?Ct=dt.getBBox({target:d.target,recursive:!1}):Ct=dt.getBBox({target:d.target,recursive:!0}),S?S=S.union(Ct):S=Ct}return S}else{try{S=E.getBBox()}catch{S={x:E.clientLeft,y:E.clientTop,width:E.clientWidth,height:E.clientHeight}}if(d.target){var W=this.getTransformToElement(d.target);return f.transformRect(S,W)}else return new Pt(S)}};function C(y,d){y||(y={});var S=f("textPath"),E=y.d;if(E&&y["xlink:href"]===void 0){var z=f("path").attr("d",E).appendTo(d.defs());S.attr("xlink:href","#"+z.id)}return f.isObject(y)&&S.attr(y),S.node}function b(y,d,S){S||(S={});for(var E=S.includeAnnotationIndices,z=S.eol,W=S.lineHeight,$=S.baseSize,Q=0,ut={},dt=d.length-1,Ct=0;Ct<=dt;Ct++){var vt=d[Ct],mt=null;if(f.isObject(vt)){var St=vt.attrs,Mt=f("tspan",St),Zt=Mt.node,kt=vt.t;z&&Ct===dt&&(kt+=z),Zt.textContent=kt;var q=St.class;q&&Mt.addClass(q),E&&Mt.attr("annotations",vt.annotations),mt=parseFloat(St["font-size"]),isFinite(mt)||(mt=$),mt&&mt>Q&&(Q=mt)}else z&&Ct===dt&&(vt+=z),Zt=document.createTextNode(vt||" "),$&&$>Q&&(Q=$);y.appendChild(Zt)}return Q&&(ut.maxFontSize=Q),W?ut.lineHeight=W:Q&&(ut.lineHeight=Q*1.2),ut}var w=/em$/;function O(y,d){var S=parseFloat(y);return w.test(y)?S*d:S}function k(y,d,S,E){if(!Array.isArray(d))return 0;var z=d.length;if(!z)return 0;for(var W=d[0],$=O(W.maxFontSize,S)||S,Q=0,ut=O(E,S),dt=1;dt<z;dt++){W=d[dt];var Ct=O(W.lineHeight,S)||ut;Q+=Ct}var vt=O(W.maxFontSize,S)||S,mt;switch(y){case"middle":mt=$/2-.15*vt-Q/2;break;case"bottom":mt=-(.25*vt)-Q;break;default:case"top":mt=.8*$;break}return mt}v.text=function(y,d){if(y&&typeof y!="string")throw new Error("Vectorizer: text() expects the first argument to be a string.");y=f.sanitizeText(y),d||(d={});var S=d.displayEmpty,E=d.eol,z=d.textPath,W=d.textVerticalAnchor,$=W==="middle"||W==="bottom"||W==="top",Q=d.x;Q===void 0&&(Q=this.attr("x")||0);var ut=d.includeAnnotationIndices,dt=d.annotations;dt&&!f.isArray(dt)&&(dt=[dt]);var Ct=d.lineHeight,vt=Ct==="auto",mt=vt?"1.5em":Ct||"1em";this.empty(),this.attr({"xml:space":"preserve",display:y||S?null:"none"});var St=parseFloat(this.attr("font-size"));St||(St=16,($||dt)&&this.attr("font-size",St));var Mt=document,Zt;z?(typeof z=="string"&&(z={d:z}),Zt=C(z,this)):Zt=Mt.createDocumentFragment();for(var kt=0,q=y.split(`
`),et=[],nt,ot=0,Gt=q.length-1;ot<=Gt;ot++){var K=mt,It="v-line",ct=Mt.createElementNS(e.svg,"tspan"),xt=q[ot],Et;if(xt)if(dt){var T=f.annotateString(xt,dt,{offset:-kt,includeAnnotationIndices:ut});Et=b(ct,T,{includeAnnotationIndices:ut,eol:ot!==Gt&&E,lineHeight:vt?null:mt,baseSize:St});var _=Et.lineHeight;_&&vt&&ot!==0&&(K=_),ot===0&&(nt=Et.maxFontSize*.8)}else E&&ot!==Gt&&(xt+=E),ct.textContent=xt;else{ct.textContent="-",It+=" v-empty-line";var m=ct.style;if(m.fillOpacity=0,m.strokeOpacity=0,dt){Et={},T=f.findAnnotationsAtIndex(dt,kt);let M=St;for(let L=T.length;L>0;L--){const Y=T[L-1].attrs;if(!Y||!("font-size"in Y))continue;const V=parseFloat(Y["font-size"]);if(isFinite(V)){M=V;break}}vt&&(ot>0?K=M*1.2:nt=M*.8),ct.setAttribute("font-size",M),Et.maxFontSize=M}}Et&&et.push(Et),ot>0&&ct.setAttribute("dy",K),(ot>0||z)&&ct.setAttribute("x",Q),ct.className.baseVal=It,Zt.appendChild(ct),kt+=xt.length+1}if($)if(dt)K=k(W,et,St,mt);else if(W==="top")K="0.8em";else{var A;switch(Gt>0?(A=parseFloat(mt)||1,A*=Gt,w.test(mt)||(A/=St)):A=0,W){case"middle":K=.3-A/2+"em";break;case"bottom":K=-A-.3+"em";break}}else W===0?K="0em":W?K=W:(K=0,this.attr("y")===null&&this.attr("y",nt||"0.8em"));return Zt.firstChild.setAttribute("dy",K),this.append(Zt),this},v.removeAttr=function(y){var d=f.qualifyAttr(y),S=this.node;return d.ns?S.hasAttributeNS(d.ns,d.local)&&S.removeAttributeNS(d.ns,d.local):S.hasAttribute(y)&&S.removeAttribute(y),this},v.attr=function(y,d){if(f.isUndefined(y)){for(var S=this.node.attributes,E={},z=0;z<S.length;z++)E[S[z].name]=S[z].value;return E}if(f.isString(y)&&f.isUndefined(d))return this.node.getAttribute(y);if(typeof y=="object")for(var W in y)y.hasOwnProperty(W)&&this.setAttribute(W,y[W]);else this.setAttribute(y,d);return this},v.normalizePath=function(){var y=this.tagName();return y==="PATH"&&this.attr("d",f.normalizePathData(this.attr("d"))),this},v.remove=function(){return this.node.parentNode&&this.node.parentNode.removeChild(this.node),this},v.empty=function(){for(;this.node.firstChild;)this.node.removeChild(this.node.firstChild);return this},v.setAttributes=function(y){for(var d in y)y.hasOwnProperty(d)&&this.setAttribute(d,y[d]);return this},v.append=function(y){f.isArray(y)||(y=[y]);for(var d=0,S=y.length;d<S;d++)this.node.appendChild(f.toNode(y[d]));return this},v.prepend=function(y){var d=this.node.firstChild;return d?f(d).before(y):this.append(y)},v.before=function(y){var d=this.node,S=d.parentNode;if(S){f.isArray(y)||(y=[y]);for(var E=0,z=y.length;E<z;E++)S.insertBefore(f.toNode(y[E]),d)}return this},v.appendTo=function(y){return f.toNode(y).appendChild(this.node),this},v.svg=function(){return this.node instanceof window.SVGSVGElement?this:f(this.node.ownerSVGElement)},v.tagName=function(){return this.node.tagName.toUpperCase()},v.defs=function(){var y=this.svg()||this,d=y.node.getElementsByTagName("defs")[0];return d?f(d):f("defs").appendTo(y)},v.clone=function(){var y=f(this.node.cloneNode(!0));return y.node.id=f.uniqueId(),y},v.findOne=function(y){var d=this.node.querySelector(y);return d?f(d):void 0},v.find=function(y){var d=[],S=this.node.querySelectorAll(y);if(S)for(var E=0;E<S.length;E++)d.push(f(S[E]));return d},v.children=function(){for(var y=this.node.childNodes,d=[],S=0;S<y.length;S++){var E=y[S];E.nodeType===1&&d.push(f(y[S]))}return d},v.parent=function(){return f(this.node.parentNode)||null},v.index=function(){for(var y=0,d=this.node.previousSibling;d;)d.nodeType===1&&y++,d=d.previousSibling;return y},v.findParentByClass=function(y,d){for(var S=this.node.ownerSVGElement,E=this.node.parentNode;E&&E!==d&&E!==S;){var z=f(E);if(z.hasClass(y))return z;E=E.parentNode}return null},v.contains=function(y){var d=this.node,S=f.toNode(y),E=S&&S.parentNode;return d===E||!!(E&&E.nodeType===1&&d.compareDocumentPosition(E)&16)},v.toLocalPoint=function(y,d){var S=this.svg().node,E=S.createSVGPoint();E.x=y,E.y=d;try{var z=E.matrixTransform(S.getScreenCTM().inverse()),W=this.getTransformToElement(S).inverse()}catch{return E}return z.matrixTransform(W)},v.translateCenterToPoint=function(y){var d=this.getBBox({target:this.svg()}),S=d.center();return this.translate(y.x-S.x,y.y-S.y),this},v.translateAndAutoOrient=function(y,d,S){y=new Z(y),d=new Z(d),S||(S=this.svg());var E=this.scale();this.attr("transform","");var z=this.getBBox({target:S}).scale(E.sx,E.sy),W=f.createSVGTransform();W.setTranslate(-z.x-z.width/2,-z.y-z.height/2);var $=f.createSVGTransform(),Q=y.angleBetween(d,y.clone().offset(1,0));Q&&$.setRotate(Q,0,0);var ut=f.createSVGTransform(),dt=y.clone().move(d,z.width/2);ut.setTranslate(2*y.x-dt.x,2*y.y-dt.y);var Ct=this.getTransformToElement(S),vt=f.createSVGTransform();return vt.setMatrix(ut.matrix.multiply($.matrix.multiply(W.matrix.multiply(Ct.scale(E.sx,E.sy))))),this.attr("transform",f.matrixToTransformString(vt.matrix)),this},v.animateAlongPath=function(y,d){d=f.toNode(d);var S=f.ensureId(d),E=f("animateMotion",y),z=f("mpath",{"xlink:href":"#"+S});E.append(z),this.append(E);try{E.node.beginElement()}catch{if(document.documentElement.getAttribute("smiling")==="fake"){var W=E.node;W.animators=[];var $=W.getAttribute("id");$&&(id2anim[$]=W);for(var Q=getTargets(W),ut=0,dt=Q.length;ut<dt;ut++){var Ct=Q[ut],vt=new Animator(W,Ct,ut);animators.push(vt),W.animators[ut]=vt,vt.register()}}}return this};const R=/[^\x20\t\r\n\f]+/g;function U(y){return f.isString(y)?y.trim().match(R)||[]:[]}v.hasClass=function(y){return f.isString(y)?this.node.classList.contains(y.trim()):!1},v.addClass=function(y){return this.node.classList.add(...U(y)),this},v.removeClass=function(y){return this.node.classList.remove(...U(y)),this},v.toggleClass=function(y,d){const S=U(y);for(let E=0;E<S.length;E++)this.node.classList.toggle(S[E],d);return this},v.sample=function(y){y=y||1;for(var d=this.node,S=d.getTotalLength(),E=[],z=0,W;z<S;)W=d.getPointAtLength(z),E.push({x:W.x,y:W.y,distance:z}),z+=y;return E},v.convertToPath=function(){var y=f("path");y.attr(this.attr());var d=this.convertToPathData();return d&&y.attr("d",d),y},v.convertToPathData=function(){var y=this.tagName();switch(y){case"PATH":return this.attr("d");case"LINE":return f.convertLineToPathData(this.node);case"POLYGON":return f.convertPolygonToPathData(this.node);case"POLYLINE":return f.convertPolylineToPathData(this.node);case"ELLIPSE":return f.convertEllipseToPathData(this.node);case"CIRCLE":return f.convertCircleToPathData(this.node);case"RECT":return f.convertRectToPathData(this.node)}throw new Error(y+" cannot be converted to PATH.")},f.prototype.toGeometryShape=function(){var y,d,S,E,z,W,$,Q,ut,dt,Ct,vt,mt,St,Mt;switch(this.tagName()){case"RECT":return y=parseFloat(this.attr("x"))||0,d=parseFloat(this.attr("y"))||0,S=parseFloat(this.attr("width"))||0,E=parseFloat(this.attr("height"))||0,new Pt(y,d,S,E);case"CIRCLE":return z=parseFloat(this.attr("cx"))||0,W=parseFloat(this.attr("cy"))||0,$=parseFloat(this.attr("r"))||0,new mn({x:z,y:W},$,$);case"ELLIPSE":return z=parseFloat(this.attr("cx"))||0,W=parseFloat(this.attr("cy"))||0,Q=parseFloat(this.attr("rx"))||0,ut=parseFloat(this.attr("ry"))||0,new mn({x:z,y:W},Q,ut);case"POLYLINE":return dt=f.getPointsFromSvgNode(this),new Me(dt);case"POLYGON":return dt=f.getPointsFromSvgNode(this),dt.length>1&&dt.push(dt[0]),new Me(dt);case"PATH":return Ct=this.attr("d"),Lt.isDataSupported(Ct)||(Ct=f.normalizePathData(Ct)),new Lt(Ct);case"LINE":return vt=parseFloat(this.attr("x1"))||0,St=parseFloat(this.attr("y1"))||0,mt=parseFloat(this.attr("x2"))||0,Mt=parseFloat(this.attr("y2"))||0,new Ot({x:vt,y:St},{x:mt,y:Mt})}return this.getBBox()},v.findIntersection=function(y,d){var S=this.svg().node;d=d||S;var E=this.getBBox({target:d}),z=E.center();if(E.intersectionWithLineFromCenterToPoint(y)){var W,$=this.tagName();if($==="RECT"){var Q=new Pt(parseFloat(this.attr("x")||0),parseFloat(this.attr("y")||0),parseFloat(this.attr("width")),parseFloat(this.attr("height"))),ut=this.getTransformToElement(d),dt=f.decomposeMatrix(ut),Ct=S.createSVGTransform();Ct.setRotate(-dt.rotation,z.x,z.y);var vt=f.transformRect(Q,Ct.matrix.multiply(ut));W=new Pt(vt).intersectionWithLineFromCenterToPoint(y,dt.rotation)}else if($==="PATH"||$==="POLYGON"||$==="POLYLINE"||$==="CIRCLE"||$==="ELLIPSE"){var mt=$==="PATH"?this:this.convertToPath(),St=mt.sample(),Mt=1/0,Zt=[],kt,q,et,nt,ot,Gt;for(kt=0;kt<St.length;kt++)q=St[kt],et=f.createSVGPoint(q.x,q.y),et=et.matrixTransform(this.getTransformToElement(d)),q=new Z(et),nt=q.distance(z),ot=q.distance(y)*1.1,Gt=nt+ot,Gt<Mt?(Mt=Gt,Zt=[{sample:q,refDistance:ot}]):Gt<Mt+1&&Zt.push({sample:q,refDistance:ot});Zt.sort(function(K,It){return K.refDistance-It.refDistance}),Zt[0]&&(W=Zt[0].sample)}return W}},v.setAttribute=function(y,d){var S=this.node;if(d===null)return this.removeAttr(y),this;var E=f.qualifyAttr(y);return E.ns?S.setAttributeNS(E.ns,y,d):y==="id"?S.id=d:S.setAttribute(y,d),this},f.createSvgDocument=function(y){if(y){const S=`<svg xmlns="${e.svg}" xmlns:xlink="${e.xlink}" version="${n}">${y}</svg>`,{documentElement:E}=f.parseXML(S,{async:!1});return E}const d=document.createElementNS(e.svg,"svg");return d.setAttributeNS(e.xmlns,"xmlns:xlink",e.xlink),d.setAttribute("version",n),d},f.createSVGStyle=function(y){const{node:d}=f("style",{type:"text/css"},[f.createCDATASection(y)]);return d},f.createCDATASection=function(y=""){return document.implementation.createDocument(null,"xml",null).createCDATASection(y)},f.idCounter=0,f.uniqueId=function(){return"v-"+ ++f.idCounter},f.toNode=function(y){return f.isV(y)?y.node:y.nodeName&&y||y[0]},f.ensureId=function(y){return y=f.toNode(y),y.id||(y.id=f.uniqueId())},f.sanitizeText=function(y){return(y||"").replace(/ /g,"")},f.isUndefined=function(y){return typeof y>"u"},f.isString=function(y){return typeof y=="string"},f.isObject=function(y){return y&&typeof y=="object"},f.isArray=Array.isArray,f.parseXML=function(y,d){d=d||{};var S;try{var E=new DOMParser;f.isUndefined(d.async)||(E.async=d.async),S=E.parseFromString(y,"text/xml")}catch{S=void 0}if(!S||S.getElementsByTagName("parsererror").length)throw new Error("Invalid XML: "+y);return S},f.qualifyAttr=function(y){if(y.indexOf(":")!==-1){var d=y.split(":");return{ns:e[d[0]],local:d[1]}}return{ns:null,local:y}},f.transformSeparatorRegex=/[ ,]+/,f.transformRegex=/\b\w+\([^()]+\)/g,f.transformFunctionRegex=/\b(\w+)\(([^()]+)\)/,f.transformTranslateRegex=/\btranslate\(([^()]+)\)/,f.transformRotateRegex=/\brotate\(([^()]+)\)/,f.transformScaleRegex=/\bscale\(([^()]+)\)/,f.transformStringToMatrix=function(y){let d=f.createSVGMatrix();const S=y&&y.match(f.transformRegex);if(!S)return d;const E=S.length;for(let z=0;z<E;z++){const $=S[z].match(f.transformFunctionRegex);if($){let Q,ut,dt,Ct,vt,mt=f.createSVGMatrix();const St=$[1].toLowerCase(),Mt=$[2].split(f.transformSeparatorRegex);switch(St){case"scale":Q=parseFloat(Mt[0]),ut=Mt[1]===void 0?Q:parseFloat(Mt[1]),mt=mt.scaleNonUniform(Q,ut);break;case"translate":dt=parseFloat(Mt[0]),Ct=parseFloat(Mt[1]),mt=mt.translate(dt,Ct);break;case"rotate":vt=parseFloat(Mt[0]),dt=parseFloat(Mt[1])||0,Ct=parseFloat(Mt[2])||0,dt!==0||Ct!==0?mt=mt.translate(dt,Ct).rotate(vt).translate(-dt,-Ct):mt=mt.rotate(vt);break;case"skewx":vt=parseFloat(Mt[0]),mt=mt.skewX(vt);break;case"skewy":vt=parseFloat(Mt[0]),mt=mt.skewY(vt);break;case"matrix":mt.a=parseFloat(Mt[0]),mt.b=parseFloat(Mt[1]),mt.c=parseFloat(Mt[2]),mt.d=parseFloat(Mt[3]),mt.e=parseFloat(Mt[4]),mt.f=parseFloat(Mt[5]);break;default:continue}d=d.multiply(mt)}}return d},f.matrixToTransformString=function(y){return y||(y=!0),"matrix("+(y.a!==void 0?y.a:1)+","+(y.b!==void 0?y.b:0)+","+(y.c!==void 0?y.c:0)+","+(y.d!==void 0?y.d:1)+","+(y.e!==void 0?y.e:0)+","+(y.f!==void 0?y.f:0)+")"},f.parseTransformString=function(y){var d,S,E;if(y){var z=f.transformSeparatorRegex;if(y.trim().indexOf("matrix")>=0){var W=f.transformStringToMatrix(y),$=f.decomposeMatrix(W);d=[$.translateX,$.translateY],E=[$.scaleX,$.scaleY],S=[$.rotation];var Q=[];(d[0]!==0||d[1]!==0)&&Q.push("translate("+d+")"),(E[0]!==1||E[1]!==1)&&Q.push("scale("+E+")"),S[0]!==0&&Q.push("rotate("+S+")"),y=Q.join(" ")}else{const dt=y.match(f.transformTranslateRegex);dt&&(d=dt[1].split(z));const Ct=y.match(f.transformRotateRegex);Ct&&(S=Ct[1].split(z));const vt=y.match(f.transformScaleRegex);vt&&(E=vt[1].split(z))}}var ut=E&&E[0]?parseFloat(E[0]):1;return{value:y,translate:{tx:d&&d[0]?parseInt(d[0],10):0,ty:d&&d[1]?parseInt(d[1],10):0},rotate:{angle:S&&S[0]?parseInt(S[0],10):0,cx:S&&S[1]?parseInt(S[1],10):void 0,cy:S&&S[2]?parseInt(S[2],10):void 0},scale:{sx:ut,sy:E&&E[1]?parseFloat(E[1]):ut}}},f.deltaTransformPoint=function(y,d){var S=d.x*y.a+d.y*y.c+0,E=d.x*y.b+d.y*y.d+0;return{x:S,y:E}},f.decomposeMatrix=function(y){var d=f.deltaTransformPoint(y,{x:0,y:1}),S=f.deltaTransformPoint(y,{x:1,y:0}),E=180/i*s(d.y,d.x)-90,z=180/i*s(S.y,S.x);return{translateX:y.e,translateY:y.f,scaleX:o(y.a*y.a+y.b*y.b),scaleY:o(y.c*y.c+y.d*y.d),skewX:E,skewY:z,rotation:E}},f.matrixToScale=function(y){var d,S,E,z;return y?(d=f.isUndefined(y.a)?1:y.a,z=f.isUndefined(y.d)?1:y.d,S=y.b,E=y.c):d=z=1,{sx:S?o(d*d+S*S):d,sy:E?o(E*E+z*z):z}},f.matrixToRotate=function(y){var d={x:0,y:1};return y&&(d=f.deltaTransformPoint(y,d)),{angle:Mr(Dl(s(d.y,d.x))-90)}},f.matrixToTranslate=function(y){return{tx:y&&y.e||0,ty:y&&y.f||0}},f.isV=function(y){return y instanceof f},f.isVElement=f.isV,f.isSVGGraphicsElement=function(y){return y?(y=f.toNode(y),y instanceof SVGElement&&typeof y.getScreenCTM=="function"):!1};var F=f("svg").node;return f.createSVGMatrix=function(y){var d=F.createSVGMatrix();for(var S in y)d[S]=y[S];return d},f.createSVGTransform=function(y){return f.isUndefined(y)?F.createSVGTransform():(y instanceof SVGMatrix||(y=f.createSVGMatrix(y)),F.createSVGTransformFromMatrix(y))},f.createSVGPoint=function(y,d){var S=F.createSVGPoint();return S.x=y,S.y=d,S},f.transformRect=function(y,d){var S=F.createSVGPoint();S.x=y.x,S.y=y.y;var E=S.matrixTransform(d);S.x=y.x+y.width,S.y=y.y;var z=S.matrixTransform(d);S.x=y.x+y.width,S.y=y.y+y.height;var W=S.matrixTransform(d);S.x=y.x,S.y=y.y+y.height;var $=S.matrixTransform(d),Q=a(E.x,z.x,W.x,$.x),ut=l(E.x,z.x,W.x,$.x),dt=a(E.y,z.y,W.y,$.y),Ct=l(E.y,z.y,W.y,$.y);return new Pt(Q,dt,ut-Q,Ct-dt)},f.transformPoint=function(y,d){return new Z(f.createSVGPoint(y.x,y.y).matrixTransform(d))},f.transformLine=function(y,d){return new Ot(f.transformPoint(y.start,d),f.transformPoint(y.end,d))},f.transformPolyline=function(y,d){var S=y instanceof Me?y.points:y;f.isArray(S)||(S=[]);for(var E=[],z=0,W=S.length;z<W;z++)E[z]=f.transformPoint(S[z],d);return new Me(E)},f.styleToObject=function(y){for(var d={},S=y.split(";"),E=0;E<S.length;E++){var z=S[E],W=z.split("=");d[W[0].trim()]=W[1].trim()}return d},f.createSlicePathData=function(y,d,S,E){var z=2*i-1e-6,W=y,$=d,Q=S,ut=E,dt=(ut<Q&&(dt=Q,Q=ut,ut=dt),ut-Q),Ct=dt<i?"0":"1",vt=u(Q),mt=h(Q),St=u(ut),Mt=h(ut);return dt>=z?W?"M0,"+$+"A"+$+","+$+" 0 1,1 0,"+-$+"A"+$+","+$+" 0 1,1 0,"+$+"M0,"+W+"A"+W+","+W+" 0 1,0 0,"+-W+"A"+W+","+W+" 0 1,0 0,"+W+"Z":"M0,"+$+"A"+$+","+$+" 0 1,1 0,"+-$+"A"+$+","+$+" 0 1,1 0,"+$+"Z":W?"M"+$*vt+","+$*mt+"A"+$+","+$+" 0 "+Ct+",1 "+$*St+","+$*Mt+"L"+W*St+","+W*Mt+"A"+W+","+W+" 0 "+Ct+",0 "+W*vt+","+W*mt+"Z":"M"+$*vt+","+$*mt+"A"+$+","+$+" 0 "+Ct+",1 "+$*St+","+$*Mt+"L0,0Z"},f.mergeAttrs=function(y,d){for(var S in d)S==="class"?y[S]=y[S]?y[S]+" "+d[S]:d[S]:S==="style"?f.isObject(y[S])&&f.isObject(d[S])?y[S]=f.mergeAttrs(y[S],d[S]):f.isObject(y[S])?y[S]=f.mergeAttrs(y[S],f.styleToObject(d[S])):f.isObject(d[S])?y[S]=f.mergeAttrs(f.styleToObject(y[S]),d[S]):y[S]=f.mergeAttrs(f.styleToObject(y[S]),f.styleToObject(d[S])):y[S]=d[S];return y},f.annotateString=function(y,d,S){d=d||[],S=S||{};for(var E=S.offset||0,z=[],W,$=[],Q,ut,dt=0;dt<y.length;dt++){Q=$[dt]=y[dt];for(var Ct=0;Ct<d.length;Ct++){var vt=d[Ct],mt=vt.start+E,St=vt.end+E;dt>=mt&&dt<St&&(f.isObject(Q)?Q.attrs=f.mergeAttrs(f.mergeAttrs({},Q.attrs),vt.attrs):Q=$[dt]={t:y[dt],attrs:vt.attrs},S.includeAnnotationIndices&&(Q.annotations||(Q.annotations=[])).push(Ct))}ut=$[dt-1],ut?f.isObject(Q)&&f.isObject(ut)?JSON.stringify(Q.attrs)===JSON.stringify(ut.attrs)?W.t+=Q.t:(z.push(W),W=Q):f.isObject(Q)||f.isObject(ut)?(z.push(W),W=Q):W=(W||"")+Q:W=Q}return W&&z.push(W),z},f.findAnnotationsAtIndex=function(y,d){var S=[];return y&&y.forEach(function(E){E.start<d&&d<=E.end&&S.push(E)}),S},f.findAnnotationsBetweenIndexes=function(y,d,S){var E=[];return y&&y.forEach(function(z){(d>=z.start&&d<z.end||S>z.start&&S<=z.end||z.start>=d&&z.end<S)&&E.push(z)}),E},f.shiftAnnotations=function(y,d,S){return y&&y.forEach(function(E){E.start<d&&E.end>=d?E.end+=S:E.start>=d&&(E.start+=S,E.end+=S)}),y},f.convertLineToPathData=function(y){y=f(y);var d=["M",y.attr("x1"),y.attr("y1"),"L",y.attr("x2"),y.attr("y2")].join(" ");return d},f.convertPolygonToPathData=function(y){var d=f.getPointsFromSvgNode(y);return d.length===0?null:f.svgPointsToPath(d)+" Z"},f.convertPolylineToPathData=function(y){var d=f.getPointsFromSvgNode(y);return d.length===0?null:f.svgPointsToPath(d)},f.svgPointsToPath=function(y){for(var d=0,S=y.length;d<S;d++)y[d]=y[d].x+" "+y[d].y;return"M "+y.join(" L")},f.getPointsFromSvgNode=function(y){y=f.toNode(y);var d=[],S=y.points;if(S)for(var E=0,z=S.numberOfItems;E<z;E++)d.push(S.getItem(E));return d},f.KAPPA=.551784,f.convertCircleToPathData=function(y){y=f(y);var d=parseFloat(y.attr("cx"))||0,S=parseFloat(y.attr("cy"))||0,E=parseFloat(y.attr("r")),z=E*f.KAPPA,W=["M",d,S-E,"C",d+z,S-E,d+E,S-z,d+E,S,"C",d+E,S+z,d+z,S+E,d,S+E,"C",d-z,S+E,d-E,S+z,d-E,S,"C",d-E,S-z,d-z,S-E,d,S-E,"Z"].join(" ");return W},f.convertEllipseToPathData=function(y){y=f(y);var d=parseFloat(y.attr("cx"))||0,S=parseFloat(y.attr("cy"))||0,E=parseFloat(y.attr("rx")),z=parseFloat(y.attr("ry"))||E,W=E*f.KAPPA,$=z*f.KAPPA,Q=["M",d,S-z,"C",d+W,S-z,d+E,S-$,d+E,S,"C",d+E,S+$,d+W,S+z,d,S+z,"C",d-W,S+z,d-E,S+$,d-E,S,"C",d-E,S-$,d-W,S-z,d,S-z,"Z"].join(" ");return Q},f.convertRectToPathData=function(y){return y=f(y),f.rectToPath({x:parseFloat(y.attr("x"))||0,y:parseFloat(y.attr("y"))||0,width:parseFloat(y.attr("width"))||0,height:parseFloat(y.attr("height"))||0,rx:parseFloat(y.attr("rx"))||0,ry:parseFloat(y.attr("ry"))||0})},f.rectToPath=function(y){var d,S=y.x,E=y.y,z=y.width,W=y.height,$=a(y.rx||y["top-rx"]||0,z/2),Q=a(y.rx||y["bottom-rx"]||0,z/2),ut=a(y.ry||y["top-ry"]||0,W/2),dt=a(y.ry||y["bottom-ry"]||0,W/2);return $||Q||ut||dt?d=["M",S,E+ut,"v",W-ut-dt,"a",Q,dt,0,0,0,Q,dt,"h",z-2*Q,"a",Q,dt,0,0,0,Q,-dt,"v",-(W-dt-ut),"a",$,ut,0,0,0,-$,-ut,"h",-(z-2*$),"a",$,ut,0,0,0,-$,ut,"Z"]:d=["M",S,E,"H",S+z,"V",E+W,"H",S,"V",E,"Z"],d.join(" ")},f.normalizePathData=function(){var y=`	
\v\f\r \u2028\u2029`,d=new RegExp("([a-z])["+y+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+y+"]*,?["+y+"]*)+)","ig"),S=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+y+"]*,?["+y+"]*","ig"),E=Math,z=E.PI,W=E.sin,$=E.cos,Q=E.tan,ut=E.asin,dt=E.sqrt,Ct=E.abs;function vt(q,et,nt,ot,Gt,K){var It=.3333333333333333,ct=2/3;return[It*q+ct*nt,It*et+ct*ot,It*Gt+ct*nt,It*K+ct*ot,Gt,K]}function mt(q,et,nt){var ot=q*$(nt)-et*W(nt),Gt=q*W(nt)+et*$(nt);return{x:ot,y:Gt}}function St(q,et,nt,ot,Gt,K,It,ct,xt,Et){var T=z*120/180,_=z/180*(+Gt||0),m=[],A;if(Et)bt=Et[0],wt=Et[1],Tt=Et[2],Nt=Et[3];else{A=mt(q,et,-_),q=A.x,et=A.y,A=mt(ct,xt,-_),ct=A.x,xt=A.y;var M=(q-ct)/2,L=(et-xt)/2,Y=M*M/(nt*nt)+L*L/(ot*ot);Y>1&&(Y=dt(Y),nt=Y*nt,ot=Y*ot);var V=nt*nt,rt=ot*ot,at=(K==It?-1:1)*dt(Ct((V*rt-V*L*L-rt*M*M)/(V*L*L+rt*M*M))),Tt=at*nt*L/ot+(q+ct)/2,Nt=at*-ot*M/nt+(et+xt)/2,bt=ut(((et-Nt)/ot).toFixed(9)),wt=ut(((xt-Nt)/ot).toFixed(9));bt=q<Tt?z-bt:bt,wt=ct<Tt?z-wt:wt,bt<0&&(bt=z*2+bt),wt<0&&(wt=z*2+wt),It&&bt>wt&&(bt=bt-z*2),!It&&wt>bt&&(wt=wt-z*2)}var zt=wt-bt;if(Ct(zt)>T){var re=wt,oe=ct,Ht=xt;wt=bt+T*(It&&wt>bt?1:-1),ct=Tt+nt*$(wt),xt=Nt+ot*W(wt),m=St(ct,xt,nt,ot,Gt,0,It,oe,Ht,[wt,re,Tt,Nt])}zt=wt-bt;var ve=$(bt),ze=W(bt),fn=$(wt),rn=W(wt),dr=Q(zt/4),Re=4/3*(nt*dr),be=4/3*(ot*dr),We=[q,et],hr=[q+Re*ze,et-be*ve],$o=[ct+Re*rn,xt-be*fn],ks=[ct,xt];if(hr[0]=2*We[0]-hr[0],hr[1]=2*We[1]-hr[1],Et)return[hr,$o,ks].concat(m);m=[hr,$o,ks].concat(m).join().split(",");for(var Ls=[],Yr=m.length,dn=0;dn<Yr;dn++)Ls[dn]=dn%2?mt(m[dn-1],m[dn],_).y:mt(m[dn],m[dn+1],_).x;return Ls}function Mt(q){if(!q)return null;var et={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},nt=[];return String(q).replace(d,function(ot,Gt,K){var It=[],ct=Gt.toLowerCase();for(K.replace(S,function(xt,Et){Et&&It.push(+Et)}),ct==="m"&&It.length>2&&(nt.push([Gt].concat(It.splice(0,2))),ct="l",Gt=Gt==="m"?"l":"L");It.length>=et[ct]&&(nt.push([Gt].concat(It.splice(0,et[ct]))),!!et[ct]););}),nt}function Zt(q){if((!Array.isArray(q)||!Array.isArray(q&&q[0]))&&(q=Mt(q)),!q||!q.length)return[["M",0,0]];for(var et=[],nt=0,ot=0,Gt=0,K=0,It=0,ct,xt=q.length,Et=It;Et<xt;Et++){var T=[];et.push(T);var _=q[Et];if(ct=_[0],ct!=ct.toUpperCase()){T[0]=ct.toUpperCase();var m,A;switch(T[0]){case"A":T[1]=_[1],T[2]=_[2],T[3]=_[3],T[4]=_[4],T[5]=_[5],T[6]=+_[6]+nt,T[7]=+_[7]+ot;break;case"V":T[1]=+_[1]+ot;break;case"H":T[1]=+_[1]+nt;break;case"M":for(Gt=+_[1]+nt,K=+_[2]+ot,m=_.length,A=1;A<m;A++)T[A]=+_[A]+(A%2?nt:ot);break;default:for(m=_.length,A=1;A<m;A++)T[A]=+_[A]+(A%2?nt:ot);break}}else for(var M=_.length,L=0;L<M;L++)T[L]=_[L];switch(T[0]){case"Z":nt=+Gt,ot=+K;break;case"H":nt=T[1];break;case"V":ot=T[1];break;case"M":Gt=T[T.length-2],K=T[T.length-1],nt=T[T.length-2],ot=T[T.length-1];break;default:nt=T[T.length-2],ot=T[T.length-1];break}}return et}function kt(q){var et=Zt(q),nt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};function ot(m,A,M){var L,Y;if(!m)return["C",A.x,A.y,A.x,A.y,A.x,A.y];switch(m[0]in{T:1,Q:1}||(A.qx=null,A.qy=null),m[0]){case"M":A.X=m[1],A.Y=m[2];break;case"A":parseFloat(m[1])===0||parseFloat(m[2])===0?m=["L",m[6],m[7]]:m=["C"].concat(St.apply(0,[A.x,A.y].concat(m.slice(1))));break;case"S":M==="C"||M==="S"?(L=A.x*2-A.bx,Y=A.y*2-A.by):(L=A.x,Y=A.y),m=["C",L,Y].concat(m.slice(1));break;case"T":M==="Q"||M==="T"?(A.qx=A.x*2-A.qx,A.qy=A.y*2-A.qy):(A.qx=A.x,A.qy=A.y),m=["C"].concat(vt(A.x,A.y,A.qx,A.qy,m[1],m[2]));break;case"Q":A.qx=m[1],A.qy=m[2],m=["C"].concat(vt(A.x,A.y,m[1],m[2],m[3],m[4]));break;case"H":m=["L"].concat(m[1],A.y);break;case"V":m=["L"].concat(A.x,m[1]);break}return m}function Gt(m,A){if(m[A].length>7){m[A].shift();for(var M=m[A];M.length;)K[A]="A",m.splice(A++,0,["C"].concat(M.splice(0,6)));m.splice(A,1),xt=et.length}}for(var K=[],It="",ct="",xt=et.length,Et=0;Et<xt;Et++){et[Et]&&(It=et[Et][0]),It!=="C"&&(K[Et]=It,Et>0&&(ct=K[Et-1])),et[Et]=ot(et[Et],nt,ct),K[Et]!=="A"&&It==="C"&&(K[Et]="C"),Gt(et,Et);var T=et[Et],_=T.length;nt.x=T[_-2],nt.y=T[_-1],nt.bx=parseFloat(T[_-4])||nt.x,nt.by=parseFloat(T[_-3])||nt.y}return(!et[0][0]||et[0][0]!=="M")&&et.unshift(["M",0,0]),et}return function(q){return kt(q).join(",").split(",").join(" ")}}(),f.namespace=e,f.g=pM,f}(),lt=YM,xr={useCSSSelectors:!0,classNamePrefix:"joint-",defaultTheme:"default",doubleTapInterval:300},No="[object Arguments]",Lu="[object Array]",Xl="[object Boolean]",xd="[object Date]",EI="[object Error]",VM="[object Function]",Go="[object Map]",Hl="[object Number]",XM="[object Null]",as="[object Object]",Sd="[object RegExp]",Zo="[object Set]",Jl="[object String]",$l="[object Symbol]",HM="[object Undefined]",JM="[object WeakMap]",Nd="[object ArrayBuffer]",Md="[object DataView]",DI="[object Float32Array]",OI="[object Float64Array]",kI="[object Int8Array]",LI="[object Int16Array]",zI="[object Int32Array]",RI="[object Uint8Array]",BI="[object Uint8ClampedArray]",jI="[object Uint16Array]",GI="[object Uint32Array]",$M={[No]:!0,[Lu]:!0,[Nd]:!0,[Md]:!0,[Xl]:!0,[xd]:!0,[DI]:!0,[OI]:!0,[kI]:!0,[LI]:!0,[zI]:!0,[Go]:!0,[Hl]:!0,[as]:!0,[Sd]:!0,[Zo]:!0,[Jl]:!0,[$l]:!0,[RI]:!0,[BI]:!0,[jI]:!0,[GI]:!0,[EI]:!1,[VM]:!1,[JM]:!1},Td="\\ud800-\\udfff",KM="\\u0300-\\u036f",QM="\\ufe20-\\ufe2f",qM="\\u20d0-\\u20ff",t2="\\u1ab0-\\u1aff",e2="\\u1dc0-\\u1dff",n2=KM+QM+qM+t2+e2,ZI="\\u2700-\\u27bf",WI="a-z\\xdf-\\xf6\\xf8-\\xff",r2="\\xac\\xb1\\xd7\\xf7",i2="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",s2="\\u2000-\\u206f",o2=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",UI="A-Z\\xc0-\\xd6\\xd8-\\xde",a2="\\ufe0e\\ufe0f",FI=r2+i2+s2+o2,YI="[']",op=`[${FI}]`,Pd=`[${n2}]`,VI="\\d",l2=`[${ZI}]`,XI=`[${WI}]`,HI=`[^${Td}${FI+VI+ZI+WI+UI}]`,zu="\\ud83c[\\udffb-\\udfff]",c2=`(?:${Pd}|${zu})`,JI=`[^${Td}]`,_d="(?:\\ud83c[\\udde6-\\uddff]){2}",Ed="[\\ud800-\\udbff][\\udc00-\\udfff]",is=`[${UI}]`,u2="\\u200d",ap=`(?:${XI}|${HI})`,f2=`(?:${is}|${HI})`,lp=`(?:${YI}(?:d|ll|m|re|s|t|ve))?`,cp=`(?:${YI}(?:D|LL|M|RE|S|T|VE))?`,$I=`${c2}?`,KI=`[${a2}]?`,d2=`(?:${u2}(?:${[JI,_d,Ed].join("|")})${KI+$I})*`,h2="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",g2="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",QI=KI+$I+d2,p2=`(?:${[l2,_d,Ed].join("|")})${QI}`,m2=RegExp([`${is}?${XI}+${lp}(?=${[op,is,"$"].join("|")})`,`${f2}+${cp}(?=${[op,is+ap,"$"].join("|")})`,`${is}?${ap}+${lp}`,`${is}+${cp}`,g2,h2,`${VI}+`,p2].join("|"),"g"),Dd=200,Ru="__hash_undefined__",v2=/^\[object (?:Float(?:32|64)|(?:Int|Uint)(?:8|16|32)|Uint8Clamped)Array\]$/,I2=`[${Td}]`,y2=`${JI}${Pd}?`,A2=`(?:${[y2,Pd,_d,Ed,I2].join("|")})`,qI=RegExp(`${zu}(?=${zu})|${A2+QI}`,"g"),C2=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,b2=/^\w*$/,w2=".".charCodeAt(0),x2=/\\(\\)?/g,S2=RegExp(`[^.[\\]]+|\\[(?:([^"'][^[]*)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))`,"g"),N2=/^(?:0|[1-9]\d*)$/,M2=RegExp.prototype.test.bind(/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/),T2=4294967295-1,P2=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ty=t=>qI.test(t),_2=t=>t.match(qI)||[],E2=t=>t.split(""),ey=t=>ty(t)?_2(t):E2(t),D2=t=>t==null?[]:Wo(t).map(e=>t[e]),Wo=t=>Qn(t)?ny(t):Object.keys(Object(t)),O2=t=>{if(!Kl(t))return Object.keys(t);var e=[];for(var n in Object(t))hasOwnProperty.call(t,n)&&n!="constructor"&&e.push(n);return e},ny=(t,e)=>{const n=Array.isArray(t),r=!n&&fr(t)&&Kn(t)===No,i=!n&&!r&&Fo(t),s=n||r||i,o=t.length,a=new Array(s?o:0);let l=s?-1:o;for(;++l<o;)a[l]=`${l}`;for(const u in t)(e||hasOwnProperty.call(t,u))&&!(s&&(u==="length"||Rd(u,o)))&&a.push(u);return a},ya=(t,e)=>{let{length:n}=t;for(;n--;)if(Ds(t[n][0],e))return n;return-1},Ds=(t,e)=>t===e||t!==t&&e!==e,fr=t=>t!=null&&typeof t=="object",il=(t,e,n)=>{if(!fe(n))return!1;const r=typeof e;return(r=="number"?Qn(n)&&e>-1&&e<n.length:r=="string"&&e in n)?Ds(n[e],t):!1},k2=t=>fr(t)&&Kn(t)==Zo,L2=t=>fr(t)&&Kn(t)==Go,Kl=t=>{const e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Object.prototype;return t===n},Os=(t,e,n)=>{const r=t[e];(!(hasOwnProperty.call(t,e)&&Ds(r,n))||n===void 0&&!(e in t))&&(t[e]=n)},Uo=(t,e,n)=>{let r=-1;const i=e.length;for(;++r<i;){const s=e[r];Os(n,s,t[s])}return n},Qn=t=>t!=null&&typeof t!="function"&&typeof t.length=="number"&&t.length>-1&&t.length%1===0,Ns=t=>typeof t=="symbol"||fr(t)&&Kn(t)===$l,z2=t=>{const e=t.length;let n=new t.constructor(e);return e&&typeof t[0]=="string"&&hasOwnProperty.call(t,"index")&&(n.index=t.index,n.input=t.input),n},Od=(t,e)=>{let n=-1;const r=t.length;for(e||(e=new Array(r));++n<r;)e[n]=t[n];return e},Kn=t=>t==null?t===void 0?HM:XM:Object.prototype.toString.call(t),kd=t=>{const e=new t.constructor(t.byteLength);return new Uint8Array(e).set(new Uint8Array(t)),e},ry=(t,e)=>{const n=e?kd(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},R2=t=>{const e=new t.constructor(t.source,/\w*$/.exec(t));return e.lastIndex=t.lastIndex,e},iy=t=>typeof t.constructor=="function"&&!Kl(t)?Object.create(Object.getPrototypeOf(t)):{},Ld=t=>t==null?[]:(t=Object(t),Object.getOwnPropertySymbols(t).filter(n=>propertyIsEnumerable.call(t,n))),B2=(t,e)=>Uo(t,Ld(t),e);function j2(t,e){const n=e?kd(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}const G2=(t,e,n)=>{const r=t.constructor;switch(e){case Nd:return kd(t);case Xl:case xd:return new r(+t);case Md:return j2(t,n);case DI:case OI:case kI:case LI:case zI:case RI:case BI:case jI:case GI:return ry(t,n);case Go:return new r(t);case Hl:case Jl:return new r(t);case Sd:return R2(t);case Zo:return new r;case $l:return Symbol.prototype.valueOf?Object(Symbol.prototype.valueOf.call(t)):{}}},Fo=t=>fr(t)&&v2.test(Kn(t)),Bu=t=>{const e=Object.keys(t);return!Array.isArray(t)&&t!=null&&e.push(...Ld(Object(t))),e},sy=t=>{const e=[];for(;t;)e.push(...Ld(t)),t=Object.getPrototypeOf(Object(t));return e},oy=t=>{const e=[];for(const n in t)e.push(n);return Array.isArray(t)||e.push(...sy(t)),e},Aa=({__data__:t},e)=>{const n=t;return Q2(e)?n[typeof e=="string"?"string":"hash"]:n.map},Z2=(t,e,n,r)=>{const i=Bu(t),s=i.length,a=Bu(e).length;if(s!=a)return!1;let l,u=s;for(;u--;)if(l=i[u],!hasOwnProperty.call(e,l))return!1;const h=r.get(t),f=r.get(e);if(h&&f)return h==e&&f==t;let v=!0;r.set(t,e),r.set(e,t);let C;for(;++u<s;){l=i[u];const b=t[l],w=e[l];if(!(b===w||n(b,w,r))){v=!1;break}C||(C=l=="constructor")}if(v&&!C){const b=t.constructor,w=e.constructor;b!=w&&"constructor"in t&&"constructor"in e&&!(typeof b=="function"&&b instanceof b&&typeof w=="function"&&w instanceof w)&&(v=!1)}return r.delete(t),r.delete(e),v},Ql=(t,e,n)=>t===e?!0:t==null||e==null||!fr(t)&&!fr(e)?t!==t&&e!==e:W2(t,e,Ql,n),W2=(t,e,n,r)=>{let i=Array.isArray(t);const s=Array.isArray(e);let o=i?Lu:Kn(t),a=s?Lu:Kn(e);o=o==No?as:o,a=a==No?as:a;let l=o==as;const u=a==as,h=o==a;if(h&&!l)return r||(r=new ms),i||Fo(t)?ay(t,e,!1,n,r):Y2(t,e,o,n,r);const f=l&&hasOwnProperty.call(t,"__wrapped__"),v=u&&hasOwnProperty.call(e,"__wrapped__");if(f||v){const C=f?t.value():t,b=v?e.value():e;return r||(r=new ms),n(C,b,r)}return h?(r||(r=new ms),Z2(t,e,n,r)):!1},ay=(t,e,n,r,i)=>{const o=t.length,a=e.length;if(o!=a)return!1;const l=i.get(t),u=i.get(e);if(l&&u)return l==e&&u==t;let h=-1,f=!0;const v=n?new To:void 0;for(i.set(t,e),i.set(e,t);++h<o;){const C=t[h],b=e[h];if(v){if(!U2(e,(w,O)=>{if(!F2(v,O)&&(C===w||r(C,w,i)))return v.push(O)})){f=!1;break}}else if(!(C===b||r(C,b,i))){f=!1;break}}return i.delete(t),i.delete(e),f},U2=(t,e)=>{let n=-1;const r=t==null?0:t.length;for(;++n<r;)if(e(t[n],n,t))return!0;return!1},F2=(t,e)=>t.has(e),up=(t,e,n,r)=>!(t.byteLength!=e.byteLength||!n(new Uint8Array(t),new Uint8Array(e),r)),Y2=(t,e,n,r,i)=>{switch(n){case Md:return t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset?!1:(t=t.buffer,e=e.buffer,up(t,e,r,i));case Nd:return up(t,e,r,i);case Xl:case xd:case Hl:return Ds(+t,+e);case EI:return t.name==e.name&&t.message==e.message;case Sd:case Jl:return t==`${e}`;case Go:let s=ly;case Zo:if(s||(s=ql),t.size!=e.size)return!1;const o=i.get(t);if(o)return o==e;i.set(t,e);const a=ay(s(t),s(e),!0,r,i);return i.delete(t),a;case $l:return Symbol.prototype.valueOf.call(t)==Symbol.prototype.valueOf.call(e)}return!1},ly=t=>{let e=-1,n=Array(t.size);return t.forEach((r,i)=>{n[++e]=[i,r]}),n},ql=t=>{let e=-1;const n=new Array(t.size);return t.forEach(r=>{n[++e]=r}),n},zd=(t,e)=>{if(Array.isArray(t))return!1;const n=typeof t;return n==="number"||n==="boolean"||t==null||Ns(t)?!0:b2.test(t)||!C2.test(t)||e!=null&&t in Object(e)},V2=t=>{const e=[];return t.charCodeAt(0)===w2&&e.push(""),t.replace(S2,(n,r,i,s)=>{let o=n;i?o=s.replace(x2,"$1"):r&&(o=r.trim()),e.push(o)}),e},di=(t,e)=>Array.isArray(t)?t:zd(t,e)?[t]:V2(`${t}`),Yo=(t,e)=>{e=di(e,t);let n=0;const r=e.length;for(;t!=null&&n<r;)t=t[hi(e[n])],n++;return n&&n==r?t:void 0};function X2(t,e){if(t!==e){const n=t!==void 0,r=t===null,i=t===t,s=Ns(t),o=e!==void 0,a=e===null,l=e===e,u=Ns(e);if(!a&&!u&&!s&&t>e||s&&o&&l&&!a&&!u||r&&o&&l||!n&&l||!i)return 1;if(!r&&!s&&!u&&t<e||u&&n&&i&&!r&&!s||a&&n&&i||!o&&i||!l)return-1}return 0}function H2(t,e,n){let r=-1;const i=t.criteria,s=e.criteria,o=i.length,a=n.length;for(;++r<o;){const l=r<a?n[r]:null,h=(l&&typeof l=="function"?l:X2)(i[r],s[r]);if(h)return l&&typeof l!="function"?h*(l=="desc"?-1:1):h}return t.index-e.index}const cy=(t,e)=>{let n=(o,a)=>!!(o==null?0:o.length)&&o.indexOf(a)>-1,r=!0;const i=[],s=e.length;if(!t.length)return i;e.length>=Dd&&(n=(o,a)=>o.has(a),r=!1,e=new To(e));t:for(let o in t){let a=t[o];const l=a;if(a=a!==0?a:0,r&&l===l){let u=s;for(;u--;)if(e[u]===l)continue t;i.push(a)}else n(e,l)||i.push(a)}return i},hi=t=>{if(typeof t=="string"||Ns(t))return t;const e=`${t}`;return e=="0"&&1/t==-1/0?"-0":e},ps=(t,e=!1,n=!1,r=!0,i,s,o,a)=>{let l;if(i&&(l=o?i(t,s,o,a):i(t)),l!==void 0)return l;if(!fe(t))return t;const u=Array.isArray(t),h=Kn(t);if(u){if(l=z2(t),!e)return Od(t,l)}else{const b=typeof t=="function";if(h===as||h===No||b&&!o){if(l=n||b?{}:iy(t),!e)return n?J2(t,Uo(t,Object.keys(t),l)):B2(t,Object.assign(l,t))}else{if(b||!$M[h])return o?t:{};l=G2(t,h,e)}}a||(a=new ms);const f=a.get(t);if(f)return f;if(a.set(t,l),L2(t))return t.forEach((b,w)=>{l.set(w,ps(b,e,n,r,i,w,t,a))}),l;if(k2(t))return t.forEach(b=>{l.add(ps(b,e,n,r,i,b,t,a))}),l;if(Fo(t))return l;const C=u?void 0:(r?n?oy:Bu:n?fy:Wo)(t);return(C||t).forEach((b,w)=>{C&&(w=b,b=t[w]),Os(l,w,ps(b,e,n,r,i,w,t,a))}),l},J2=(t,e)=>Uo(t,sy(t),e),uy=(t,e)=>e.length<2?t:Yo(t,e.slice(0,-1)),$2=(t,e,n)=>{if(!fe(t))return t;e=di(e,t);const r=e.length,i=r-1;let s=-1,o=t;for(;o!=null&&++s<r;){const a=hi(e[s]);let l=n;if(s!=i){const u=o[a];l=void 0,l===void 0&&(l=fe(u)?u:Rd(e[s+1])?[]:{})}Os(o,a,l),o=o[a]}return t},Rd=(t,e)=>{const n=typeof t;return e=e??Number.MAX_SAFE_INTEGER,!!e&&(n==="number"||n!=="symbol"&&N2.test(t))&&t>-1&&t%1==0&&t<e},K2=(t,e)=>{e=di(e,t),t=uy(t,e);const n=e[e.length-1];return t==null||delete t[hi(n)]},Q2=t=>{const e=typeof t;return e==="string"||e==="number"||e==="symbol"||e==="boolean"?t!=="__proto__":t===null},fy=t=>{const e=[];for(const n in t)e.push(n);return e},q2=t=>{t=Object(t);const e={};for(const n in t)e[n]=t[n];return e},fp=(t,e)=>{if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]};function dy(t,e=!1){return(n,...r)=>{let i=-1,s=r.length,o=s>1?r[s-1]:void 0;const a=s>2?r[2]:void 0;for(o=t.length>3&&typeof o=="function"?(s--,o):e?(l,u)=>{if(Array.isArray(l)&&!Array.isArray(u))return u}:void 0,a&&il(r[0],r[1],a)&&(o=s<3?void 0:o,s=1),n=Object(n);++i<s;){const l=r[i];l&&t(n,l,i,o)}return n}}const Bd=(t,e,n,r,i)=>{t!==e&&Yn(e,(s,o)=>{if(fe(s))i||(i=new ms),tT(t,e,o,n,Bd,r,i);else{let a=r?r(t[o],s,`${o}`,t,e,i):void 0;a===void 0&&(a=s),ju(t,o,a)}})},tT=(t,e,n,r,i,s,o)=>{const a=fp(t,n),l=fp(e,n),u=o.get(l);if(u){ju(t,n,u);return}let h=s?s(a,l,`${n}`,t,e,o):void 0,f=h===void 0;if(f){const v=Array.isArray(l),C=!v&&Fo(l);h=l,v||C?Array.isArray(a)?h=a:fr(a)&&Qn(a)?h=Od(a):C?(f=!1,h=ry(l,!0)):h=[]:je(l)||Mo(l)?(h=a,Mo(a)?h=q2(a):(typeof a=="function"||!fe(a))&&(h=iy(l))):f=!1}f&&(o.set(l,h),i(h,l,r,s,o),o.delete(l)),ju(t,n,h)},ju=(t,e,n)=>{(n!==void 0&&!Ds(t[e],n)||n===void 0&&!(e in t))&&Os(t,e,n)};function eT(t,e,n){const r=Object(t),i=n(t);let{length:s}=i,o=-1;for(;s--;){const a=i[++o];if(e(r[a],a,r)===!1)break}return t}const nT=(t,e)=>t&&eT(t,e,Wo),jd=(t,e)=>{if(t==null)return t;if(!Qn(t))return nT(t,e);const n=t.length,r=Object(t);let i=-1;for(;++i<n&&e(r[i],i,r)!==!1;);return t};function rT(t){const e=t==null?0:t.length;return e?t[e-1]:void 0}const iT=Set&&1/ql(new Set([void 0,-0]))[1]==1/0?t=>new Set(t):()=>{};function hy(t,e,n,r,i,s){return fe(t)&&fe(e)&&(s.set(e,t),Bd(t,e,void 0,hy,s),s.delete(e)),t}function sT(t,e,n){e.length?e=e.map(o=>Array.isArray(o)?a=>Yo(a,o.length===1?o[0]:o):o):e=[o=>o];let r=-1,i=-1;const s=Qn(t)?new Array(t.length):[];return jd(t,o=>{const a=e.map(l=>l(o));s[++i]={criteria:a,index:++r,value:o}}),oT(s,(o,a)=>H2(o,a,n))}function oT(t,e){let{length:n}=t;for(t.sort(e);n--;)t[n]=t[n].value;return t}function gy(t){return t===t&&!fe(t)}function py(t,e){return n=>n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}function my(t,e){return t!=null&&wT(t,e,bT)}function aT(t,e){return zd(t)&&gy(e)?py(hi(t),e):n=>{const r=Yo(n,t);return r===void 0&&r===e?my(n,t):Ql(e,r)}}function lT(t){const e=cT(t);return e.length===1&&e[0][2]?py(e[0][0],e[0][1]):n=>n===t||uT(n,t,e)}function cT(t){const e=Wo(t);let n=e.length;for(;n--;){const r=e[n],i=t[r];e[n]=[r,i,gy(i)]}return e}function uT(t,e,n,r){let i=n.length;const s=i,o=!r;if(t==null)return!s;let a,l;for(t=Object(t);i--;)if(a=n[i],o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1;for(;++i<s;){a=n[i];const u=a[0],h=t[u],f=a[1];if(o&&a[2]){if(h===void 0&&!(u in t))return!1}else{const v=new ms;if(r&&(l=r(h,f,u,t,e,v)),!(l===void 0?Ql(f,h,v):l))return!1}}return!0}function fT(t){return zd(t)?dT(hi(t)):hT(t)}function dT(t){return e=>e==null?void 0:e[t]}function hT(t){return e=>Yo(e,t)}function gT(t){return typeof t=="function"?t:t==null?e=>e:typeof t=="object"?Array.isArray(t)?aT(t[0],t[1]):lT(t):fT(t)}function tc(){const t=gT;return arguments.length?t(arguments[0]):t}const pT=(t,e,n,r)=>{let i=-1;const s=t==null?0:t.length;for(r&&s&&(n=t[++i]);++i<s;)n=e(n,t[i],i,t);return n},mT=(t,e,n,r,i)=>(i(t,(s,o,a)=>{n=r?(r=!1,s):e(n,s,o,a)}),n);function vT(t,e,n){const r=Array.isArray(t)?pT:mT,i=arguments.length<3;return r(t,e,n,i,jd)}const IT=t=>Array.isArray(t)||Mo(t)||!!(t&&t[Symbol.isConcatSpreadable]);function vy(t,e,n,r,i){let s=-1;const o=t.length;for(n||(n=IT),i||(i=[]);++s<o;){var a=t[s];e>0&&n(a)?e>1?vy(a,e-1,n,r,i):i.push(...a):r||(i[i.length]=a)}return i}const Mo=t=>fr(t)&&Kn(t)=="[object Arguments]",yT=(t,e)=>AT(t,e,(n,r)=>my(t,r)),AT=(t,e,n)=>{let r=-1;const i=e.length,s={};for(;++r<i;){const o=e[r],a=Yo(t,o);n(a,o)&&$2(s,di(o,t),a)}return s},CT=t=>typeof t=="number"&&t>-1&&t%1==0&&t<=Number.MAX_SAFE_INTEGER,bT=(t,e)=>t!=null&&e in Object(t),wT=(t,e,n)=>{e=di(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=hi(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&CT(i)&&Rd(o,i)&&(Array.isArray(t)||Mo(t)))},xT=t=>t.match(P2),ST=t=>t.match(m2),NT=(t,e)=>e===void 0?(M2(t)?ST(t):xT(t))||[]:t.match(e)||[],MT=(t,e,n)=>{const{length:r}=t;return n=n===void 0?r:n,!e&&n>=r?t:t.slice(e,n)},TT=PT("toUpperCase");function PT(t){return e=>{if(!e)return"";const n=ty(e)?ey(e):void 0,r=n?n[0]:e[0],i=n?MT(n,1).join(""):e.slice(1);return r[t]()+i}}class ms{constructor(e){const n=this.__data__=new Jc(e);this.size=n.size}clear(){this.__data__=new Jc,this.size=0}delete(e){const n=this.__data__,r=n.delete(e);return this.size=n.size,r}get(e){return this.__data__.get(e)}has(e){return this.__data__.has(e)}set(e,n){let r=this.__data__;if(r instanceof Jc){const i=r.__data__;if(i.length<Dd-1)return i.push([e,n]),this.size=++r.size,this;r=this.__data__=new Iy(i)}return r.set(e,n),this.size=r.size,this}}class Jc{constructor(e){let n=-1;const r=e==null?0:e.length;for(this.clear();++n<r;){const i=e[n];this.set(i[0],i[1])}}clear(){this.__data__=[],this.size=0}delete(e){const n=this.__data__,r=ya(n,e);if(r<0)return!1;const i=n.length-1;return r==i?n.pop():n.splice(r,1),--this.size,!0}get(e){const n=this.__data__,r=ya(n,e);return r<0?void 0:n[r][1]}has(e){return ya(this.__data__,e)>-1}set(e,n){const r=this.__data__,i=ya(r,e);return i<0?(++this.size,r.push([e,n])):r[i][1]=n,this}}class Iy{constructor(e){let n=-1;const r=e==null?0:e.length;for(this.clear();++n<r;){const i=e[n];this.set(i[0],i[1])}}clear(){this.size=0,this.__data__={hash:new dp,map:new Map,string:new dp}}delete(e){const n=Aa(this,e).delete(e);return this.size-=n?1:0,n}get(e){return Aa(this,e).get(e)}has(e){return Aa(this,e).has(e)}set(e,n){const r=Aa(this,e),i=r.size;return r.set(e,n),this.size+=r.size==i?0:1,this}}class dp{constructor(e){let n=-1;const r=e==null?0:e.length;for(this.clear();++n<r;){const i=e[n];this.set(i[0],i[1])}}clear(){this.__data__=Object.create(null),this.size=0}delete(e){const n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}get(e){const r=this.__data__[e];return r===Ru?void 0:r}has(e){return this.__data__[e]!==void 0}set(e,n){const r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n===void 0?Ru:n,this}}class To{constructor(e){let n=-1;const r=e==null?0:e.length;for(this.__data__=new Iy;++n<r;)this.add(e[n])}add(e){return this.__data__.set(e,Ru),this}has(e){return this.__data__.has(e)}}To.prototype.push=To.prototype.add;const _T=function(t){var e=Object.prototype.toString;return t===!0||t===!1||!!t&&typeof t=="object"&&e.call(t)===Xl},fe=function(t){return!!t&&(typeof t=="object"||typeof t=="function")},wn=function(t){var e=Object.prototype.toString;return typeof t=="number"||!!t&&typeof t=="object"&&e.call(t)===Hl},ln=function(t){var e=Object.prototype.toString;return typeof t=="string"||!!t&&typeof t=="object"&&e.call(t)===Jl},jt=dy((t,e)=>{if(Kl(e)||Qn(e)){Uo(e,Wo(e),t);return}for(var n in e)hasOwnProperty.call(e,n)&&Os(t,n,e[n])}),ET=(t,...e)=>{let n=-1,r=e.length;const i=r>2?e[2]:void 0;for(i&&il(e[0],e[1],i)&&(r=1);++n<r;){const s=e[n];if(s==null)continue;const o=Object.keys(s),a=o.length;let l=-1;for(;++l<a;){const u=o[l],h=t[u];(h===void 0||Ds(h,Object.prototype[u])&&!hasOwnProperty.call(t,u))&&(t[u]=s[u])}}return t},Un=ET,DT=function(...e){return e.push(void 0,hy),Fe.apply(void 0,e)},Gd=DT,Ar=(t,e,...n)=>{let r=-1;const i=typeof e=="function",s=Qn(t)?new Array(t.length):[];return jd(t,o=>{s[++r]=i?e.apply(o,n):OT(o,e,...n)}),s},OT=(t,e,...n)=>{e=di(e,t),t=uy(t,e);const r=t==null?t:t[hi(rT(e))];return r==null?void 0:r.apply(t,n)},yy=(t,e,n)=>{let r=0,i=t==null?0:t.length;if(i==0)return 0;n=tc(n,2),e=n(e);const s=e!==e,o=e===null,a=Ns(e),l=e===void 0;for(;r<i;){let u;const h=Math.floor((r+i)/2),f=n(t[h]),v=f!==void 0,C=f===null,b=f===f,w=Ns(f);s?u=b:l?u=b&&v:o?u=b&&v&&!C:a?u=b&&v&&!C&&!w:C||w?u=!1:u=f<e,u?r=h+1:i=h}return Math.min(i,T2)},ji=(t,e)=>{let n=-1,r=(l,u)=>!!(l==null?0:l.length)&&l.indexOf(u)>-1;e=tc(e,2);let i=!0;const{length:s}=t,o=[];let a=o;if(s>=Dd){const l=e?null:iT(t);if(l)return ql(l);i=!1,r=(u,h)=>u.has(h),a=new To}else a=e?[]:o;t:for(;++n<s;){let l=t[n];const u=e?e(l):l;if(l=l!==0?l:0,i&&u===u){let h=a.length;for(;h--;)if(a[h]===u)continue t;e&&a.push(u),o.push(l)}else r(a,u)||(a!==o&&a.push(u),o.push(l))}return o},pr=t=>ps(t),Fn=t=>ps(t,!0),kr=t=>{if(t==null)return!0;if(Qn(t)&&(Array.isArray(t)||typeof t=="string"||typeof t.splice=="function"||Fo(t)||Mo(t)))return!t.length;const e=Kn(t);if(e=="[object Map]"||e=="[object Set]")return!t.size;if(Kl(t))return!O2(t).length;for(const n in t)if(hasOwnProperty.call(t,n))return!1;return!0},ls=(t,e)=>Ql(t,e),Ne=t=>typeof t=="function",je=t=>{if(!fr(t)||Kn(t)!="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},ae=t=>{if(!t)return[];if(Qn(t))return ln(t)?ey(t):Od(t);if(Symbol.iterator&&Symbol.iterator in Object(t)){const r=t[Symbol.iterator]();let i;const s=[];for(;!(i=r.next()).done;)s.push(i.value);return s}const e=Kn(t);return(e==Go?ly:e==Zo?ql:D2)(t)};function kT(t,e,n){if(typeof t!="function")throw new TypeError("Expected a function");let r,i,s,o,a,l,u=0,h=!1,f=!1,v=!0;const C=!e&&e!==0&&window&&typeof window.requestAnimationFrame=="function";e=+e||0,fe(n)&&(h=!!n.leading,f="maxWait"in n,s=f?Math.max(+n.maxWait||0,e):s,v="trailing"in n?!!n.trailing:v);function b(S){const E=r,z=i;return r=i=void 0,u=S,o=t.apply(z,E),o}function w(S,E){return C?(window.cancelAnimationFrame(a),window.requestAnimationFrame(S)):setTimeout(S,E)}function O(S){if(C)return window.cancelAnimationFrame(S);clearTimeout(S)}function k(S){return u=S,a=w(F,e),h?b(S):o}function R(S){const E=S-l,z=S-u,W=e-E;return f?Math.min(W,s-z):W}function U(S){const E=S-l,z=S-u;return l===void 0||E>=e||E<0||f&&z>=s}function F(){const S=Date.now();if(U(S))return y(S);a=w(F,R(S))}function y(S){return a=void 0,v&&r?b(S):(r=i=void 0,o)}function d(...S){const E=Date.now(),z=U(E);if(r=S,i=this,l=E,z){if(a===void 0)return k(l);if(f)return a=w(F,e),b(l)}return a===void 0&&(a=w(F,e)),o}return d.cancel=()=>{a!==void 0&&O(a),u=0,r=l=i=a=void 0},d.flush=()=>a===void 0?o:y(Date.now()),d.pending=()=>a!==void 0,d}const LT=(t,e)=>(e=tc(e,2),vT(t,(n,r,i)=>(i=e(r),hasOwnProperty.call(n,i)?n[i].push(r):Os(n,i,[r]),n),{})),$c=(t,e=[])=>{if(t==null)return[];const n=e.length;return n>1&&il(t,e[0],e[1])?e=[]:n>2&&il(e[0],e[1],e[2])&&(e=[e[0]]),Array.isArray(e)||(e=[tc(e,2)]),sT(t,e.flat(1),[])},zT=t=>(t==null?0:t.length)?vy(t,1/0):[],Gu=(t,...e)=>Qn(t)?cy(t,e):[],Ay=(t,...e)=>fr(t)&&Qn(t)?cy(t,e.flat(1)):[],Zu=(...t)=>{const e=t.flat(1);return ji(e)},Lr=(t,e)=>{if(t==null)return!1;typeof e=="string"&&(e=e.split("."));let n=-1,r=t;for(;++n<e.length;){if(!r||!hasOwnProperty.call(r,e[n]))return!1;r=r[e[n]]}return!0},Ge=(t,e,n)=>{e=di(e,t);let r=-1,i=e.length;for(i||(i=1,t=void 0);++r<i;){let s=t==null?void 0:t[hi(e[r])];s===void 0&&(r=i,s=n),t=typeof s=="function"?s.call(t):s}return t},Gi=(t,...e)=>{let n={};if(t==null)return n;let r=!1;e=e.flat(1).map(s=>(s=di(s,t),r||(r=s.length>1),s)),Uo(t,oy(t),n),r&&(n=ps(n,!0,!0,!0,s=>je(s)?void 0:s));let i=e.length;for(;i--;)K2(n,e[i]);return n},RT=(t,...e)=>t==null?{}:yT(t,e.flat(1/0)),Yn=(t,e=n=>n)=>{let n=-1;const r=Object(t),i=Qn(t)?ny(t,!0):fy(t);let s=i.length;for(;s--;){const o=i[++n];if(e(r[o],o,r)===!1)break}},BT=(t="")=>NT(`${t}`.replace(/['\u2019]/g,"")).reduce((e,n,r)=>(n=n.toLowerCase(),e+(r?TT(n):n)),"");let jT=0;const GT=(t="")=>{const e=++jT;return`${t}`+e},Fe=dy((t,e,n,r)=>{Bd(t,e,n,r)},!0),nr=function(t){return t&&t.toString().split(" ").map(function(e){return e.substr(0,xr.classNamePrefix.length)!==xr.classNamePrefix&&(e=xr.classNamePrefix+e),e}).join(" ")},ZT=function(t){return t&&t.toString().split(" ").map(function(e){return e.substr(0,xr.classNamePrefix.length)===xr.classNamePrefix&&(e=e.substr(xr.classNamePrefix.length)),e}).join(" ")},sl=function(t,e){const n={},r={},i=lt.namespace.svg,s=e||i,o=document.createDocumentFragment(),a=function(l,u,h){for(let f=0;f<l.length;f++){const v=l[f];if(typeof v=="string"){const F=document.createTextNode(v);u.appendChild(F);continue}if(!v.hasOwnProperty("tagName"))throw new Error("json-dom-parser: missing tagName");const C=v.tagName;let b;v.hasOwnProperty("namespaceURI")&&(h=v.namespaceURI),b=document.createElementNS(h,C);const w=h===i,O=w?lt:ce,k=v.attributes;k&&O(b).attr(k);const R=v.style;if(R&&ce(b).css(R),v.hasOwnProperty("className")){const F=v.className;w?b.className.baseVal=F:b.className=F}if(v.hasOwnProperty("textContent")&&(b.textContent=v.textContent),v.hasOwnProperty("selector")){const F=v.selector;if(n[F])throw new Error("json-dom-parser: selector must be unique");n[F]=b,O(b).attr("joint-selector",F)}if(v.hasOwnProperty("groupSelector")){let F=v.groupSelector;Array.isArray(F)||(F=[F]);for(let y=0;y<F.length;y++){const d=F[y];let S=r[d];S||(S=r[d]=[]),S.push(b)}}u.appendChild(b);const U=v.children;Array.isArray(U)&&a(U,b,h)}};return a(t,o,s),{fragment:o,selectors:n,groupSelectors:r}},Ca=function(t){let e=0;if(t.length===0)return e;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);e=(e<<5)-e+r,e=e&e}return e},Po=function(t,e,n){for(var r=Array.isArray(e)?e:e.split(n||"/"),i,s=0,o=r.length;s<o;)if(i=r[s++],Object(t)===t&&i in t)t=t[i];else return;return t},Cy=function(t,e){return typeof e!="string"&&typeof e!="number"&&(e=String(e)),!(e==="constructor"&&typeof t[e]=="function"||e==="__proto__")},Wu=function(t,e,n,r){const i=Array.isArray(e)?e:e.split(r||"/"),s=i.length-1;let o=t,a=0;for(;a<s;a++){const l=i[a];if(!Cy(o,l))return t;o=o[l]||(o[l]={})}return o[i[s]]=n,t},hp=function(t,e,n){const r=Array.isArray(e)?e:e.split(n||"/"),i=r.length-1;let s=t,o=0;for(;o<i;o++){const a=r[o];if(!Cy(s,a))return t;const l=s[a];if(!l)return t;s=l}return delete s[r[i]],t},WT=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,n=t==="x"?e:e&3|8;return n.toString(16)})},cs=function(t){return cs.id=cs.id||1,t===void 0?"j_"+cs.id++:(t.id=t.id===void 0?"j_"+cs.id++:t.id,t.id)},UT=function(t){return t.replace(/[A-Z]/g,"-$&").toLowerCase()},Be=function(t){if(t.normalized)return t;const{originalEvent:e,target:n}=t,r=e&&e.changedTouches&&e.changedTouches[0];if(r)for(let i in r)t[i]===void 0&&(t[i]=r[i]);if(n){const i=n.correspondingUseElement;i&&(t.target=i)}return t.normalized=!0,t},FT=function(t){let i=0,s=0,o=0,a=0;return"detail"in t&&(s=t.detail),"wheelDelta"in t&&(s=-t.wheelDelta/120),"wheelDeltaY"in t&&(s=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(i=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(i=s,s=0),o="deltaX"in t?t.deltaX:i*10,a="deltaY"in t?t.deltaY:s*10,(o||a)&&t.deltaMode&&(t.deltaMode==1?(o*=40,a*=40):(o*=800,a*=800)),t.deltaX===0&&t.deltaY!==0&&t.shiftKey&&(o=a,a=0,i=s,s=0),o&&!i&&(i=o<1?-1:1),a&&!s&&(s=a<1?-1:1),{spinX:i,spinY:s,deltaX:o,deltaY:a}},YT=function(t,e){return t>e?e:t<-e?-e:t},Uu=function(){var t;if(typeof window<"u"&&(t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame),!t){var e=0;t=function(n){var r=new Date().getTime(),i=Math.max(0,16-(r-e)),s=setTimeout(function(){n(r+i)},i);return e=r+i,s}}return function(n,r,...i){return t(r!==void 0?n.bind(r,...i):n)}}(),Fu=function(){var t,e=typeof window<"u";return e&&(t=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.msCancelAnimationFrame||window.msCancelRequestAnimationFrame||window.oCancelAnimationFrame||window.oCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.mozCancelRequestAnimationFrame),t=t||clearTimeout,e?t.bind(window):t}(),Nn=function(t){return ln(t)&&t.slice(-1)==="%"},VT=function(t,e){function n(a){var l=new RegExp("(?:\\d+(?:\\.\\d+)*)("+a+")$").exec(t);return l?l[1]:null}var r=parseFloat(t);if(Number.isNaN(r))return null;var i={};i.value=r;var s;if(e==null)s="[A-Za-z]*";else if(Array.isArray(e)){if(e.length===0)return null;s=e.join("|")}else ln(e)&&(s=e);var o=n(s);return o===null?null:(i.unit=o,i)},so=0;function XT(t,e){const n=t.split(e);let r=1;for(let i=0,s=n.length-1;i<s;i++){const o=[];(i>0||n[0]!=="")&&o.push(so),o.push(e),(i<s-1||n[s]!=="")&&o.push(so),n.splice(r,0,...o),r+=o.length+1}return n.filter(i=>i!=="")}function gp(t,e){if(t===null)return e.getBBox().height;switch(t.unit){case"em":return e.getBBox().height*t.value;case"px":case"":return t.value}}const by=function(t,e,n={},r={}){var i=e.width,s=e.height,o=r.svgDocument||lt("svg").node,a=lt("tspan").node,l=lt("text").attr(n).append(a).node,u=document.createTextNode("");l.style.opacity=0,l.style.display="block",a.style.display="block",a.appendChild(u),o.appendChild(l),r.svgDocument||document.body.appendChild(o);const h=r.preserveSpaces,f=" ";var v=r.separator||f,C=r.eol||`
`,b=r.hyphen?new RegExp(r.hyphen):/[^\w\d]/,w=r.maxLineCount;wn(w)||(w=1/0);var O=t.split(v),k=[],R=[],U,F,y;h&&lt(a).attr("xml:space","preserve");for(var d=0,S=0,E=O.length;d<E;d++){var z=O[d];if(!(!z&&!h)&&typeof z=="string"){var W=!1;if(C&&z.indexOf(C)>=0)if(z.length>1){const Zt=XT(O[d],C);O.splice(d,1,...Zt),d--,E=O.length;continue}else{if(h&&typeof O[d-1]=="string"){O.splice(d,so,"",so),E+=2,d--;continue}R[++S]=!h||typeof O[d+1]=="string"?"":void 0,W=!0}if(!W){let Zt;if(h?Zt=R[S]!==void 0?R[S]+f+z:z:Zt=R[S]?R[S]+f+z:z,u.data=Zt,a.getComputedTextLength()<=i)R[S]=Zt,(U||F)&&(k[S++]=!0,U=0,F=0);else{if(!R[S]||U){var $=!!U;if(U=z.length-1,$||!U){if(!U){if(!R[S]){R=[];break}O.splice(d,2,z+O[d+1]),E--,k[S++]=!0,d--;continue}O[d]=z.substring(0,U);const kt=O[d+1];O[d+1]=z.substring(U)+(kt===void 0||kt===so?"":kt)}else{if(F)O.splice(d,2,O[d]+O[d+1]),F=0;else{var Q=z.search(b);Q>-1&&Q!==z.length-1&&Q!==0&&(F=Q+1,U=0),O.splice(d,1,z.substring(0,F||U),z.substring(F||U)),E++}S&&!k[S-1]&&S--}(!h||R[S]!=="")&&d--;continue}S++,d--}}var ut=null;if(R.length>w)ut=w-1;else if(s!==void 0){if(y===void 0&&u.data!=="")if(n.lineHeight==="auto")y=gp({value:1.5,unit:"em"},l);else{const Zt=VT(n.lineHeight,["em","px",""]);y=gp(Zt,l)}y*R.length>s&&(ut=Math.floor(s/y)-1)}if(ut!==null){R.splice(ut+1);var dt=r.ellipsis;if(!dt||ut<0)break;typeof dt!="string"&&(dt="");var Ct=R[ut];if(!Ct&&!W)break;var vt=Ct.length,mt,St,Mt;do{if(St=Ct[vt],mt=Ct.substring(0,vt),St?St.match(v)&&(mt+=St):(Mt=typeof v=="string"?v:" ",mt+=Mt),mt+=dt,u.data=mt,a.getComputedTextLength()<=i){R[ut]=mt;break}vt--}while(vt>=0);break}}}return r.svgDocument?o.removeChild(l):document.body.removeChild(o),R.join(C)},HT=function(t){var e=ce(ce.parseHTML("<div>"+t+"</div>",null,!1));return e.find("*").each(function(){var n=this;ce.each(n.attributes,function(){var r=this,i=r.name,s=r.value;(i.startsWith("on")||s.startsWith("javascript:")||s.startsWith("data:")||s.startsWith("vbscript:"))&&ce(n).removeAttr(i)})}),e.html()},JT=function(t,e){var n=ce(t),r=n.map(function(){var i=this,s=i.parentNode,o=s.insertBefore(document.createTextNode(""),i.nextSibling);return function(){if(s===this)throw new Error("You can't sort elements if any one is a descendant of another.");s.insertBefore(this,o),s.removeChild(o)}});return Array.prototype.sort.call(n,e).each(function(i){r[i].call(this)})},ai=function(t){if(Object(t)!==t){var e=0;return isFinite(t)&&(e=+t),{top:e,right:e,bottom:e,left:e}}var n,r,i,s;return n=r=i=s=0,isFinite(t.vertical)&&(n=i=+t.vertical),isFinite(t.horizontal)&&(r=s=+t.horizontal),isFinite(t.top)&&(n=+t.top),isFinite(t.right)&&(r=+t.right),isFinite(t.bottom)&&(i=+t.bottom),isFinite(t.left)&&(s=+t.left),{top:n,right:r,bottom:i,left:s}},$T={linear:function(t){return t},quad:function(t){return t*t},cubic:function(t){return t*t*t},inout:function(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)},exponential:function(t){return Math.pow(2,10*(t-1))},bounce:function(t){for(var e=0,n=1;;e+=n,n/=2)if(t>=(7-4*e)/11){var r=(11-6*e-11*t)/4;return-r*r+n*n}},reverse:function(t){return function(e){return 1-t(1-e)}},reflect:function(t){return function(e){return .5*(e<.5?t(2*e):2-t(2-2*e))}},clamp:function(t,e,n){return e=e||0,n=n||1,function(r){var i=t(r);return i<e?e:i>n?n:i}},back:function(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}},elastic:function(t){return t||(t=1.5),function(e){return Math.pow(2,10*(e-1))*Math.cos(20*Math.PI*t/3*e)}}},wy={number:function(t,e){var n=e-t;return function(r){return t+n*r}},object:function(t,e){var n=Object.keys(t);return function(r){var i,s,o={};for(i=n.length-1;i!=-1;i--)s=n[i],o[s]=t[s]+(e[s]-t[s])*r;return o}},hexColor:function(t,e){var n=parseInt(t.slice(1),16),r=parseInt(e.slice(1),16),i=n&255,s=(r&255)-i,o=n&65280,a=(r&65280)-o,l=n&16711680,u=(r&16711680)-l;return function(h){var f=i+s*h&255,v=o+a*h&65280,C=l+u*h&16711680;return"#"+(1<<24|f|v|C).toString(16).slice(1)}},unit:function(t,e){var n=/(-?[0-9]*.[0-9]*)(px|em|cm|mm|in|pt|pc|%)/,r=n.exec(t),i=n.exec(e),s=i[1].indexOf("."),o=s>0?i[1].length-s-1:0;t=+r[1];var a=+i[1]-t,l=r[2];return function(u){return(t+a*u).toFixed(o)+l}}},KT={outline:function(t){var e='<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="${outerRadius}" /><feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="${innerRadius}" /><feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/><feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/><feMerge><feMergeNode in="outline"/><feMergeNode in="SourceGraphic"/></feMerge></filter>',n=Number.isFinite(t.margin)?t.margin:2,r=Number.isFinite(t.width)?t.width:1;return gn(e)({color:t.color||"blue",opacity:Number.isFinite(t.opacity)?t.opacity:1,outerRadius:n+r,innerRadius:n})},highlight:function(t){var e='<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="${width}"/><feComposite result="composed" in="colored" in2="morphed" operator="in"/><feGaussianBlur result="blured" in="composed" stdDeviation="${blur}"/><feBlend in="SourceGraphic" in2="blured" mode="normal"/></filter>';return gn(e)({color:t.color||"red",width:Number.isFinite(t.width)?t.width:1,blur:Number.isFinite(t.blur)?t.blur:0,opacity:Number.isFinite(t.opacity)?t.opacity:1})},blur:function(t){var e=Number.isFinite(t.x)?t.x:2;return gn('<filter><feGaussianBlur stdDeviation="${stdDeviation}"/></filter>')({stdDeviation:Number.isFinite(t.y)?[e,t.y]:e})},dropShadow:function(t){var e="SVGFEDropShadowElement"in window?'<filter><feDropShadow stdDeviation="${blur}" dx="${dx}" dy="${dy}" flood-color="${color}" flood-opacity="${opacity}"/></filter>':'<filter><feGaussianBlur in="SourceAlpha" stdDeviation="${blur}"/><feOffset dx="${dx}" dy="${dy}" result="offsetblur"/><feFlood flood-color="${color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="${opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>';return gn(e)({dx:t.dx||0,dy:t.dy||0,opacity:Number.isFinite(t.opacity)?t.opacity:1,color:t.color||"black",blur:Number.isFinite(t.blur)?t.blur:4})},grayscale:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return gn('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${b} ${h} 0 0 0 0 0 1 0"/></filter>')({a:.2126+.7874*(1-e),b:.7152-.7152*(1-e),c:.0722-.0722*(1-e),d:.2126-.2126*(1-e),e:.7152+.2848*(1-e),f:.0722-.0722*(1-e),g:.2126-.2126*(1-e),h:.0722+.9278*(1-e)})},sepia:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return gn('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${h} ${i} 0 0 0 0 0 1 0"/></filter>')({a:.393+.607*(1-e),b:.769-.769*(1-e),c:.189-.189*(1-e),d:.349-.349*(1-e),e:.686+.314*(1-e),f:.168-.168*(1-e),g:.272-.272*(1-e),h:.534-.534*(1-e),i:.131+.869*(1-e)})},saturate:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return gn('<filter><feColorMatrix type="saturate" values="${amount}"/></filter>')({amount:1-e})},hueRotate:function(t){return gn('<filter><feColorMatrix type="hueRotate" values="${angle}"/></filter>')({angle:t.angle||0})},invert:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return gn('<filter><feComponentTransfer><feFuncR type="table" tableValues="${amount} ${amount2}"/><feFuncG type="table" tableValues="${amount} ${amount2}"/><feFuncB type="table" tableValues="${amount} ${amount2}"/></feComponentTransfer></filter>')({amount:e,amount2:1-e})},brightness:function(t){return gn('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}"/><feFuncG type="linear" slope="${amount}"/><feFuncB type="linear" slope="${amount}"/></feComponentTransfer></filter>')({amount:Number.isFinite(t.amount)?t.amount:1})},contrast:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return gn('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}" intercept="${amount2}"/><feFuncG type="linear" slope="${amount}" intercept="${amount2}"/><feFuncB type="linear" slope="${amount}" intercept="${amount2}"/></feComponentTransfer></filter>')({amount:e,amount2:.5-e/2})}},gn=function(t){var e=/<%= ([^ ]+) %>|\$\{ ?([^{} ]+) ?\}|\{\{([^{} ]+)\}\}/g;return function(n){return n=n||{},t.replace(e,function(r){for(var i=Array.from(arguments),s=i.slice(1,4).find(function(l){return!!l}),o=s.split("."),a=n[o.shift()];a!==void 0&&o.length;)a=a[o.shift()];return a!==void 0?a:""})}};function xy(t){t=ji(t);const e=ae(t).reduce(function(n,r){return n[r.id]=r.clone(),n},{});return ae(t).forEach(function(n){const r=e[n.id];if(r.isLink()){const o=r.source(),a=r.target();o.id&&e[o.id]&&r.prop("source/id",e[o.id].id),a.id&&e[a.id]&&r.prop("target/id",e[a.id].id)}const i=n.get("parent");i&&e[i]&&r.set("parent",e[i].id);const s=ae(n.get("embeds")).reduce(function(o,a){return e[a]&&o.push(e[a].id),o},[]);kr(s)||r.set("embeds",s)}),e}const QT=["checked","selected","disabled","readOnly","contentEditable","value","indeterminate"],qT=QT.reduce((t,e)=>(t[e]=!0,t),{}),t3={qualify:function(t){return je(t)},set:function(t,e,n){Object.keys(t).forEach(function(r){if(qT[r]&&r in n){const i=t[r];n.tagName==="SELECT"&&Array.isArray(i)?Array.from(n.options).forEach(function(s,o){s.selected=i.includes(s.value)}):n[r]=i}})}},e3=t3;function Qr(t,e){return function(n,r){var i=Nn(n);n=parseFloat(n),i&&(n/=100);var s={};if(isFinite(n)){var o=i||n>=0&&n<=1?n*r[e]:Math.max(n+r[e],0);s[t]=o}return s}}function ba(t,e,n){return function(r,i){var s=Nn(r);r=parseFloat(r),s&&(r/=100);var o;if(isFinite(r)){var a=i[n]();s||r>0&&r<1?o=a[t]+i[e]*r:o=a[t]+r}var l=Z();return l[t]=o||0,l}}function pp(t,e,n){return function(r,i){var s;r==="middle"?s=i[e]/2:r===n?s=i[e]:isFinite(r)?s=r>-1&&r<1?-i[e]*r:-r:Nn(r)?s=i[e]*parseFloat(r)/100:s=0;var o=Z();return o[t]=-(i[t]+s),o}}function Sy(t,e){var n="joint-shape",r=e&&e.resetOffset;return function(i,s,o){var a=ce(o),l=a.data(n);if(!l||l.value!==i){var u=t(i);l={value:i,shape:u,shapeBBox:u.bbox()},a.data(n,l)}var h=l.shape.clone(),f=l.shapeBBox.clone(),v=f.origin(),C=s.origin();f.x=C.x,f.y=C.y;var b=s.maxRectScaleToFit(f,C),w=f.width===0||s.width===0?1:b.sx,O=f.height===0||s.height===0?1:b.sy;return h.scale(w,O,v),r&&h.translate(-v.x,-v.y),h}}function mp(t){function e(r){return new Lt(lt.normalizePathData(r))}var n=Sy(e,t);return function(r,i,s){var o=n(r,i,s);return{d:o.serialize()}}}function vp(t){var e=Sy(Me,t);return function(n,r,i){var s=e(n,r,i);return{points:s.serialize()}}}function wa(t,e){var n=new Z(1,0);return function(r){var i,s,o=this[t](r);return o?(s=e.rotate?o.vector().vectorAngle(n):0,i=o.start):(i=this.path.start,s=0),s===0?{transform:"translate("+i.x+","+i.y+")"}:{transform:"translate("+i.x+","+i.y+") rotate("+s+")"}}}function Ip(t){return function(n,r,i){const s=lt(i);s.attr(t)!==n&&s.attr(t,n)}}function qi(t,e,n){return n.text!==void 0}function Hs(){return this.model.isLink()}function Kc(t){var e={},n=t.stroke;typeof n=="string"&&(e.stroke=n,e.fill=n);var r=t.strokeOpacity;return r===void 0&&(r=t["stroke-opacity"]),r===void 0&&(r=t.opacity),r!==void 0&&(e["stroke-opacity"]=r,e["fill-opacity"]=r),e}function yp(t){const{paper:e}=this;return`url(#${t.type==="pattern"?e.definePattern(t):e.defineGradient(t)})`}const Kt={xlinkShow:{set:"xlink:show"},xlinkRole:{set:"xlink:role"},xlinkType:{set:"xlink:type"},xlinkArcrole:{set:"xlink:arcrole"},xlinkTitle:{set:"xlink:title"},xlinkActuate:{set:"xlink:actuate"},xmlSpace:{set:"xml:space"},xmlBase:{set:"xml:base"},xmlLang:{set:"xml:lang"},preserveAspectRatio:{set:"preserveAspectRatio"},requiredExtension:{set:"requiredExtension"},requiredFeatures:{set:"requiredFeatures"},systemLanguage:{set:"systemLanguage"},externalResourcesRequired:{set:"externalResourceRequired"},href:{set:Ip("href")},xlinkHref:{set:Ip("xlink:href")},filter:{qualify:je,set:function(t){return"url(#"+this.paper.defineFilter(t)+")"}},fill:{qualify:je,set:yp},stroke:{qualify:je,set:yp},sourceMarker:{qualify:je,set:function(t,e,n,r){return t=jt(Kc(r),t),{"marker-start":"url(#"+this.paper.defineMarker(t)+")"}}},targetMarker:{qualify:je,set:function(t,e,n,r){return t=jt(Kc(r),{transform:"rotate(180)"},t),{"marker-end":"url(#"+this.paper.defineMarker(t)+")"}}},vertexMarker:{qualify:je,set:function(t,e,n,r){return t=jt(Kc(r),t),{"marker-mid":"url(#"+this.paper.defineMarker(t)+")"}}},text:{qualify:function(t,e,n){return!n.textWrap||!je(n.textWrap)},set:function(t,e,n,r){var i=ce(n),s="joint-text",o=i.data(s),a=RT(r,"lineHeight","annotations","textPath","x","textVerticalAnchor","eol","displayEmpty");const{x:l}=a;Ir(l)&&(a.x=yr(l,e));let u=r["font-size"]||r.fontSize;Ir(u)&&(u=yr(u,e));var h=a.fontSize=u,f=JSON.stringify([t,a]);if(o===void 0||o!==f){h&&n.setAttribute("font-size",h);var v=a.textPath;if(fe(v)){var C=v.selector;if(typeof C=="string"){var b=this.findBySelector(C)[0];b instanceof SVGPathElement&&(a.textPath=jt({"xlink:href":"#"+b.id},v))}}lt(n).text(""+t,a),i.data(s,f)}}},textWrap:{qualify:je,set:function(t,e,n,r){var i={},s=t.width||0;Nn(s)?i.width=e.width*parseFloat(s)/100:Ir(s)?i.width=Number(yr(s,e)):t.width===null?i.width=1/0:s<=0?i.width=e.width+s:i.width=s;var o=t.height||0;Nn(o)?i.height=e.height*parseFloat(o)/100:Ir(o)?i.height=Number(yr(o,e)):t.height===null||(o<=0?i.height=e.height+o:i.height=o);var a,l=t.text;if(l===void 0&&(l=r.text),l!==void 0){const u=t.breakText||by,h=r["font-size"]||r.fontSize;a=u(""+l,i,{"font-weight":r["font-weight"]||r.fontWeight,"font-size":Ir(h)?yr(h,e):h,"font-family":r["font-family"]||r.fontFamily,lineHeight:r.lineHeight,"letter-spacing":"letter-spacing"in r?r["letter-spacing"]:r.letterSpacing},{svgDocument:this.paper.svg,ellipsis:t.ellipsis,hyphen:t.hyphen,maxLineCount:t.maxLineCount,preserveSpaces:t.preserveSpaces})}else a="";Kt.text.set.call(this,a,e,n,r)}},title:{qualify:function(t,e){return e instanceof SVGElement},set:function(t,e,n){var r=ce(n),i="joint-title",s=r.data(i);if(s===void 0||s!==t){if(r.data(i,t),n.tagName==="title"){n.textContent=t;return}var o=n.firstElementChild;if(o&&o.tagName==="title")o.textContent=t;else{var a=document.createElementNS(n.namespaceURI,"title");a.textContent=t,n.insertBefore(a,o)}}}},lineHeight:{qualify:qi},textVerticalAnchor:{qualify:qi},textPath:{qualify:qi},annotations:{qualify:qi},eol:{qualify:qi},displayEmpty:{qualify:qi},port:{set:function(t){return t===null||t.id===void 0?t:t.id}},style:{qualify:je,set:function(t,e,n){ce(n).css(t)}},html:{set:function(t,e,n){ce(n).html(t+"")}},props:e3,ref:{},refX:{position:ba("x","width","origin")},refY:{position:ba("y","height","origin")},refDx:{position:ba("x","width","corner")},refDy:{position:ba("y","height","corner")},refWidth:{set:Qr("width","width")},refHeight:{set:Qr("height","height")},refRx:{set:Qr("rx","width")},refRy:{set:Qr("ry","height")},refRInscribed:{set:function(t){var e=Qr(t,"width"),n=Qr(t,"height");return function(r,i){var s=i.height>i.width?e:n;return s(r,i)}}("r")},refRCircumscribed:{set:function(t,e){var n=Nn(t);t=parseFloat(t),n&&(t/=100);var r=Math.sqrt(e.height*e.height+e.width*e.width),i;return isFinite(t)&&(n||t>=0&&t<=1?i=t*r:i=Math.max(t+r,0)),{r:i}}},refCx:{set:Qr("cx","width")},refCy:{set:Qr("cy","height")},xAlignment:{offset:pp("x","width","right")},yAlignment:{offset:pp("y","height","bottom")},resetOffset:{offset:function(t,e){return t?{x:-e.x,y:-e.y}:{x:0,y:0}}},refDResetOffset:{set:mp({resetOffset:!0})},refDKeepOffset:{set:mp({resetOffset:!1})},refPointsResetOffset:{set:vp({resetOffset:!0})},refPointsKeepOffset:{set:vp({resetOffset:!1})},connection:{qualify:Hs,set:function({stubs:t=0}){let e;if(isFinite(t)&&t!==0){let n;t<0?n=(this.getConnectionLength()+t)/2:n=t;const r=this.getConnection(),i=this.getConnectionSubdivisions(),s=r.divideAtLength(n,{segmentSubdivisions:i}),o=r.divideAtLength(-n,{segmentSubdivisions:i});s&&o&&(e=`${s[0].serialize()} ${o[1].serialize()}`)}return{d:e||this.getSerializedConnection()}}},atConnectionLengthKeepGradient:{qualify:Hs,set:wa("getTangentAtLength",{rotate:!0})},atConnectionLengthIgnoreGradient:{qualify:Hs,set:wa("getTangentAtLength",{rotate:!1})},atConnectionRatioKeepGradient:{qualify:Hs,set:wa("getTangentAtRatio",{rotate:!0})},atConnectionRatioIgnoreGradient:{qualify:Hs,set:wa("getTangentAtRatio",{rotate:!1})}};Kt["xlink:href"]=Kt.xlinkHref;["transform","d","points","cx","cy","x1","x2","y1","y2","x","y","dx","dy"].forEach(t=>{Kt[t]={qualify:Ir,set:function(n,r){return{[t]:yr(n,r)}}}});["width","height","r","rx","ry","font-size","stroke-width"].forEach(t=>{Kt[t]={qualify:Ir,set:function(n,r){return{[t]:Math.max(0,yr(n,r))}}}});Kt.refR=Kt.refRInscribed;Kt.refD=Kt.refDResetOffset;Kt.refPoints=Kt.refPointsResetOffset;Kt.atConnectionLength=Kt.atConnectionLengthKeepGradient;Kt.atConnectionRatio=Kt.atConnectionRatioKeepGradient;Kt.fontSize=Kt["font-size"];Kt.strokeWidth=Kt["stroke-width"];Kt.refX2=Kt.refX;Kt.refY2=Kt.refY;Kt.refWidth2=Kt.refWidth;Kt.refHeight2=Kt.refHeight;Kt["ref-x"]=Kt.refX;Kt["ref-y"]=Kt.refY;Kt["ref-dy"]=Kt.refDy;Kt["ref-dx"]=Kt.refDx;Kt["ref-width"]=Kt.refWidth;Kt["ref-height"]=Kt.refHeight;Kt["x-alignment"]=Kt.xAlignment;Kt["y-alignment"]=Kt.yAlignment;const Ny=Kt,Sr=on.Model.extend({constructor:function(t,e){var n,r=t||{};typeof this.preinitialize=="function"&&this.preinitialize.apply(this,arguments),this.cid=GT("c"),this.attributes={},e&&e.collection&&(this.collection=e.collection),e&&e.parse&&(r=this.parse(r,e)||{}),(n=Ge(this,"defaults"))&&(r=Fe({},n,r)),this.set(r,e),this.changed={},this.initialize.apply(this,arguments)},translate:function(t,e,n){throw new Error("Must define a translate() method.")},toJSON:function(){const e=Ge(this.constructor.prototype,"defaults").attrs||{},n=this.attributes.attrs,r={};Yn(n,function(s,o){const a=e[o];Yn(s,function(l,u){fe(l)&&!Array.isArray(l)?Yn(l,function(h,f){(!a||!a[u]||!ls(a[u][f],h))&&(r[o]=r[o]||{},(r[o][u]||(r[o][u]={}))[f]=h)}):(!a||!ls(a[u],l))&&(r[o]=r[o]||{},r[o][u]=l)})});const i=Fn(Gi(this.attributes,"attrs"));return i.attrs=r,i},initialize:function(t){const e=this.getIdAttribute();(!t||t[e]===void 0)&&this.set(e,this.generateId(),{silent:!0}),this._transitionIds={},this._scheduledTransitionIds={},this.processPorts(),this.on("change:attrs",this.processPorts,this)},getIdAttribute:function(){return this.idAttribute||"id"},generateId:function(){return WT()},processPorts:function(){var t=this.ports,e={};Yn(this.get("attrs"),function(s,o){s&&s.port&&(s.port.id!==void 0?e[s.port.id]=s.port:e[s.port]={id:s.port})});var n={};if(Yn(t,function(s,o){e[o]||(n[o]=!0)}),this.graph&&!kr(n)){var r=this.graph.getConnectedLinks(this,{inbound:!0});r.forEach(function(s){n[s.get("target").port]&&s.remove()});var i=this.graph.getConnectedLinks(this,{outbound:!0});i.forEach(function(s){n[s.get("source").port]&&s.remove()})}this.ports=e},remove:function(t={}){const{graph:e,collection:n}=this;if(!e)return n&&n.remove(this,t),this;e.startBatch("remove");const r=this.getParentCell();r&&r.unembed(this,t);const i=this.getEmbeddedCells();for(let s=0,o=i.length;s<o;s++){const a=i[s];a&&a.remove(t)}return this.trigger("remove",this,e.attributes.cells,t),e.stopBatch("remove"),this},toFront:function(t){var e=this.graph;if(e){t=Un(t||{},{foregroundEmbeds:!0});let n;t.deep?(n=this.getEmbeddedCells({deep:!0,breadthFirst:t.breadthFirst!==!1,sortSiblings:t.foregroundEmbeds}),n.unshift(this)):n=[this];const r=t.foregroundEmbeds?n:$c(n,l=>l.z());let s=e.maxZIndex()-n.length+1;const o=e.get("cells");let a=o.indexOf(r[0])!==o.length-n.length;a||(a=r.some(function(l,u){return l.z()!==s+u})),a&&(this.startBatch("to-front"),s=s+n.length,r.forEach(function(l,u){l.set("z",s+u,t)}),this.stopBatch("to-front"))}return this},toBack:function(t){var e=this.graph;if(e){t=Un(t||{},{foregroundEmbeds:!0});let r;t.deep?(r=this.getEmbeddedCells({deep:!0,breadthFirst:t.breadthFirst!==!1,sortSiblings:t.foregroundEmbeds}),r.unshift(this)):r=[this];const i=t.foregroundEmbeds?r:$c(r,a=>a.z());let s=e.minZIndex();var n=e.get("cells");let o=n.indexOf(i[0])!==0;o||(o=i.some(function(a,l){return a.z()!==s+l})),o&&(this.startBatch("to-back"),s-=r.length,i.forEach(function(a,l){a.set("z",s+l,t)}),this.stopBatch("to-back"))}return this},parent:function(t,e){return t===void 0?this.get("parent"):this.set("parent",t,e)},embed:function(t,e){const n=Array.isArray(t)?t:[t];if(!this.canEmbed(n))throw new Error("Recursive embedding not allowed.");if(n.some(r=>r.isEmbedded()&&this.id!==r.parent()))throw new Error("Embedding of already embedded cells is not allowed.");return this._embedCells(n,e),this},unembed:function(t,e){const n=Array.isArray(t)?t:[t];return this._unembedCells(n,e),this},canEmbed:function(t){return(Array.isArray(t)?t:[t]).every(n=>this!==n&&!this.isEmbeddedIn(n))},_embedCells:function(t,e){const n="embed";this.startBatch(n);const r=jt([],this.get("embeds"));t.forEach(i=>{r[i.isLink()?"unshift":"push"](i.id),i.parent(this.id,e)}),this.set("embeds",ji(r),e),this.stopBatch(n)},_unembedCells:function(t,e){const n="unembed";this.startBatch(n),t.forEach(r=>r.unset("parent",e)),this.set("embeds",Gu(this.get("embeds"),...t.map(r=>r.id)),e),this.stopBatch(n)},getParentCell:function(){var t=this.parent(),e=this.graph;return t&&e&&e.getCell(t)||null},getAncestors:function(){var t=[];if(!this.graph)return t;for(var e=this.getParentCell();e;)t.push(e),e=e.getParentCell();return t},getEmbeddedCells:function(t){if(t=t||{},!this.graph)return[];if(t.deep)return t.breadthFirst?this._getEmbeddedCellsBfs(t.sortSiblings):this._getEmbeddedCellsDfs(t.sortSiblings);const e=this.get("embeds");if(kr(e))return[];let n=e.map(this.graph.getCell,this.graph);return t.sortSiblings&&(n=$c(n,r=>r.z())),n},_getEmbeddedCellsBfs:function(t){const e=[],n=[];for(n.push(this);n.length>0;){const r=n.shift();e.push(r);const i=r.getEmbeddedCells({sortSiblings:t});n.push(...i)}return e.shift(),e},_getEmbeddedCellsDfs:function(t){const e=[],n=[];for(n.push(this);n.length>0;){const r=n.pop();e.push(r);const i=r.getEmbeddedCells({sortSiblings:t});for(let s=i.length-1;s>=0;--s)n.push(i[s])}return e.shift(),e},isEmbeddedIn:function(t,e){var n=ln(t)?t:t.id,r=this.parent();if(e=jt({deep:!0},e),this.graph&&e.deep){for(;r;){if(r===n)return!0;r=this.graph.getCell(r).parent()}return!1}else return r===n},isEmbedded:function(){return!!this.parent()},clone:function(t){if(t=t||{},t.deep)return ae(xy([this].concat(this.getEmbeddedCells({deep:!0}))));var e=on.Model.prototype.clone.apply(this,arguments);return e.set(this.getIdAttribute(),this.generateId()),e.unset("embeds"),e.unset("parent"),e},prop:function(t,e,n){var r="/",i=ln(t);if(i||Array.isArray(t))if(arguments.length>1){var s,o;i?(s=t,o=s.split("/")):(s=t.join(r),o=t.slice());var a=o[0],l=o.length;const R=n||{};R.propertyPath=s,R.propertyValue=e,R.propertyPathArray=o,"rewrite"in R||(R.rewrite=!1);for(var u={},h=u,f=a,v=1;v<l;v++){var C=o[v],b=Number.isFinite(i?Number(C):C);h=h[f]=b?[]:{},f=C}u=Wu(u,o,e,"/");var w=Fe({},this.attributes);R.rewrite&&hp(w,s,"/");var O=Fe(w,u);return this.set(a,O[a],R)}else return Po(this.attributes,t,r);const k=e||{};return k.propertyPath=null,k.propertyValue=t,k.propertyPathArray=[],"rewrite"in k||(k.rewrite=!1),this.set(Fe({},this.attributes,t),k)},removeProp:function(t,e){e=e||{};var n=Array.isArray(t)?t:t.split("/"),r=n[0];if(r==="attrs"&&(e.dirty=!0),n.length===1)return this.unset(t,e);var i=n.slice(1),s=this.get(r);return s==null?this:(s=Fn(s),hp(s,i,"/"),this.set(r,s,e))},attr:function(t,e,n){var r=Array.from(arguments);return r.length===0?this.get("attrs"):(Array.isArray(t)?r[0]=["attrs"].concat(t):ln(t)?r[0]="attrs/"+t:r[0]={attrs:t},this.prop.apply(this,r))},removeAttr:function(t,e){return Array.isArray(t)?this.removeProp(["attrs"].concat(t)):this.removeProp("attrs/"+t,e)},transition:function(t,e,n,r){r=r||"/";var i={duration:100,delay:10,timingFunction:$T.linear,valueFunction:wy.number};n=jt(i,n);var s=0,o,a=(function(f){var v,C,b;s=s||f,f-=s,C=f/n.duration,C<1?this._transitionIds[t]=v=Uu(a):(C=1,delete this._transitionIds[t]),b=o(n.timingFunction(C)),n.transitionId=v,this.prop(t,b,n),v||this.trigger("transition:end",this,t)}).bind(this);const{_scheduledTransitionIds:l}=this;let u;var h=f=>{l[t]&&(l[t]=Gu(l[t],u),l[t].length===0&&delete l[t]),this.stopPendingTransitions(t,r),o=n.valueFunction(Po(this.attributes,t,r),e),this._transitionIds[t]=Uu(f),this.trigger("transition:start",this,t)};return u=setTimeout(h,n.delay,a),l[t]||(l[t]=[]),l[t].push(u),u},getTransitions:function(){return Zu(Object.keys(this._transitionIds),Object.keys(this._scheduledTransitionIds))},stopScheduledTransitions:function(t,e="/"){const{_scheduledTransitionIds:n={}}=this;let r=Object.keys(n);if(t){const i=t.split(e);r=r.filter(s=>ls(i,s.split(e).slice(0,i.length)))}return r.forEach(i=>{n[i].forEach(o=>clearTimeout(o)),delete n[i]}),this},stopPendingTransitions(t,e="/"){const{_transitionIds:n={}}=this;let r=Object.keys(n);if(t){const i=t.split(e);r=r.filter(s=>ls(i,s.split(e).slice(0,i.length)))}r.forEach(i=>{const s=n[i];Fu(s),delete n[i],this.trigger("transition:end",this,i)})},stopTransitions:function(t,e="/"){return this.stopScheduledTransitions(t,e),this.stopPendingTransitions(t,e),this},addTo:function(t,e){return t.addCell(this,e),this},findView:function(t){return t.findViewByModel(this)},isElement:function(){return!1},isLink:function(){return!1},startBatch:function(t,e){return this.graph&&this.graph.startBatch(t,jt({},e,{cell:this})),this},stopBatch:function(t,e){return this.graph&&this.graph.stopBatch(t,jt({},e,{cell:this})),this},getChangeFlag:function(t){var e=0;if(!t)return e;for(var n in t)!t.hasOwnProperty(n)||!this.hasChanged(n)||(e|=t[n]);return e},angle:function(){return 0},position:function(){return new Z(0,0)},z:function(){return this.get("z")||0},getPointFromConnectedLink:function(){return new Z},getBBox:function(){return new Pt(0,0,0,0)},getPointRotatedAroundCenter(t,e,n){const r=new Z(e,n);return t&&r.rotate(this.getBBox().center(),t),r},getAbsolutePointFromRelative(t,e){return this.getPointRotatedAroundCenter(-this.angle(),this.position().offset(t,e))},getRelativePointFromAbsolute(t,e){return this.getPointRotatedAroundCenter(this.angle(),t,e).difference(this.position())}},{getAttributeDefinition:function(t){var e=this.attributes,n=Ny;return e&&e[t]||n[t]},define:function(t,e,n,r){n=jt({defaults:Gd({type:t},e,this.prototype.defaults)},n);var i=this.extend(n,r);return typeof joint<"u"&&Lr(joint,"shapes")&&Wu(joint.shapes,t,i,"."),i}}),n3=function(t,e,n){if(ln(n)){if(!Yu[n])throw new Error('Unknown wrapper: "'+n+'"');n=Yu[n]}if(!Ne(n))throw new Error("Wrapper must be a function.");ae(e).forEach(function(r){t[r]=n(t[r])})},Yu={cells:function(t){return function(){var e=Array.from(arguments),n=e.length,r=n>0&&e[0]||[],i=n>1&&e[n-1]||{};return Array.isArray(r)||(i instanceof Sr?r=e:r instanceof Sr&&(e.length>1&&e.pop(),r=e)),i instanceof Sr&&(i={}),t.call(this,r,i)}}},Le={TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left",TOP_LEFT:"top-left",TOP_RIGHT:"top-right",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",CENTER:"center"};function My(t,e){const n=new Pt(t);switch(e){case void 0:throw new Error("Position required");case Le.LEFT:case"leftMiddle":return n.leftMiddle();case Le.RIGHT:case"rightMiddle":return n.rightMiddle();case Le.TOP:case"topMiddle":return n.topMiddle();case Le.BOTTOM:case"bottomMiddle":return n.bottomMiddle();case Le.TOP_LEFT:case"topLeft":case"origin":return n.topLeft();case Le.TOP_RIGHT:case"topRight":return n.topRight();case Le.BOTTOM_LEFT:case"bottomLeft":return n.bottomLeft();case Le.BOTTOM_RIGHT:case"bottomRight":case"corner":return n.bottomRight();case Le.CENTER:return n.center();default:throw new Error(`Unknown position: ${e}`)}}function Ty(t,e,n){var r=t.toJSON();return r.angle=e||0,Un({},n,r)}function Vo(t,e,n,r){return t.map(function(i,s,o){var a=this.pointAt((s+.5)/o.length);return(i.dx||i.dy)&&a.offset(i.dx||0,i.dy||0),Ty(a.round(),0,Zd(r,i))},ki(e,n))}function Py(t,e,n,r){var i=e.center(),s=e.width/e.height,o=e.topMiddle(),a=mn.fromRect(e);return t.map(function(l,u,h){var f=n+r(u,h.length),v=o.clone().rotate(i,-f).scale(s,1,i),C=l.compensateRotation?-a.tangentTheta(v):0;return(l.dx||l.dy)&&v.offset(l.dx||0,l.dy||0),l.dr&&v.move(i,l.dr),Ty(v.round(),C,Zd(e,l))})}function Zd(t,e){let{x:n,y:r,angle:i}=e;return Nn(n)?n=parseFloat(n)/100*t.width:Ir(n)&&(n=Number(yr(n,t))),Nn(r)?r=parseFloat(r)/100*t.height:Ir(r)&&(r=Number(yr(r,t))),{x:n,y:r,angle:i}}function Vu(t,e){const{x:n,y:r}=Zd(t,e);return new Z(n||0,r||0)}const r3=function(t,e){return t.map(n=>{const r=Vu(e,n).round().toJSON();return r.angle=n.angle||0,r})},i3=function(t,e,n){return n.fn(t,e,n)},s3=function(t,e,n){var r=Vu(e,n.start||e.origin()),i=Vu(e,n.end||e.corner());return Vo(t,r,i,e)},o3=function(t,e,n){return Vo(t,e.origin(),e.bottomLeft(),e)},a3=function(t,e,n){return Vo(t,e.topRight(),e.corner(),e)},l3=function(t,e,n){return Vo(t,e.origin(),e.topRight(),e)},c3=function(t,e,n){return Vo(t,e.bottomLeft(),e.corner(),e)},u3=function(t,e,n){var r=n.startAngle||0,i=n.step||360/t.length;return Py(t,e,r,function(s){return s*i})},f3=function(t,e,n){var r=n.startAngle||0,i=n.step||20;return Py(t,e,r,function(s,o){return(s+.5-o/2)*i})},d3=Object.freeze(Object.defineProperty({__proto__:null,absolute:r3,bottom:c3,ellipse:f3,ellipseSpread:u3,fn:i3,left:o3,line:s3,right:a3,top:l3},Symbol.toStringTag,{value:"Module"}));function gi(t,e){return Gd({},t,e,{x:0,y:0,angle:0,attrs:{}})}function _y(t){var e=t.center(),n=e.theta(t.origin()),r=e.theta(t.bottomLeft()),i=e.theta(t.corner()),s=e.theta(t.topRight());return[n,s,i,r]}function Ey(t,e,n,r){r=Un({},r,{offset:15});var i=e.center().theta(t),s,o,a,l,u=r.offset,h=0;const[f,v,C,b]=_y(e);i<v||i>C?(a=".3em",s=u,o=0,l="start"):i<f?(s=0,o=-u,n?(h=-90,l="start",a=".3em"):(l="middle",a="0")):i<b?(a=".3em",s=-u,o=0,l="end"):(s=0,o=u,n?(h=90,l="start",a=".3em"):(l="middle",a=".6em"));var w=Math.round;return gi(r,{x:w(s),y:w(o),angle:h,attrs:{labelText:{y:a,textAnchor:l}}})}function Dy(t,e,n,r){r=Un({},r,{offset:15});var i=e.center().theta(t),s,o,a,l,u=r.offset,h=0;const[f,v,C,b]=_y(e);i<v||i>C?(a=".3em",s=-u,o=0,l="end"):i<f?(s=0,o=u,n?(h=90,l="start",a=".3em"):(l="middle",a=".6em")):i<b?(a=".3em",s=u,o=0,l="start"):(s=0,o=-u,n?(h=-90,l="start",a=".3em"):(l="middle",a="0"));var w=Math.round;return gi(r,{x:w(s),y:w(o),angle:h,attrs:{labelText:{y:a,textAnchor:l}}})}function Oy(t,e,n){n=Un({},n,{offset:20});var r=Qa(0,0),i=-t.theta(r),s=i,o=t.clone().move(r,n.offset).difference(t).round(),a=".3em",l;(i+90)%180===0?(l=e?"end":"middle",!e&&i===-270&&(a="0em")):i>-270&&i<-90?(l="start",s=i-180):l="end";var u=Math.round;return gi(n,{x:u(o.x),y:u(o.y),angle:e?s:0,attrs:{labelText:{y:a,textAnchor:l}}})}const h3=function(t,e,n){return gi(n)},g3=function(t,e,n){return gi(n,{x:-15,attrs:{labelText:{y:".3em",textAnchor:"end"}}})},p3=function(t,e,n){return gi(n,{x:15,attrs:{labelText:{y:".3em",textAnchor:"start"}}})},m3=function(t,e,n){return gi(n,{y:-15,attrs:{labelText:{y:"0",textAnchor:"middle"}}})},v3=function(t,e,n){return gi(n,{y:15,attrs:{labelText:{y:".6em",textAnchor:"middle"}}})},I3=function(t,e,n){return Ey(t,e,!0,n)},y3=function(t,e,n){return Ey(t,e,!1,n)},A3=function(t,e,n){return Dy(t,e,!0,n)},C3=function(t,e,n){return Dy(t,e,!1,n)},b3=function(t,e,n){return Oy(t.difference(e.center()),!1,n)},w3=function(t,e,n){return Oy(t.difference(e.center()),!0,n)},x3=Object.freeze(Object.defineProperty({__proto__:null,bottom:v3,inside:C3,insideOriented:A3,left:g3,manual:h3,outside:y3,outsideOriented:I3,radial:b3,radialOriented:w3,right:p3,top:m3},Symbol.toStringTag,{value:"Module"})),tn=Sr.extend({markup:['<path class="connection" stroke="black" d="M 0 0 0 0"/>','<path class="marker-source" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="marker-target" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="connection-wrap" d="M 0 0 0 0"/>','<g class="labels"/>','<g class="marker-vertices"/>','<g class="marker-arrowheads"/>','<g class="link-tools"/>'].join(""),toolMarkup:['<g class="link-tool">','<g class="tool-remove" event="remove">','<circle r="11" />','<path transform="scale(.8) translate(-16, -16)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z" />',"<title>Remove link.</title>","</g>",'<g class="tool-options" event="link:options">','<circle r="11" transform="translate(25)"/>','<path fill="white" transform="scale(.55) translate(29, -16)" d="M31.229,17.736c0.064-0.571,0.104-1.148,0.104-1.736s-0.04-1.166-0.104-1.737l-4.377-1.557c-0.218-0.716-0.504-1.401-0.851-2.05l1.993-4.192c-0.725-0.91-1.549-1.734-2.458-2.459l-4.193,1.994c-0.647-0.347-1.334-0.632-2.049-0.849l-1.558-4.378C17.165,0.708,16.588,0.667,16,0.667s-1.166,0.041-1.737,0.105L12.707,5.15c-0.716,0.217-1.401,0.502-2.05,0.849L6.464,4.005C5.554,4.73,4.73,5.554,4.005,6.464l1.994,4.192c-0.347,0.648-0.632,1.334-0.849,2.05l-4.378,1.557C0.708,14.834,0.667,15.412,0.667,16s0.041,1.165,0.105,1.736l4.378,1.558c0.217,0.715,0.502,1.401,0.849,2.049l-1.994,4.193c0.725,0.909,1.549,1.733,2.459,2.458l4.192-1.993c0.648,0.347,1.334,0.633,2.05,0.851l1.557,4.377c0.571,0.064,1.148,0.104,1.737,0.104c0.588,0,1.165-0.04,1.736-0.104l1.558-4.377c0.715-0.218,1.399-0.504,2.049-0.851l4.193,1.993c0.909-0.725,1.733-1.549,2.458-2.458l-1.993-4.193c0.347-0.647,0.633-1.334,0.851-2.049L31.229,17.736zM16,20.871c-2.69,0-4.872-2.182-4.872-4.871c0-2.69,2.182-4.872,4.872-4.872c2.689,0,4.871,2.182,4.871,4.872C20.871,18.689,18.689,20.871,16,20.871z"/>',"<title>Link options.</title>","</g>","</g>"].join(""),doubleToolMarkup:void 0,vertexMarkup:['<g class="marker-vertex-group" transform="translate(<%= x %>, <%= y %>)">','<circle class="marker-vertex" idx="<%= idx %>" r="10" />','<path class="marker-vertex-remove-area" idx="<%= idx %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>','<path class="marker-vertex-remove" idx="<%= idx %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">',"<title>Remove vertex.</title>","</path>","</g>"].join(""),arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<path class="marker-arrowhead" end="<%= end %>" d="M 26 0 L 0 13 L 26 26 z" />',"</g>"].join(""),defaultLabel:void 0,labelMarkup:void 0,_builtins:{defaultLabel:{markup:[{tagName:"rect",selector:"rect"},{tagName:"text",selector:"text"}],attrs:{text:{fill:"#000000",fontSize:14,textAnchor:"middle",yAlignment:"middle",pointerEvents:"none"},rect:{ref:"text",fill:"#ffffff",rx:3,ry:3,refWidth:1,refHeight:1,refX:0,refY:0}},position:{distance:.5}}},defaults:{type:"link",source:{},target:{}},isLink:function(){return!0},disconnect:function(t){return this.set({source:{x:0,y:0},target:{x:0,y:0}},t)},source:function(t,e,n){if(t===void 0)return pr(this.get("source"));var r,i,s=t instanceof Sr;if(s)return r=pr(e)||{},r.id=t.id,i=n,this.set("source",r,i);var o=!je(t);return o?(r=pr(e)||{},r.x=t.x,r.y=t.y,i=n,this.set("source",r,i)):(r=t,i=e,this.set("source",r,i))},target:function(t,e,n){if(t===void 0)return pr(this.get("target"));var r,i,s=t instanceof Sr;if(s)return r=pr(e)||{},r.id=t.id,i=n,this.set("target",r,i);var o=!je(t);return o?(r=pr(e)||{},r.x=t.x,r.y=t.y,i=n,this.set("target",r,i)):(r=t,i=e,this.set("target",r,i))},router:function(t,e,n){if(t===void 0){var r=this.get("router");return r?typeof r=="object"?pr(r):r:this.get("manhattan")?{name:"orthogonal"}:null}var i=typeof t=="object"||typeof t=="function",s=i?t:{name:t,args:e},o=i?e:n;return this.set("router",s,o)},connector:function(t,e,n){if(t===void 0){var r=this.get("connector");return r?typeof r=="object"?pr(r):r:this.get("smooth")?{name:"smooth"}:null}var i=typeof t=="object"||typeof t=="function",s=i?t:{name:t,args:e},o=i?e:n;return this.set("connector",s,o)},label:function(t,e,n){var r=this.labels();return t=isFinite(t)&&t!==null?t|0:0,t<0&&(t=r.length+t),arguments.length<=1?this.prop(["labels",t]):this.prop(["labels",t],e,n)},labels:function(t,e){return arguments.length===0?(t=this.get("labels"),Array.isArray(t)?t.slice():[]):(Array.isArray(t)||(t=[]),this.set("labels",t,e))},hasLabels:function(){const{labels:t}=this.attributes;return Array.isArray(t)&&t.length>0},insertLabel:function(t,e,n){if(!e)throw new Error("dia.Link: no label provided");var r=this.labels(),i=r.length;return t=isFinite(t)&&t!==null?t|0:i,t<0&&(t=i+t+1),r.splice(t,0,e),this.labels(r,n)},appendLabel:function(t,e){return this.insertLabel(-1,t,e)},removeLabel:function(t,e){var n=this.labels();return t=isFinite(t)&&t!==null?t|0:-1,n.splice(t,1),this.labels(n,e)},vertex:function(t,e,n){var r=this.vertices();if(t=isFinite(t)&&t!==null?t|0:0,t<0&&(t=r.length+t),arguments.length<=1)return this.prop(["vertices",t]);var i=this._normalizeVertex(e);return this.prop(["vertices",t],i,n)},vertices:function(t,e){if(arguments.length===0)return t=this.get("vertices"),Array.isArray(t)?t.slice():[];Array.isArray(t)||(t=[]);for(var n=[],r=0;r<t.length;r++){var i=t[r],s=this._normalizeVertex(i);n.push(s)}return this.set("vertices",n,e)},insertVertex:function(t,e,n){if(!e)throw new Error("dia.Link: no vertex provided");var r=this.vertices(),i=r.length;t=isFinite(t)&&t!==null?t|0:i,t<0&&(t=i+t+1);var s=this._normalizeVertex(e);return r.splice(t,0,s),this.vertices(r,n)},removeVertex:function(t,e){var n=this.vertices();return t=isFinite(t)&&t!==null?t|0:-1,n.splice(t,1),this.vertices(n,e)},_normalizeVertex:function(t){var e=!je(t);return e?{x:t.x,y:t.y}:t},translate:function(t,e,n){return n=n||{},n.translateBy=n.translateBy||this.id,n.tx=t,n.ty=e,this.applyToPoints(function(r){return{x:(r.x||0)+t,y:(r.y||0)+e}},n)},scale:function(t,e,n,r){return this.applyToPoints(function(i){return Z(i).scale(t,e,n).toJSON()},r)},applyToPoints:function(t,e){if(!Ne(t))throw new TypeError("dia.Link: applyToPoints expects its first parameter to be a function.");var n={},{source:r,target:i}=this.attributes;r.id||(n.source=t(r)),i.id||(n.target=t(i));var s=this.vertices();return s.length>0&&(n.vertices=s.map(t)),this.set(n,e)},getSourcePoint:function(){var t=this.getSourceCell();return t?t.getPointFromConnectedLink(this,"source"):new Z(this.source())},getTargetPoint:function(){var t=this.getTargetCell();return t?t.getPointFromConnectedLink(this,"target"):new Z(this.target())},getPointFromConnectedLink:function(){return this.getPolyline().pointAt(.5)},getPolyline:function(){const t=[this.getSourcePoint(),...this.vertices().map(Z),this.getTargetPoint()];return new Me(t)},getBBox:function(){return this.getPolyline().bbox()},reparent:function(t){var e;if(this.graph){var n=this.getSourceElement(),r=this.getTargetElement(),i=this.getParentCell();n&&r&&(n===r||n.isEmbeddedIn(r)?e=r:r.isEmbeddedIn(n)?e=n:e=this.graph.getCommonAncestor(n,r)),i&&(!e||e.id!==i.id)&&i.unembed(this,t),e&&e.embed(this,t)}return e},hasLoop:function(t){t=t||{};var{source:e,target:n}=this.attributes,r=e.id,i=n.id;if(!r||!i)return!1;var s=r===i;if(!s&&t.deep&&this.graph){var o=this.getSourceCell(),a=this.getTargetCell();s=o.isEmbeddedIn(a)||a.isEmbeddedIn(o)}return s},getSourceCell:function(){const{graph:t,attributes:e}=this;var n=e.source;return n&&n.id&&t&&t.getCell(n.id)||null},getSourceElement:function(){var t=this,e={};do{if(e[t.id])return null;e[t.id]=!0,t=t.getSourceCell()}while(t&&t.isLink());return t},getTargetCell:function(){const{graph:t,attributes:e}=this;var n=e.target;return n&&n.id&&t&&t.getCell(n.id)||null},getTargetElement:function(){var t=this,e={};do{if(e[t.id])return null;e[t.id]=!0,t=t.getTargetCell()}while(t&&t.isLink());return t},getRelationshipAncestor:function(){var t;if(this.graph){var e=[this,this.getSourceElement(),this.getTargetElement()].filter(function(n){return!!n});t=this.graph.getCommonAncestor.apply(this.graph,e)}return t||null},isRelationshipEmbeddedIn:function(t){var e=ln(t)||wn(t)?t:t.id,n=this.getRelationshipAncestor();return!!n&&(n.id===e||n.isEmbeddedIn(e))},_getDefaultLabel:function(){var t=this.get("defaultLabel")||this.defaultLabel||{},e={};return e.markup=t.markup||this.get("labelMarkup")||this.labelMarkup,e.position=t.position,e.attrs=t.attrs,e.size=t.size,e}},{endsEqual:function(t,e){var n=t.port===e.port||!t.port&&!e.port;return t.id===e.id&&n}});var ky=function(t){var e=Fn(t)||{};this.ports=[],this.groups={},this.portLayoutNamespace=d3,this.portLabelLayoutNamespace=x3,this._init(e)};ky.prototype={getPorts:function(){return this.ports},getGroup:function(t){return this.groups[t]||{}},getPortsByGroup:function(t){return this.ports.filter(function(e){return e.group===t})},getGroupPortsMetrics:function(t,e){var n=this.getGroup(t),r=this.getPortsByGroup(t),i=n.position||{},s=i.name,o=this.portLayoutNamespace;o[s]||(s="left");var a=i.args||{},l=r.map(function(f){return f&&f.position&&f.position.args}),u=o[s](l,e,a),h={ports:r,result:[]};return ae(u).reduce((function(f,v,C){var b=f.ports[C];return f.result.push({portId:b.id,portTransformation:v,labelTransformation:this._getPortLabelLayout(b,Z(v),e),portAttrs:b.attrs,portSize:b.size,labelSize:b.label.size}),f}).bind(this),h),h.result},_getPortLabelLayout:function(t,e,n){var r=this.portLabelLayoutNamespace,i=t.label.position.name||"left";return r[i]?r[i](e,n,t.label.position.args):null},_init:function(t){if(fe(t.groups))for(var e=Object.keys(t.groups),n=0,r=e.length;n<r;n++){var i=e[n];this.groups[i]=this._evaluateGroup(t.groups[i])}for(var s=ae(t.items),o=0,a=s.length;o<a;o++)this.ports.push(this._evaluatePort(s[o]))},_evaluateGroup:function(t){return Fe(t,{position:this._getPosition(t.position,!0),label:this._getLabel(t,!0)})},_evaluatePort:function(t){var e=jt({},t),n=this.getGroup(t.group);return e.markup=e.markup||n.markup,e.attrs=Fe({},n.attrs,e.attrs),e.position=this._createPositionNode(n,e),e.label=Fe({},n.label,this._getLabel(e)),e.z=this._getZIndex(n,e),e.size=jt({},n.size,e.size),e},_getZIndex:function(t,e){return wn(e.z)?e.z:wn(t.z)||t.z==="auto"?t.z:"auto"},_createPositionNode:function(t,e){return Fe({name:"left",args:{}},t.position,{args:e.args})},_getPosition:function(t,e){var n={},r;Ne(t)?(r="fn",n.fn=t):ln(t)?r=t:t===void 0?r=e?"left":null:Array.isArray(t)?(r="absolute",n.x=t[0],n.y=t[1]):fe(t)&&(r=t.name,jt(n,t.args));var i={args:n};return r&&(i.name=r),i},_getLabel:function(t,e){var n=t.label||{},r=n;return r.position=this._getPosition(n.position,e),r}};const S3={_initializePorts:function(){this._createPortData(),this.on("change:ports",function(){this._processRemovedPort(),this._createPortData()},this)},_processRemovedPort:function(){var t=this.get("ports")||{},e={};ae(t.items).forEach(function(a){e[a.id]=!0});var n=this.previous("ports")||{},r={};ae(n.items).forEach(function(a){e[a.id]||(r[a.id]=!0)});var i=this.graph;if(i&&!kr(r)){var s=i.getConnectedLinks(this,{inbound:!0});s.forEach(function(a){r[a.get("target").port]&&a.remove()});var o=i.getConnectedLinks(this,{outbound:!0});o.forEach(function(a){r[a.get("source").port]&&a.remove()})}},hasPorts:function(){var t=this.prop("ports/items");return Array.isArray(t)&&t.length>0},hasPort:function(t){return this.getPortIndex(t)!==-1},getPorts:function(){return Fn(this.prop("ports/items"))||[]},getGroupPorts:function(t){const e=ae(this.prop(["ports","items"])).filter(n=>n.group===t);return Fn(e)},getPort:function(t){return Fn(ae(this.prop("ports/items")).find(function(e){return e.id&&e.id===t}))},getPortsPositions:function(t){var e=this._portSettingsData.getGroupPortsMetrics(t,Pt(this.size()));return e.reduce(function(n,r){var i=r.portTransformation;return n[r.portId]={x:i.x,y:i.y,angle:i.angle},n},{})},getPortIndex:function(t){var e=fe(t)?t.id:t;return this._isValidPortId(e)?ae(this.prop("ports/items")).findIndex(function(n){return n.id===e}):-1},addPort:function(t,e){if(!fe(t)||Array.isArray(t))throw new Error("Element: addPort requires an object.");var n=jt([],this.prop("ports/items"));return n.push(t),this.prop("ports/items",n,e),this},insertPort:function(t,e,n){const r=typeof t=="number"?t:this.getPortIndex(t);if(!fe(e)||Array.isArray(e))throw new Error("dia.Element: insertPort requires an object.");const i=jt([],this.prop("ports/items"));return i.splice(r,0,e),this.prop("ports/items",i,n),this},portProp:function(t,e,n,r){var i=this.getPortIndex(t);if(i===-1)throw new Error("Element: unable to find port with id "+t);var s=Array.prototype.slice.call(arguments,1);return Array.isArray(e)?s[0]=["ports","items",i].concat(e):ln(e)?s[0]=["ports/items/",i,"/",e].join(""):(s=["ports/items/"+i],je(e)&&(s.push(e),s.push(n))),this.prop.apply(this,s)},_validatePorts:function(){var t=this.get("ports")||{},e=[];t=t||{};var n=ae(t.items);return n.forEach(function(r){typeof r!="object"&&e.push("Element: invalid port ",r),this._isValidPortId(r.id)||(r.id=this.generatePortId())},this),ji(n,"id").length!==n.length&&e.push("Element: found id duplicities in ports."),e},generatePortId:function(){return this.generateId()},_isValidPortId:function(t){return t!=null&&!fe(t)},addPorts:function(t,e){return t.length&&this.prop("ports/items",jt([],this.prop("ports/items")).concat(t),e),this},removePort:function(t,e){const n=e||{},r=this.getPortIndex(t);if(r!==-1){const i=jt([],this.prop(["ports","items"]));i.splice(r,1),n.rewrite=!0,this.startBatch("port-remove"),this.prop(["ports","items"],i,n),this.stopBatch("port-remove")}return this},removePorts:function(t,e){let n,r;if(Array.isArray(t)){if(n=e||{},t.length===0)return this.this;r=jt([],this.prop(["ports","items"])).filter(function(s){return!t.some(function(o){const a=fe(o)?o.id:o;return s.id===a})})}else n=t||{},r=[];return this.startBatch("port-remove"),n.rewrite=!0,this.prop(["ports","items"],r,n),this.stopBatch("port-remove"),this},_createPortData:function(){var t=this._validatePorts();if(t.length>0)throw this.set("ports",this.previous("ports")),new Error(t.join(" "));var e;this._portSettingsData&&(e=this._portSettingsData.getPorts()),this._portSettingsData=new ky(this.get("ports"));var n=this._portSettingsData.getPorts();if(e){var r=n.filter(function(s){if(!e.find(function(o){return o.id===s.id}))return s}),i=e.filter(function(s){if(!n.find(function(o){return o.id===s.id}))return s});i.length>0&&this.trigger("ports:remove",this,i),r.length>0&&this.trigger("ports:add",this,r)}}},N3={portContainerMarkup:"g",portMarkup:[{tagName:"circle",selector:"circle",attributes:{r:10,fill:"#FFFFFF",stroke:"#000000"}}],portLabelMarkup:[{tagName:"text",selector:"text",attributes:{fill:"#000000"}}],_portElementsCache:null,_initializePorts:function(){this._cleanPortsCache()},_refreshPorts:function(){this._removePorts(),this._cleanPortsCache(),this._renderPorts()},_cleanPortsCache:function(){this._portElementsCache={}},_renderPorts:function(){for(var t=[],e=this._getContainerElement(),n=0,r=e.node.childNodes.length;n<r;n++)t.push(e.node.childNodes[n]);var i=LT(this.model._portSettingsData.getPorts(),"z"),s="auto";ae(i[s]).forEach(function(h){var f=this._getPortElement(h);e.append(f),t.push(f)},this);for(var o=Object.keys(i),a=0;a<o.length;a++){var l=o[a];if(l!==s){var u=parseInt(l,10);this._appendPorts(i[l],u,t)}}this._updatePorts()},_getContainerElement:function(){return this.rotatableNode||this.vel},_appendPorts:function(t,e,n){var r=this._getContainerElement(),i=ae(t).map(this._getPortElement,this);n[e]||e<0?lt(n[Math.max(e,0)]).before(i):r.append(i)},_getPortElement:function(t){return this._portElementsCache[t.id]?this._portElementsCache[t.id].portElement:this._createPortElement(t)},findPortNode:function(t,e){const n=this._portElementsCache[t];if(!n)return null;if(!e)return n.portContentElement.node;const r=n.portElement.node,i=n.portSelectors,[s=null]=this.findBySelector(e,r,i);return s},_updatePorts:function(){this._updatePortGroup(void 0);var t=Object.keys(this.model._portSettingsData.groups);t.forEach(this._updatePortGroup,this)},_removePorts:function(){Ar(this._portElementsCache,"portElement.remove")},_createPortElement:function(t){let e,n,r,i;var s=lt(this.portContainerMarkup).addClass("joint-port"),o=this._getPortMarkup(t);if(Array.isArray(o)){var a=this.parseDOMJSON(o,s.node),l=a.fragment;l.childNodes.length>1?e=lt("g").append(l):e=lt(l.firstChild),i=a.selectors}else e=lt(o),Array.isArray(e)&&(e=lt("g").append(e));if(!e)throw new Error("ElementView: Invalid port markup.");e.attr({port:t.id,"port-group":t.group});const u=this._getPortLabelMarkup(t.label);if(Array.isArray(u)){const{fragment:w,selectors:O}=this.parseDOMJSON(u,s.node),k=w.childNodes.length;k>0&&(r=O,n=k===1?lt(w.firstChild):lt("g").append(w))}else n=lt(u),Array.isArray(n)&&(n=lt("g").append(n));var h;if(i&&r){for(var f in r)if(i[f]&&f!==this.selector)throw new Error("ElementView: selectors within port must be unique.");h=jt({},i,r)}else h=i||r||{};const v="portRoot",C="labelRoot",b="labelText";if(v in h||(h[v]=e.node),n){const w=n.node;if(C in h||(h[C]=w),!(b in h)){const O=n.tagName()==="TEXT"?w:Array.from(w.querySelectorAll("text"));h[b]=O,r||(r={}),r[b]=O}}return s.append(e.addClass("joint-port-body")),n&&s.append(n.addClass("joint-port-label")),this._portElementsCache[t.id]={portElement:s,portLabelElement:n,portSelectors:h,portLabelSelectors:r,portContentElement:e,portContentSelectors:i},s},_updatePortGroup:function(t){for(var e=Pt(this.model.size()),n=this.model._portSettingsData.getGroupPortsMetrics(t,e),r=0,i=n.length;r<i;r++){var s=n[r],o=s.portId,a=this._portElementsCache[o]||{},l=s.portTransformation,u=s.labelTransformation;u&&a.portLabelElement&&(this.updateDOMSubtreeAttributes(a.portLabelElement.node,u.attrs,{rootBBox:new Pt(s.labelSize),selectors:a.portLabelSelectors}),this.applyPortTransform(a.portLabelElement,u,-l.angle||0)),this.updateDOMSubtreeAttributes(a.portElement.node,s.portAttrs,{rootBBox:new Pt(s.portSize),selectors:a.portSelectors}),this.applyPortTransform(a.portElement,l)}},applyPortTransform:function(t,e,n){var r=lt.createSVGMatrix().rotate(n||0).translate(e.x||0,e.y||0).rotate(e.angle||0);t.transform(r,{absolute:!0})},_getPortMarkup:function(t){return t.markup||this.model.get("portMarkup")||this.model.portMarkup||this.portMarkup},_getPortLabelMarkup:function(t){return t.markup||this.model.get("portLabelMarkup")||this.model.portLabelMarkup||this.portLabelMarkup}},ke=Sr.extend({defaults:{position:{x:0,y:0},size:{width:1,height:1},angle:0},initialize:function(){this._initializePorts(),Sr.prototype.initialize.apply(this,arguments)},_initializePorts:function(){},_refreshPorts:function(){},isElement:function(){return!0},position:function(t,e,n){const r=wn(e);n=(r?n:t)||{};const{parentRelative:i,deep:s,restrictedArea:o}=n;let a;if(i){if(!this.graph)throw new Error("Element must be part of a graph.");const l=this.getParentCell();l&&!l.isLink()&&(a=l.get("position"))}if(r){if(a&&(t+=a.x,e+=a.y),s||o){const{x:l,y:u}=this.get("position");this.translate(t-l,e-u,n)}else this.set("position",{x:t,y:e},n);return this}else{const l=Z(this.get("position"));return i?l.difference(a):l}},translate:function(t,e,n){if(t=t||0,e=e||0,t===0&&e===0)return this;n=n||{},n.translateBy=n.translateBy||this.id;var r=this.get("position")||{x:0,y:0},i=n.restrictedArea;if(i&&n.translateBy===this.id)if(typeof i=="function"){var s=i.call(this,r.x+t,r.y+e,n);t=s.x-r.x,e=s.y-r.y}else{var o=this.getBBox({deep:!0}),a=r.x-o.x,l=r.y-o.y,u=Math.max(i.x+a,Math.min(i.x+i.width+a-o.width,r.x+t)),h=Math.max(i.y+l,Math.min(i.y+i.height+l-o.height,r.y+e));t=u-r.x,e=h-r.y}var f={x:r.x+t,y:r.y+e};return n.tx=t,n.ty=e,n.transition?(fe(n.transition)||(n.transition={}),this.transition("position",f,jt({},n.transition,{valueFunction:wy.object})),Ar(this.getEmbeddedCells(),"translate",t,e,n)):(this.startBatch("translate",n),this.set("position",f,n),Ar(this.getEmbeddedCells(),"translate",t,e,n),this.stopBatch("translate",n)),this},size:function(t,e,n){var r=this.get("size");return t===void 0?{width:r.width,height:r.height}:(fe(t)&&(n=e,e=wn(t.height)?t.height:r.height,t=wn(t.width)?t.width:r.width),this.resize(t,e,n))},resize:function(t,e,n){if(n=n||{},this.startBatch("resize",n),n.direction){var r=this.get("size");switch(n.direction){case"left":case"right":e=r.height;break;case"top":case"bottom":t=r.width;break}var i=Mr(this.get("angle")||0),s=this.getBBox(),o;if(i){var a={"top-right":0,right:0,"top-left":1,top:1,"bottom-left":2,left:2,"bottom-right":3,bottom:3}[n.direction];n.absolute&&(a+=Math.floor((i+45)/90),a%=4);var l=s[["bottomLeft","corner","topRight","origin"][a]](),u=Z(l).rotate(s.center(),-i),h=Math.sqrt(t*t+e*e)/2,f=a*Math.PI/2;f+=Math.atan(a%2==0?e/t:t/e),f-=xn(i);var v=Z.fromPolar(h,f,u);o=Z(v).offset(t/-2,e/-2)}else switch(o=s.topLeft(),n.direction){case"top":case"top-right":o.offset(0,s.height-e);break;case"left":case"bottom-left":o.offset(s.width-t,0);break;case"top-left":o.offset(s.width-t,s.height-e);break}this.set("size",{width:t,height:e},n),this.position(o.x,o.y,n)}else this.set("size",{width:t,height:e},n);return this.stopBatch("resize",n),this},scale:function(t,e,n,r){var i=this.getBBox().scale(t,e,n);return this.startBatch("scale",r),this.position(i.x,i.y,r),this.resize(i.width,i.height,r),this.stopBatch("scale"),this},fitEmbeds:function(t){return this.fitToChildren(t)},fitToChildren:function(t={}){const{graph:e}=this;if(!e)throw new Error("Element must be part of a graph.");const n=this.getEmbeddedCells().filter(r=>r.isElement());return n.length===0?this:(this.startBatch("fit-embeds",t),t.deep&&Ar(n,"fitToChildren",t),this._fitToElements(Object.assign({elements:n},t)),this.stopBatch("fit-embeds"),this)},fitParent:function(t={}){const{graph:e}=this;if(!e)throw new Error("Element must be part of a graph.");if(t.deep&&t.terminator&&(t.terminator===this||t.terminator===this.id))return this;const n=this.getParentCell();if(!n||!n.isElement())return this;const r=n.getEmbeddedCells().filter(i=>i.isElement());return r.length===0?this:(this.startBatch("fit-parent",t),n._fitToElements(Object.assign({elements:r},t)),t.deep&&n.fitParent(t),this.stopBatch("fit-parent"),this)},_fitToElements:function(t={}){const e=this.graph.getCellsBBox(t.elements);if(!e)return;const{expandOnly:n,shrinkOnly:r}=t;if(n&&r)return;let{x:i,y:s,width:o,height:a}=e;const{left:l,right:u,top:h,bottom:f}=ai(t.padding);i-=l,s-=h,o+=l+u,a+=f+h;let v=new Pt(i,s,o,a);if(n)v=this.getBBox().union(v);else if(r){const C=this.getBBox().intersect(v);if(!C)return;v=C}this.set({position:{x:v.x,y:v.y},size:{width:v.width,height:v.height}},t)},rotate:function(t,e,n,r){if(n){var i=this.getBBox().center(),s=this.get("size"),o=this.get("position");i.rotate(n,this.get("angle")-t);var a=i.x-s.width/2-o.x,l=i.y-s.height/2-o.y;this.startBatch("rotate",{angle:t,absolute:e,origin:n}),this.position(o.x+a,o.y+l,r),this.rotate(t,e,null,r),this.stopBatch("rotate")}else this.set("angle",e?t:(this.get("angle")+t)%360,r);return this},angle:function(){return Mr(this.get("angle")||0)},getBBox:function(t={}){const{graph:e,attributes:n}=this,{deep:r,rotate:i}=t;if(r&&e){const f=this.getEmbeddedCells({deep:!0,breadthFirst:!0});return f.push(this),e.getCellsBBox(f,t)}const{angle:s=0,position:{x:o,y:a},size:{width:l,height:u}}=n,h=new Pt(o,a,l,u);return i&&h.rotateAroundCenter(s),h},getPointFromConnectedLink:function(t,e){var n=this.getBBox(),r=n.center(),i=t.get(e);if(!i)return r;var s=i.port;if(!s||!this.hasPort(s))return r;var o=this.portProp(s,["group"]),a=this.getPortsPositions(o),l=new Z(a[s]).offset(n.origin()),u=this.angle();return u&&l.rotate(r,-u),l}});jt(ke.prototype,S3);const M3=on.Collection.extend({initialize:function(t,e){e.cellNamespace?this.cellNamespace=e.cellNamespace:this.cellNamespace=typeof joint<"u"&&Lr(joint,"shapes")?joint.shapes:null,this.graph=e.graph},model:function(t,e){var n=e.collection,r=n.cellNamespace,i=t.type==="link"?tn:Po(r,t.type,".")||ke,s=new i(t,e);return e.dry||(s.graph=n.graph),s},comparator:function(t){return t.get("z")||0}}),ec=on.Model.extend({initialize:function(t,e){e=e||{};var n=new M3([],{model:e.cellModel,cellNamespace:e.cellNamespace,graph:this});on.Model.prototype.set.call(this,"cells",n),n.on("all",this.trigger,this),this.on("change:z",this._sortOnChangeZ,this),this._out={},this._in={},this._nodes={},this._edges={},this._batches={},n.on("add",this._restructureOnAdd,this),n.on("remove",this._restructureOnRemove,this),n.on("reset",this._restructureOnReset,this),n.on("change:source",this._restructureOnChangeSource,this),n.on("change:target",this._restructureOnChangeTarget,this),n.on("remove",this._removeCell,this)},_sortOnChangeZ:function(){this.get("cells").sort()},_restructureOnAdd:function(t){if(t.isLink()){this._edges[t.id]=!0;var{source:e,target:n}=t.attributes;e.id&&((this._out[e.id]||(this._out[e.id]={}))[t.id]=!0),n.id&&((this._in[n.id]||(this._in[n.id]={}))[t.id]=!0)}else this._nodes[t.id]=!0},_restructureOnRemove:function(t){if(t.isLink()){delete this._edges[t.id];var{source:e,target:n}=t.attributes;e.id&&this._out[e.id]&&this._out[e.id][t.id]&&delete this._out[e.id][t.id],n.id&&this._in[n.id]&&this._in[n.id][t.id]&&delete this._in[n.id][t.id]}else delete this._nodes[t.id]},_restructureOnReset:function(t){t=t.models,this._out={},this._in={},this._nodes={},this._edges={},t.forEach(this._restructureOnAdd,this)},_restructureOnChangeSource:function(t){var e=t.previous("source");e.id&&this._out[e.id]&&delete this._out[e.id][t.id];var n=t.attributes.source;n.id&&((this._out[n.id]||(this._out[n.id]={}))[t.id]=!0)},_restructureOnChangeTarget:function(t){var e=t.previous("target");e.id&&this._in[e.id]&&delete this._in[e.id][t.id];var n=t.get("target");n.id&&((this._in[n.id]||(this._in[n.id]={}))[t.id]=!0)},getOutboundEdges:function(t){return this._out&&this._out[t]||{}},getInboundEdges:function(t){return this._in&&this._in[t]||{}},toJSON:function(){var t=on.Model.prototype.toJSON.apply(this,arguments);return t.cells=this.get("cells").toJSON(),t},fromJSON:function(t,e){if(!t.cells)throw new Error("Graph JSON must contain cells array.");return this.set(t,e)},set:function(t,e,n){var r;return typeof t=="object"?(r=t,n=e):(r={})[t]=e,r.hasOwnProperty("cells")&&(this.resetCells(r.cells,n),r=Gi(r,"cells")),on.Model.prototype.set.call(this,r,n)},clear:function(t){t=jt({},t,{clear:!0});var e=this.get("cells");if(e.length===0)return this;this.startBatch("clear",t);var n=e.sortBy(function(r){return r.isLink()?1:2});do n.shift().remove(t);while(n.length>0);return this.stopBatch("clear"),this},_prepareCell:function(t,e){var n;if(t instanceof on.Model?(n=t.attributes,!t.graph&&(!e||!e.dry)&&(t.graph=this)):n=t,!ln(n.type))throw new TypeError("dia.Graph: cell type must be a string.");return t},minZIndex:function(){var t=this.get("cells").first();return t&&t.get("z")||0},maxZIndex:function(){var t=this.get("cells").last();return t&&t.get("z")||0},addCell:function(t,e){return Array.isArray(t)?this.addCells(t,e):(t instanceof on.Model?t.has("z")||t.set("z",this.maxZIndex()+1):t.z===void 0&&(t.z=this.maxZIndex()+1),this.get("cells").add(this._prepareCell(t,e),e||{}),this)},addCells:function(t,e){return t.length===0?this:(t=zT(t),e.maxPosition=e.position=t.length-1,this.startBatch("add",e),t.forEach(function(n){this.addCell(n,e),e.position--},this),this.stopBatch("add",e),this)},resetCells:function(t,e){var n=ae(t).map(function(r){return this._prepareCell(r,e)},this);return this.get("cells").reset(n,e),this},removeCells:function(t,e){return t.length&&(this.startBatch("remove"),Ar(t,"remove",e),this.stopBatch("remove")),this},_removeCell:function(t,e,n){n=n||{},n.clear||(n.disconnectLinks?this.disconnectLinks(t,n):this.removeLinks(t,n)),this.get("cells").remove(t,{silent:!0}),t.graph===this&&(t.graph=null)},getCell:function(t){return this.get("cells").get(t)},getCells:function(){return this.get("cells").toArray()},getElements:function(){return this.get("cells").filter(t=>t.isElement())},getLinks:function(){return this.get("cells").filter(t=>t.isLink())},getFirstCell:function(){return this.get("cells").first()},getLastCell:function(){return this.get("cells").last()},getConnectedLinks:function(t,e){e=e||{};var n=e.indirect,r=e.inbound,i=e.outbound;r===void 0&&i===void 0&&(r=i=!0);var s=[],o={};i&&a(this,t),r&&l(this,t);function a(f,v){if(Yn(f.getOutboundEdges(v.id),(function(b,w){if(!o[w]){var O=f.getCell(w);s.push(O),o[w]=!0,n&&(r&&l(f,O),i&&a(f,O))}}).bind(f)),n&&v.isLink()){var C=v.getTargetCell();C&&C.isLink()&&(o[C.id]||(s.push(C),a(f,C)))}}function l(f,v){if(Yn(f.getInboundEdges(v.id),(function(b,w){if(!o[w]){var O=f.getCell(w);s.push(O),o[w]=!0,n&&(r&&l(f,O),i&&a(f,O))}}).bind(f)),n&&v.isLink()){var C=v.getSourceCell();C&&C.isLink()&&(o[C.id]||(s.push(C),l(f,C)))}}if(e.deep){var u=t.getEmbeddedCells({deep:!0}),h={};u.forEach(function(f){f.isElement()&&(h[f.id]=!0)}),u.forEach(function(f){f.isLink()||(i&&Yn(this.getOutboundEdges(f.id),(function(v,C){if(!o[C]){var b=this.getCell(C),{source:w,target:O}=b.attributes,k=w.id,R=O.id;if(!e.includeEnclosed&&k&&h[k]&&R&&h[R])return;s.push(this.getCell(C)),o[C]=!0}}).bind(this)),r&&Yn(this.getInboundEdges(f.id),(function(v,C){if(!o[C]){var b=this.getCell(C),{source:w,target:O}=b.attributes,k=w.id,R=O.id;if(!e.includeEnclosed&&k&&h[k]&&R&&h[R])return;s.push(this.getCell(C)),o[C]=!0}}).bind(this)))},this)}return s},getNeighbors:function(t,e){e||(e={});var n=e.inbound,r=e.outbound;n===void 0&&r===void 0&&(n=r=!0);var i=this.getConnectedLinks(t,e).reduce((function(a,l){var{source:u,target:h}=l.attributes,f=l.hasLoop(e);if(n&&Lr(u,"id")&&!a[u.id]){var v=this.getCell(u.id);v.isElement()&&(f||v&&v!==t&&(!e.deep||!v.isEmbeddedIn(t)))&&(a[u.id]=v)}if(r&&Lr(h,"id")&&!a[h.id]){var C=this.getCell(h.id);C.isElement()&&(f||C&&C!==t&&(!e.deep||!C.isEmbeddedIn(t)))&&(a[h.id]=C)}return a}).bind(this),{});if(t.isLink()){if(n){var s=t.getSourceCell();s&&s.isElement()&&!i[s.id]&&(i[s.id]=s)}if(r){var o=t.getTargetCell();o&&o.isElement()&&!i[o.id]&&(i[o.id]=o)}}return ae(i)},getCommonAncestor:function(){var t=Array.from(arguments).map(function(n){for(var r=[],i=n.get("parent");i;)r.push(i),i=this.getCell(i).get("parent");return r},this);t=t.sort(function(n,r){return n.length-r.length});var e=ae(t.shift()).find(function(n){return t.every(function(r){return r.includes(n)})});return this.getCell(e)},getSuccessors:function(t,e){e=e||{};var n=[];return this.search(t,function(r){r!==t&&n.push(r)},jt({},e,{outbound:!0})),n},cloneCells:xy,cloneSubgraph:function(t,e){var n=this.getSubgraph(t,e);return this.cloneCells(n)},getSubgraph:function(t,e){e=e||{};var n=[],r={},i=[],s=[];return ae(t).forEach(function(o){if(r[o.id]||(n.push(o),r[o.id]=o,o.isLink()?s.push(o):i.push(o)),e.deep){var a=o.getEmbeddedCells({deep:!0});a.forEach(function(l){r[l.id]||(n.push(l),r[l.id]=l,l.isLink()?s.push(l):i.push(l))})}}),s.forEach(function(o){var{source:a,target:l}=o.attributes;if(a.id&&!r[a.id]){var u=this.getCell(a.id);n.push(u),r[u.id]=u,i.push(u)}if(l.id&&!r[l.id]){var h=this.getCell(l.id);n.push(this.getCell(l.id)),r[h.id]=h,i.push(h)}},this),i.forEach(function(o){var a=this.getConnectedLinks(o,e);a.forEach(function(l){var{source:u,target:h}=l.attributes;!r[l.id]&&u.id&&r[u.id]&&h.id&&r[h.id]&&(n.push(l),r[l.id]=l)})},this),n},getPredecessors:function(t,e){e=e||{};var n=[];return this.search(t,function(r){r!==t&&n.push(r)},jt({},e,{inbound:!0})),n},search:function(t,e,n){n=n||{},n.breadthFirst?this.bfs(t,e,n):this.dfs(t,e,n)},bfs:function(t,e,n={}){const r={},i={},s=[];for(s.push(t),i[t.id]=0;s.length>0;){var o=s.shift();if(r[o.id]||(r[o.id]=!0,e.call(this,o,i[o.id])===!1))continue;const a=this.getNeighbors(o,n);for(let l=0,u=a.length;l<u;l++){const h=a[l];i[h.id]=i[o.id]+1,s.push(h)}}},dfs:function(t,e,n={}){const r={},i={},s=[];for(s.push(t),i[t.id]=0;s.length>0;){const o=s.pop();if(r[o.id]||(r[o.id]=!0,e.call(this,o,i[o.id])===!1))continue;const a=this.getNeighbors(o,n),l=s.length;for(let u=0,h=a.length;u<h;u++){const f=a[u];i[f.id]=i[o.id]+1,s.splice(l,0,f)}}},getSources:function(){var t=[];return Yn(this._nodes,(function(e,n){(!this._in[n]||kr(this._in[n]))&&t.push(this.getCell(n))}).bind(this)),t},getSinks:function(){var t=[];return Yn(this._nodes,(function(e,n){(!this._out[n]||kr(this._out[n]))&&t.push(this.getCell(n))}).bind(this)),t},isSource:function(t){return!this._in[t.id]||kr(this._in[t.id])},isSink:function(t){return!this._out[t.id]||kr(this._out[t.id])},isSuccessor:function(t,e){var n=!1;return this.search(t,function(r){if(r===e&&r!==t)return n=!0,!1},{outbound:!0}),n},isPredecessor:function(t,e){var n=!1;return this.search(t,function(r){if(r===e&&r!==t)return n=!0,!1},{inbound:!0}),n},isNeighbor:function(t,e,n){n=n||{};var r=n.inbound,i=n.outbound;r===void 0&&i===void 0&&(r=i=!0);var s=!1;return this.getConnectedLinks(t,n).forEach(function(o){var{source:a,target:l}=o.attributes;if(r&&Lr(a,"id")&&a.id===e.id||i&&Lr(l,"id")&&l.id===e.id)return s=!0,!1}),s},disconnectLinks:function(t,e){this.getConnectedLinks(t).forEach(function(n){n.set(n.attributes.source.id===t.id?"source":"target",{x:0,y:0},e)})},removeLinks:function(t,e){Ar(this.getConnectedLinks(t),"remove",e)},findModelsFromPoint:function(t){return this.getElements().filter(e=>e.getBBox({rotate:!0}).containsPoint(t))},findModelsInArea:function(t,e={}){const n=new Pt(t),{strict:r=!1}=e,i=r?"containsRect":"intersect";return this.getElements().filter(s=>n[i](s.getBBox({rotate:!0})))},findModelsUnderElement:function(t,e={}){const{searchBy:n="bbox"}=e,r=t.getBBox().rotateAroundCenter(t.angle());return(n==="bbox"?this.findModelsInArea(r):this.findModelsFromPoint(My(r,n))).filter(s=>t.id!==s.id&&!s.isEmbeddedIn(t))},getBBox:function(){return this.getCellsBBox(this.getCells())},getCellsBBox:function(t,e={}){const{rotate:n=!0}=e;return ae(t).reduce(function(r,i){const s=i.getBBox({rotate:n});return s?r?r.union(s):s:r},null)},translate:function(t,e,n){var r=this.getCells().filter(function(i){return!i.isEmbedded()});return Ar(r,"translate",t,e,n),this},resize:function(t,e,n){return this.resizeCells(t,e,this.getCells(),n)},resizeCells:function(t,e,n,r){var i=this.getCellsBBox(n);if(i){var s=Math.max(t/i.width,0),o=Math.max(e/i.height,0);Ar(n,"scale",s,o,i.origin(),r)}return this},startBatch:function(t,e){return e=e||{},this._batches[t]=(this._batches[t]||0)+1,this.trigger("batch:start",jt({},e,{batchName:t}))},stopBatch:function(t,e){return e=e||{},this._batches[t]=(this._batches[t]||0)-1,this.trigger("batch:stop",jt({},e,{batchName:t}))},hasActiveBatch:function(t){const e=this._batches;let n;return arguments.length===0?n=Object.keys(e):Array.isArray(t)?n=t:n=[t],n.some(r=>e[r]>0)}},{validations:{multiLinks:function(t,e){var{source:n,target:r}=e.attributes;if(n.id&&r.id){var i=e.getSourceCell();if(i){var s=t.getConnectedLinks(i,{outbound:!0}),o=s.filter(function(a){var{source:l,target:u}=a.attributes;return l&&l.id===n.id&&(!l.port||l.port===n.port)&&u&&u.id===r.id&&(!u.port||u.port===r.port)});if(o.length>1)return!1}}return!0},linkPinning:function(t,e){var{source:n,target:r}=e.attributes;return n.id&&r.id}}});n3(ec.prototype,["resetCells","addCells","removeCells"],Yu.cells);const Mi={},Rr=on.View.extend({options:{},theme:null,themeClassNamePrefix:nr("theme-"),requireSetThemeOverride:!1,defaultTheme:xr.defaultTheme,children:null,childNodes:null,DETACHABLE:!0,UPDATE_PRIORITY:2,FLAG_INSERT:1<<30,FLAG_REMOVE:1<<29,FLAG_INIT:1<<28,constructor:function(t){this.requireSetThemeOverride=t&&!!t.theme,this.options=jt({},this.options,t),on.View.call(this,t)},initialize:function(){Mi[this.cid]=this,this.setTheme(this.options.theme||this.defaultTheme),this.init()},unmount:function(){this.svgElement?this.vel.remove():this.$el.remove()},isMounted:function(){return this.el.parentNode!==null},renderChildren:function(t){if(t||(t=Ge(this,"children")),t){var e=this.svgElement,n=lt.namespace[e?"svg":"xhtml"],r=sl(t,n);(e?this.vel:this.$el).empty().append(r.fragment),this.childNodes=r.selectors}return this},findAttribute:function(t,e){for(var n=e;n&&n.nodeType===1;){var r=n.getAttribute(t);if(r)return r;if(n===this.el)return null;n=n.parentNode}return null},_ensureElement:function(){if(this.el)this.setElement(Ge(this,"el"));else{var t=Ge(this,"tagName"),e=jt({},Ge(this,"attributes")),n=jt({},Ge(this,"style"));this.id&&(e.id=Ge(this,"id")),this.setElement(this._createElement(t)),this._setAttributes(e),this._setStyle(n)}this._ensureElClassName()},_setAttributes:function(t){this.svgElement?this.vel.attr(t):this.$el.attr(t)},_setStyle:function(t){this.$el.css(t)},_createElement:function(t){return this.svgElement?document.createElementNS(lt.namespace.svg,t):document.createElement(t)},_setElement:function(t){this.$el=t instanceof on.$?t:on.$(t),this.el=this.$el[0],this.svgElement&&(this.vel=lt(this.el))},_ensureElClassName:function(){var t=Ge(this,"className");if(t){var e=nr(t);this.svgElement?this.vel.removeClass(t).addClass(e):this.$el.removeClass(t).addClass(e)}},init:function(){},onRender:function(){},confirmUpdate:function(){return 0},setTheme:function(t,e){return e=e||{},this.theme&&this.requireSetThemeOverride&&!e.override?this:(this.removeThemeClassName(),this.addThemeClassName(t),this.onSetTheme(this.theme,t),this.theme=t,this)},addThemeClassName:function(t){if(t=t||this.theme,!t)return this;var e=this.themeClassNamePrefix+t;return this.svgElement?this.vel.addClass(e):this.$el.addClass(e),this},removeThemeClassName:function(t){t=t||this.theme;var e=this.themeClassNamePrefix+t;return this.svgElement?this.vel.removeClass(e):this.$el.removeClass(e),this},onSetTheme:function(t,e){},remove:function(){return this.onRemove(),this.undelegateDocumentEvents(),Mi[this.cid]=null,on.View.prototype.remove.apply(this,arguments),this},onRemove:function(){},getEventNamespace:function(){return".joint-event-ns-"+this.cid},delegateElementEvents:function(t,e,n){if(!e)return this;n||(n={});var r=this.getEventNamespace();for(var i in e){var s=e[i];typeof s!="function"&&(s=this[s]),s&&ce(t).on(i+r,n,s.bind(this))}return this},undelegateElementEvents:function(t){return ce(t).off(this.getEventNamespace()),this},delegateDocumentEvents:function(t,e){return t||(t=Ge(this,"documentEvents")),this.delegateElementEvents(document,t,e)},undelegateDocumentEvents:function(){return this.undelegateElementEvents(document)},eventData:function(t,e){if(!t)throw new Error("eventData(): event object required.");var n=t.data,r="__"+this.cid+"__";return e===void 0?n?n[r]||{}:{}:(n||(n=t.data={}),n[r]||(n[r]={}),jt(n[r],e),this)},stopPropagation:function(t){return this.eventData(t,{propagationStopped:!0}),this},isPropagationStopped:function(t){return!!this.eventData(t).propagationStopped}},{extend:function(){var t=Array.from(arguments),e=t[0]&&jt({},t[0])||{},n=t[1]&&jt({},t[1])||{},r=e.render||this.prototype&&this.prototype.render||null;return e.render=function(){return typeof r=="function"&&r.apply(this,arguments),this.render.__render__===r&&this.onRender(),this},e.render.__render__=r,on.View.extend.call(this,e,n)}}),Ap="dbltap";if(ce.event&&!(Ap in ce.event.special)){const t=xr.doubleTapInterval,e=30;ce.event.special[Ap]={bindType:"touchend",delegateType:"touchend",handle:function(n,...r){const{handleObj:i,target:s}=n,o=ce.data(s),a=new Date().getTime(),l="lastTouch"in o?a-o.lastTouch:0;l<t&&l>e?(o.lastTouch=null,n.type=i.origType,i.handler.call(this,n,...r)):o.lastTouch=a}}}const Vn={CELLS:"cells",BACK:"back",FRONT:"front",TOOLS:"tools",LABELS:"labels"},T3=Rr.extend({tagName:"g",svgElement:!0,pivotNodes:null,defaultTheme:null,options:{name:""},className:function(){return nr(`${this.options.name}-layer`)},init:function(){this.pivotNodes={}},insertSortedNode:function(t,e){this.el.insertBefore(t,this.insertPivot(e))},insertNode:function(t){const{el:e}=this;t.parentNode!==e&&e.appendChild(t)},insertPivot:function(t){const{el:e,pivotNodes:n}=this;t=+t,t||(t=0);let r=n[t];if(r)return r;r=n[t]=document.createComment("z-index:"+(t+1));let i=-1/0;for(let s in n)s=+s,s<t&&s>i&&(i=s,t-1);if(i!==-1/0){const s=n[i];e.insertBefore(r,s.nextSibling)}else e.insertBefore(r,e.firstChild);return r},removePivots:function(){const{el:t,pivotNodes:e}=this;for(let n in e)t.removeChild(e[n]);this.pivotNodes={}}});function Js(t){return t?Array.isArray(t)?t:[t]:[]}const rr=Rr.extend({tagName:"g",svgElement:!0,className:"highlight",HIGHLIGHT_FLAG:1,UPDATE_PRIORITY:3,DETACHABLE:!1,UPDATABLE:!0,MOUNTABLE:!0,cellView:null,nodeSelector:null,node:null,updateRequested:!1,postponedUpdate:!1,transformGroup:null,detachedTransformGroup:null,requestUpdate(t,e){const{paper:n}=t;this.cellView=t,this.nodeSelector=e,n&&(this.updateRequested=!0,n.requestViewUpdate(this,this.HIGHLIGHT_FLAG,this.UPDATE_PRIORITY))},confirmUpdate(){this.updateRequested=!1;const{cellView:t,nodeSelector:e}=this;return t.isMounted()?(this.update(t,e),this.mount(),this.transform(),0):(this.postponedUpdate=!0,0)},findNode(t,e=null){let n;if(typeof e=="string")[n]=t.findBySelector(e);else if(je(e)){const r=t.model.isLink(),{label:i=null,port:s,selector:o}=e;r&&i!==null?n=t.findLabelNode(i,o):!r&&s?n=t.findPortNode(s,o):[n]=t.findBySelector(o)}else e&&(n=lt.toNode(e),n instanceof SVGElement||(n=null));return n||null},getNodeMatrix(t,e){const{options:n}=this,{layer:r}=n,{rotatableNode:i}=t,s=t.getNodeMatrix(e);return i?r?i.contains(e)?s:t.getRootRotateMatrix().inverse().multiply(s):t.getNodeRotateMatrix(e).multiply(s):s},mount(){const{MOUNTABLE:t,cellView:e,el:n,options:r,transformGroup:i,detachedTransformGroup:s,postponedUpdate:o,nodeSelector:a}=this;if(!t||i)return;if(o){this.update(e,a),this.transform();return}const{vel:l,paper:u}=e,{layer:h}=r;if(h){let f;s?(f=s,this.detachedTransformGroup=null):f=lt("g").addClass("highlight-transform").append(n),this.transformGroup=f,u.getLayerView(h).insertSortedNode(f.node,r.z)}else(!n.parentNode||n.nextSibling)&&l.append(n)},unmount(){const{MOUNTABLE:t,transformGroup:e,vel:n}=this;t&&(e?(this.transformGroup=null,this.detachedTransformGroup=e,e.remove()):n.remove())},transform(){const{transformGroup:t,cellView:e,updateRequested:n}=this;if(!t||e.model.isLink()||n)return;const r=e.getRootTranslateMatrix(),i=e.getRootRotateMatrix(),s=r.multiply(i);t.attr("transform",lt.matrixToTransformString(s))},update(){const{node:t,cellView:e,nodeSelector:n,updateRequested:r,id:i}=this;if(r)return;this.postponedUpdate=!1;const s=this.node=this.findNode(e,n);t&&this.unhighlight(e,t),s?(this.highlight(e,s),this.mount()):(this.unmount(),e.notify("cell:highlight:invalid",i,this))},onRemove(){const{node:t,cellView:e,id:n,constructor:r}=this;t&&this.unhighlight(e,t),this.unmount(),r._removeRef(e,n)},highlight(t,e){},unhighlight(t,e){},listenToUpdateAttributes(t){const e=Ge(this,"UPDATE_ATTRIBUTES");!Array.isArray(e)||e.length===0||this.listenTo(t.model,"change",this.onCellAttributeChange)},onCellAttributeChange(){const{cellView:t}=this;if(!t)return;const{model:e,paper:n}=t;Ge(this,"UPDATE_ATTRIBUTES").some(i=>e.hasChanged(i))&&n.requestViewUpdate(this,this.HIGHLIGHT_FLAG,this.UPDATE_PRIORITY)}},{_views:{},highlight:function(t,e,n){const r=this.uniqueId(e,n);this.add(t,e,r,n)},unhighlight:function(t,e,n){const r=this.uniqueId(e,n);this.remove(t,r)},get(t,e=null){const{cid:n}=t,{_views:r}=this,i=r[n];if(e===null){const s=[];if(!i)return s;for(let o in i){const a=i[o];a instanceof this&&s.push(a)}return s}else{if(!i)return null;if(e in i){const s=i[e];if(s instanceof this)return s}return null}},add(t,e,n,r={}){if(!n)throw new Error("dia.HighlighterView: An ID required.");const i=rr.get(t,n);i&&i.remove();const s=new this(r);return s.id=n,this._addRef(t,n,s),s.requestUpdate(t,e),s.listenToUpdateAttributes(t),s},_addRef(t,e,n){const{cid:r}=t,{_views:i}=this;let s=i[r];s||(s=i[r]={}),s[e]=n},_removeRef(t,e){const{cid:n}=t,{_views:r}=this,i=r[n];if(i){e&&delete i[e];for(let s in i)return;delete r[n]}},remove(t,e=null){Js(this.get(t,e)).forEach(n=>{n.remove()})},removeAll(t,e=null){const{_views:n}=this;for(let r in n)for(let i in n[r]){const s=n[r][i];s.cellView.paper===t&&s instanceof this&&(e===null||i===e)&&s.remove()}},update(t,e=null,n=!1){Js(this.get(t,e)).forEach(r=>{(n||r.UPDATABLE)&&r.update()})},transform(t,e=null){Js(this.get(t,e)).forEach(n=>{n.UPDATABLE&&n.transform()})},unmount(t,e=null){Js(this.get(t,e)).forEach(n=>n.unmount())},mount(t,e=null){Js(this.get(t,e)).forEach(n=>n.mount())},uniqueId(t,e=""){return lt.ensureId(t)+JSON.stringify(e)}}),ts={DEFAULT:"default",EMBEDDING:"embedding",CONNECTING:"connecting",MAGNET_AVAILABILITY:"magnetAvailability",ELEMENT_AVAILABILITY:"elementAvailability"},P3={TOOLS:"TOOLS"},ie=Rr.extend({tagName:"g",svgElement:!0,selector:"root",metrics:null,className:function(){var t=["cell"],e=this.model.get("type");return e&&e.toLowerCase().split(".").forEach(function(n,r,i){t.push("type-"+i.slice(0,r+1).join("-"))}),t.join(" ")},_presentationAttributes:null,_flags:null,setFlags:function(){var t={},e={},n=0,r,i,s,o=Ge(this,"presentationAttributes");for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];for(Array.isArray(l)||(l=[l]),r=0,i=l.length;r<i;r++){s=l[r];var u=t[s];u||(u=t[s]=1<<n++),e[a]|=u}}var h=Ge(this,"initFlag");for(Array.isArray(h)||(h=[h]),r=0,i=h.length;r<i;r++)s=h[r],t[s]||(t[s]=1<<n++);if(n>25)throw new Error("dia.CellView: Maximum number of flags exceeded.");this._flags=t,this._presentationAttributes=e},hasFlag:function(t,e){return t&this.getFlag(e)},removeFlag:function(t,e){return t^t&this.getFlag(e)},getFlag:function(t){var e=this._flags;if(!e)return 0;var n=0;if(Array.isArray(t))for(var r=0,i=t.length;r<i;r++)n|=e[t[r]];else n|=e[t];return n},attributes:function(){var t=this.model;return{"model-id":t.id,"data-type":t.attributes.type}},constructor:function(t){t.id=t.id||cs(this),Rr.call(this,t)},initialize:function(){this.setFlags(),Rr.prototype.initialize.apply(this,arguments),this.cleanNodesCache(),this.$el.data("view",this),this.startListening()},startListening:function(){this.listenTo(this.model,"change",this.onAttributesChange)},onAttributesChange:function(t,e){var n=t.getChangeFlag(this._presentationAttributes);e.updateHandled||!n||(e.dirty&&this.hasFlag(n,"UPDATE")&&(n|=this.getFlag("RENDER")),e.tool&&(e.async=!1),this.requestUpdate(n,e))},requestUpdate:function(t,e){const{paper:n}=this;n&&t>0&&n.requestViewUpdate(this,t,this.UPDATE_PRIORITY,e)},parseDOMJSON:function(t,e){var n=sl(t),r=n.selectors,i=n.groupSelectors;for(var s in i){if(r[s])throw new Error("dia.CellView: ambiguous group selector");r[s]=i[s]}if(e){var o=this.selector;if(r[o])throw new Error("dia.CellView: ambiguous root selector.");r[o]=e}return{fragment:n.fragment,selectors:r}},can:function(t){var e=Ne(this.options.interactive)?this.options.interactive(this):this.options.interactive;return fe(e)&&e[t]!==!1||_T(e)&&e!==!1},findBySelector:function(t,e,n){if(e||(e=this.el),n||(n=this.selectors),!t||t===".")return[e];if(n){var r=n[t];if(r)return Array.isArray(r)?r:[r]}return ce(e).find(t).toArray()},notify:function(t){if(this.paper){var e=Array.prototype.slice.call(arguments,1);this.trigger.apply(this,[t].concat(e)),this.paper.trigger.apply(this.paper,[t,this].concat(e))}},getBBox:function(t){var e;if(t&&t.useModelGeometry){var n=this.model;e=n.getBBox().bbox(n.angle())}else e=this.getNodeBBox(this.el);return this.paper.localToPaperRect(e)},getNodeBBox:function(t){const e=this.getNodeBoundingRect(t),n=this.getRootTranslateMatrix().multiply(this.getNodeRotateMatrix(t)),r=this.getNodeMatrix(t);return lt.transformRect(e,n.multiply(r))},getNodeRotateMatrix(t){return!this.rotatableNode||this.rotatableNode.contains(t)?this.getRootRotateMatrix():lt.createSVGMatrix()},getNodeUnrotatedBBox:function(t){var e=this.getNodeBoundingRect(t),n=this.getNodeMatrix(t),r=this.getRootTranslateMatrix();return lt.transformRect(e,r.multiply(n))},getRootTranslateMatrix:function(){var t=this.model,e=t.position(),n=lt.createSVGMatrix().translate(e.x,e.y);return n},getRootRotateMatrix:function(){var t=lt.createSVGMatrix(),e=this.model,n=e.angle();if(n){var r=e.getBBox(),i=r.width/2,s=r.height/2;t=t.translate(i,s).rotate(n).translate(-i,-s)}return t},_notifyHighlight:function(t,e,n={}){const{el:r}=this;let i;if(typeof e=="string"?[i=r]=this.findBySelector(e):[i=r]=this.$(e),n.partial=i!==r,n.type===void 0){let s;switch(!0){case n.embedding:s=ts.EMBEDDING;break;case n.connecting:s=ts.CONNECTING;break;case n.magnetAvailability:s=ts.MAGNET_AVAILABILITY;break;case n.elementAvailability:s=ts.ELEMENT_AVAILABILITY;break;default:s=ts.DEFAULT;break}n.type=s}return this.notify(t,i,n),this},highlight:function(t,e){return this._notifyHighlight("cell:highlight",t,e)},unhighlight:function(t,e={}){return this._notifyHighlight("cell:unhighlight",t,e)},findMagnet:function(t){const e=this.el;let n=this.$(t)[0];n||(n=e);do{const r=n.getAttribute("magnet"),i=n===e;if((r||i)&&r!=="false")return n;if(i)return;n=n.parentNode}while(n)},findProxyNode:function(t,e){t||(t=this.el);const n=t.getAttribute(`${e}-selector`);if(n){const[r]=this.findBySelector(n);if(r)return r}return t},getSelector:function(t,e){var n;if(t===this.el)return typeof e=="string"&&(n="> "+e),n;if(t){var r=lt(t).index()+1;n=t.tagName+":nth-child("+r+")",e&&(n+=" > "+e),n=this.getSelector(t.parentNode,n)}return n},addLinkFromMagnet:function(t,e,n){var r=this.paper,i=r.model,s=r.getDefaultLink(this,t);return s.set({source:this.getLinkEnd(t,e,n,s,"source"),target:{x:e,y:n}}).addTo(i,{async:!1,ui:!0}),s.findView(r)},getLinkEnd:function(t,...e){var n=this.model,r=n.id,i=this.findAttribute("port",t),s=t.getAttribute("joint-selector"),o={id:r};return s!=null&&(o.magnet=s),i!=null?(o.port=i,!n.hasPort(i)&&!s&&(o.selector=this.getSelector(t))):s==null&&this.el!==t&&(o.selector=this.getSelector(t)),this.customizeLinkEnd(o,t,...e)},customizeLinkEnd:function(t,e,n,r,i,s){const{paper:o}=this,{connectionStrategy:a}=o.options;if(typeof a=="function"){var l=a.call(o,t,this,e,new Z(n,r),i,s,o);if(l)return l}return t},getMagnetFromLinkEnd:function(t){var e=this.el,n=t.port,r=t.magnet,i=this.model,s;return n!=null&&i.isElement()&&i.hasPort(n)?s=this.findPortNode(n,r)||e:(r||(r=t.selector),!r&&n!=null&&(r='[port="'+n+'"]'),s=this.findBySelector(r,e,this.selectors)[0]),this.findProxyNode(s,"magnet")},dragLinkStart:function(t,e,n,r){this.model.startBatch("add-link");const i=this.addLinkFromMagnet(e,n,r);i.notifyPointerdown(t,n,r),i.eventData(t,i.startArrowheadMove("target",{whenNotAllowed:"remove"})),this.eventData(t,{linkView:i})},dragLink:function(t,e,n){var r=this.eventData(t),i=r.linkView;if(i)i.pointermove(t,e,n);else{var s=this.paper,o=s.options.magnetThreshold,a=this.getEventTarget(t),l=r.targetMagnet;if(o==="onleave"){if(l===a||lt(l).contains(a))return}else if(s.eventData(t).mousemoved<=o)return;this.dragLinkStart(t,l,e,n)}},dragLinkEnd:function(t,e,n){var r=this.eventData(t),i=r.linkView;i&&(i.pointerup(t,e,n),this.model.stopBatch("add-link"))},getAttributeDefinition:function(t){return this.model.constructor.getAttributeDefinition(t)},setNodeAttributes:function(t,e){kr(e)||(t instanceof SVGElement?lt(t).attr(e):ce(t).attr(e))},processNodeAttributes:function(t,e){var n,r,i,s,o,a,l,u,h,f=[];for(n in e)e.hasOwnProperty(n)&&(r=e[n],i=this.getAttributeDefinition(n),i&&(!Ne(i.qualify)||i.qualify.call(this,r,t,e,this))?(ln(i.set)&&(a||(a={}),a[i.set]=r),r!==null&&f.push(n,i)):(a||(a={}),a[UT(n)]=r));for(s=0,o=f.length;s<o;s+=2)n=f[s],i=f[s+1],r=e[n],Ne(i.set)&&(l||(l={}),l[n]=r),Ne(i.position)&&(u||(u={}),u[n]=r),Ne(i.offset)&&(h||(h={}),h[n]=r);return{raw:e,normal:a,set:l,position:u,offset:h}},updateRelativeAttributes:function(t,e,n,r){r||(r={});var i,s,o,a=e.raw||{},l=e.normal||{},u=e.set,h=e.position,f=e.offset;for(i in u){s=u[i],o=this.getAttributeDefinition(i);var v=o.set.call(this,s,n.clone(),t,a,this);fe(v)?jt(l,v):v!==void 0&&(l[i]=v)}if(t instanceof HTMLElement){this.setNodeAttributes(t,l);return}var C=l.transform,b=lt.transformStringToMatrix(C),w=Z(b.e,b.f);C&&(l=Gi(l,"transform"),b.e=b.f=0);var O,k,R;if(h||f){var U=this.getNodeScale(t,r.scalableNode);O=U.sx,k=U.sy}var F=!1;for(i in h)s=h[i],o=this.getAttributeDefinition(i),R=o.position.call(this,s,n.clone(),t,a,this),R&&(w.offset(Z(R).scale(O,k)),F||(F=!0));this.setNodeAttributes(t,l);var y=!1;if(f){var d=this.getNodeBoundingRect(t);if(d.width>0&&d.height>0){var S=lt.transformRect(d,b).scale(1/O,1/k);for(i in f)s=f[i],o=this.getAttributeDefinition(i),R=o.offset.call(this,s,S,t,a,this),R&&(w.offset(Z(R).scale(O,k)),y||(y=!0))}}(C!==void 0||F||y)&&(w.round(1),b.e=w.x,b.f=w.y,t.setAttribute("transform",lt.matrixToTransformString(b)))},getNodeScale:function(t,e){var n,r;if(e&&e.contains(t)){var i=e.scale();n=1/i.sx,r=1/i.sy}else n=1,r=1;return{sx:n,sy:r}},cleanNodesCache:function(){this.metrics={}},nodeCache:function(t){var e=this.metrics;if(!e)return{};var n=lt.ensureId(t),r=e[n];return r||(r=e[n]={}),r},getNodeData:function(t){var e=this.nodeCache(t);return e.data||(e.data={}),e.data},getNodeBoundingRect:function(t){var e=this.nodeCache(t);return e.boundingRect===void 0&&(e.boundingRect=lt(t).getBBox()),new Pt(e.boundingRect)},getNodeMatrix:function(t){const e=this.nodeCache(t);if(e.magnetMatrix===void 0){const{rotatableNode:n,el:r}=this;let i;n&&n.contains(t)?i=n:i=r,e.magnetMatrix=lt(t).getTransformToElement(i)}return lt.createSVGMatrix(e.magnetMatrix)},getNodeShape:function(t){var e=this.nodeCache(t);return e.geometryShape===void 0&&(e.geometryShape=lt(t).toGeometryShape()),e.geometryShape.clone()},isNodeConnection:function(t){return this.model.isLink()&&(!t||t===this.el)},findNodesAttributes:function(t,e,n,r){var i,s,o,a,l={},u=[];for(var h in t)if(t.hasOwnProperty(h)&&(o=t[h],!!je(o))){var f=n[h]=this.findBySelector(h,e,r);for(i=0,s=f.length;i<s;i++){var v=f[i];a=lt.ensureId(v);var C=r&&r[h]===v,b=l[a];if(b){b.array||(u.push(a),b.array=!0,b.attributes=[b.attributes],b.selectedLength=[b.selectedLength]);var w=b.attributes,O=b.selectedLength;if(C)w.unshift(o),O.unshift(-1);else{var k=yy(O,s);w.splice(k,0,o),O.splice(k,0,s)}}else l[a]={attributes:o,selectedLength:C?-1:s,node:v,array:!1}}}for(i=0,s=u.length;i<s;i++)a=u[i],o=l[a],o.attributes=Fe({},...o.attributes.reverse());return l},getEventTarget:function(t,e={}){const{target:n,type:r,clientX:i=0,clientY:s=0}=t;return e.fromPoint||r==="touchmove"||r==="touchend"||"pointerId"in t&&n.hasPointerCapture(t.pointerId)?document.elementFromPoint(i,s):n},updateDOMSubtreeAttributes:function(t,e,n){n||(n={}),n.rootBBox||(n.rootBBox=Pt()),n.selectors||(n.selectors=this.selectors);var r={},i={},s=[],o=[],a,l,u,h,f,v=n.roAttributes,C=this.findNodesAttributes(v||e,t,r,n.selectors),b=v?this.findNodesAttributes(e,t,r,n.selectors):C;for(var w in C)if(h=C[w],u=h.attributes,l=h.node,f=this.processNodeAttributes(l,u),!f.set&&!f.position&&!f.offset)this.setNodeAttributes(l,f.normal);else{var O=b[w]&&b[w].attributes,k=O&&u.ref===void 0?O.ref:u.ref,R;if(k){if(R=(r[k]||this.findBySelector(k,t,n.selectors))[0],!R)throw new Error('dia.CellView: "'+k+'" reference does not exist.')}else R=null;if(a={node:l,refNode:R,processedAttributes:f,allAttributes:O},R){var U=o.findIndex(function(F){return F.refNode===l});U>-1?o.splice(U,0,a):o.push(a)}else s.push(a)}s.push(...o);for(let F=0,y=s.length;F<y;F++){a=s[F],l=a.node,R=a.refNode;const d=R?lt.ensureId(R):"";let S=i[d];S||(S=i[d]=R?lt(R).getBBox({target:_3(l,R)}):n.rootBBox),v?(f=this.processNodeAttributes(l,a.allAttributes),this.mergeProcessedAttributes(f,a.processedAttributes)):f=a.processedAttributes,this.updateRelativeAttributes(l,f,S,n)}},mergeProcessedAttributes:function(t,e){t.set||(t.set={}),t.position||(t.position={}),t.offset||(t.offset={}),jt(t.set,e.set),jt(t.position,e.position),jt(t.offset,e.offset);var n=t.normal&&t.normal.transform;n!==void 0&&e.normal&&(e.normal.transform=n),t.normal=e.normal},onMount(t){t||(this.mountTools(),rr.mount(this))},onDetach(){this.unmountTools(),rr.unmount(this)},onRemove:function(){this.removeTools(),this.removeHighlighters()},_toolsView:null,hasTools:function(t){var e=this._toolsView;return e?t?e.getName()===t:!0:!1},addTools:function(t){return this.removeTools(),t&&(this._toolsView=t,t.configure({relatedView:this}),t.listenTo(this.paper,"tools:event",this.onToolEvent.bind(this))),this},unmountTools(){const t=this._toolsView;return t&&t.unmount(),this},mountTools(){const t=this._toolsView;return t&&!t.isMounted()&&t.mount(),this},updateTools:function(t){var e=this._toolsView;return e&&e.update(t),this},removeTools:function(){var t=this._toolsView;return t&&(t.remove(),this._toolsView=null),this},hideTools:function(){var t=this._toolsView;return t&&t.hide(),this},showTools:function(){var t=this._toolsView;return t&&t.show(),this},onToolEvent:function(t){switch(t){case"remove":this.removeTools();break;case"hide":this.hideTools();break;case"show":this.showTools();break}},removeHighlighters:function(){rr.remove(this)},updateHighlighters:function(t=!1){rr.update(this,null,t)},transformHighlighters:function(){rr.transform(this)},preventDefaultInteraction(t){this.eventData(t,{defaultInteractionPrevented:!0})},isDefaultInteractionPrevented(t){const{defaultInteractionPrevented:e=!1}=this.eventData(t);return e},pointerdblclick:function(t,e,n){this.notify("cell:pointerdblclick",t,e,n)},pointerclick:function(t,e,n){this.notify("cell:pointerclick",t,e,n)},contextmenu:function(t,e,n){this.notify("cell:contextmenu",t,e,n)},pointerdown:function(t,e,n){const{model:r}=this,{graph:i}=r;i&&(r.startBatch("pointer"),this.eventData(t,{graph:i})),this.notify("cell:pointerdown",t,e,n)},pointermove:function(t,e,n){this.notify("cell:pointermove",t,e,n)},pointerup:function(t,e,n){const{graph:r}=this.eventData(t);this.notify("cell:pointerup",t,e,n),r&&r.stopBatch("pointer",{cell:this.model})},mouseover:function(t){this.notify("cell:mouseover",t)},mouseout:function(t){this.notify("cell:mouseout",t)},mouseenter:function(t){this.notify("cell:mouseenter",t)},mouseleave:function(t){this.notify("cell:mouseleave",t)},mousewheel:function(t,e,n,r){this.notify("cell:mousewheel",t,e,n,r)},onevent:function(t,e,n,r){this.notify(e,t,n,r)},onmagnet:function(){},magnetpointerdblclick:function(){},magnetcontextmenu:function(){},checkMouseleave(t){const{paper:e,model:n}=this;if(e.isAsync()){if(n.isLink()){const s=n.getSourceElement();if(s){const a=e.findViewByModel(s);a&&(e.dumpView(a),e.checkViewVisibility(a))}const o=n.getTargetElement();if(o){const a=e.findViewByModel(o);a&&(e.dumpView(a),e.checkViewVisibility(a))}}e.dumpView(this),e.checkViewVisibility(this)}const r=this.getEventTarget(t,{fromPoint:!0}),i=e.findView(r);i!==this&&(this.mouseleave(t),i&&i.mouseenter(t))},setInteractivity:function(t){this.options.interactive=t}},{Flags:P3,Highlighting:ts,addPresentationAttributes:function(t){return Fe({},Ge(this.prototype,"presentationAttributes"),t,function(e,n){if(!(!e||!n)&&(typeof e=="string"&&(e=[e]),typeof n=="string"&&(n=[n]),Array.isArray(e)&&Array.isArray(n)))return ji(e.concat(n))})}});function _3(t,e){let n=t;do{if(n.contains(e))return n;n=n.parentNode}while(n);return null}const le={TOOLS:ie.Flags.TOOLS,UPDATE:"UPDATE",TRANSLATE:"TRANSLATE",RESIZE:"RESIZE",PORTS:"PORTS",ROTATE:"ROTATE",RENDER:"RENDER"},es={MOVE:"move",MAGNET:"magnet"},Ye=ie.extend({_removePorts:function(){},_renderPorts:function(){},className:function(){var t=ie.prototype.className.apply(this).split(" ");return t.push("element"),t.join(" ")},initialize:function(){ie.prototype.initialize.apply(this,arguments),this._initializePorts()},presentationAttributes:{attrs:[le.UPDATE],position:[le.TRANSLATE,le.TOOLS],size:[le.RESIZE,le.PORTS,le.TOOLS],angle:[le.ROTATE,le.TOOLS],markup:[le.RENDER],ports:[le.PORTS]},initFlag:[le.RENDER],UPDATE_PRIORITY:0,confirmUpdate:function(t,e){const{useCSSSelectors:n}=xr;this.hasFlag(t,le.PORTS)&&(this._removePorts(),this._cleanPortsCache());let r=!1;if(this.hasFlag(t,le.RENDER))this.render(),this.updateTools(e),this.updateHighlighters(!0),r=!0,t=this.removeFlag(t,[le.RENDER,le.UPDATE,le.RESIZE,le.TRANSLATE,le.ROTATE,le.PORTS,le.TOOLS]);else{let i=!1;this.hasFlag(t,le.RESIZE)&&(this.resize(e),i=!0,t=this.removeFlag(t,[le.RESIZE,le.UPDATE]),n&&(t=this.removeFlag(t,le.PORTS))),this.hasFlag(t,le.UPDATE)&&(this.update(this.model,null,e),t=this.removeFlag(t,le.UPDATE),i=!0,n&&(t=this.removeFlag(t,le.PORTS))),this.hasFlag(t,le.TRANSLATE)&&(this.translate(),t=this.removeFlag(t,le.TRANSLATE),r=!0),this.hasFlag(t,le.ROTATE)&&(this.rotate(),t=this.removeFlag(t,le.ROTATE),r=!0),this.hasFlag(t,le.PORTS)&&(this._renderPorts(),i=!0,t=this.removeFlag(t,le.PORTS)),i&&this.updateHighlighters(!1)}return r&&this.transformHighlighters(),this.hasFlag(t,le.TOOLS)&&(this.updateTools(e),t=this.removeFlag(t,le.TOOLS)),t},_initializePorts:function(){},update:function(t,e){this.cleanNodesCache();const{useCSSSelectors:n}=xr;n&&this._removePorts();var r=this.model,i=r.attr();this.updateDOMSubtreeAttributes(this.el,i,{rootBBox:new Pt(r.size()),selectors:this.selectors,scalableNode:this.scalableNode,rotatableNode:this.rotatableNode,roAttributes:e===i?null:e}),n&&this._renderPorts()},rotatableSelector:"rotatable",scalableSelector:"scalable",scalableNode:null,rotatableNode:null,renderMarkup:function(){var t=this.model,e=t.get("markup")||t.markup;if(!e)throw new Error("dia.ElementView: markup required");if(Array.isArray(e))return this.renderJSONMarkup(e);if(typeof e=="string")return this.renderStringMarkup(e);throw new Error("dia.ElementView: invalid markup")},renderJSONMarkup:function(t){var e=this.parseDOMJSON(t,this.el),n=this.selectors=e.selectors;this.rotatableNode=lt(n[this.rotatableSelector])||null,this.scalableNode=lt(n[this.scalableSelector])||null,this.vel.append(e.fragment)},renderStringMarkup:function(t){var e=this.vel;e.append(lt(t)),this.rotatableNode=e.findOne(".rotatable"),this.scalableNode=e.findOne(".scalable");var n=this.selectors={};n[this.selector]=this.el},render:function(){return this.vel.empty(),this.renderMarkup(),this.scalableNode&&this.update(),this.resize(),this.rotatableNode?(this.rotate(),this.translate()):this.updateTransformation(),this},resize:function(t){if(this.scalableNode)return this.sgResize(t);this.model.attributes.angle&&this.rotate(),this.update()},translate:function(){if(this.rotatableNode)return this.rgTranslate();this.updateTransformation()},rotate:function(){if(this.rotatableNode){this.rgRotate(),this.update();return}this.updateTransformation()},updateTransformation:function(){var t=this.getTranslateString(),e=this.getRotateString();e&&(t+=" "+e),this.vel.attr("transform",t)},getTranslateString:function(){var t=this.model.attributes.position;return"translate("+t.x+","+t.y+")"},getRotateString:function(){var t=this.model.attributes,e=t.angle;if(!e)return null;var n=t.size;return"rotate("+e+","+n.width/2+","+n.height/2+")"},rgRotate:function(){this.rotatableNode.attr("transform",this.getRotateString())},rgTranslate:function(){this.vel.attr("transform",this.getTranslateString())},sgResize:function(t){var e=this.model,n=e.angle(),r=e.size(),i=this.scalableNode,s=!1;i.node.getElementsByTagName("path").length>0&&(s=!0);var o=i.getBBox({recursive:s}),a=r.width/(o.width||1),l=r.height/(o.height||1);i.attr("transform","scale("+a+","+l+")");var u=this.rotatableNode,h=u&&u.attr("transform");if(h){u.attr("transform",h+" rotate("+-n+","+r.width/2+","+r.height/2+")");var f=i.getBBox({target:this.paper.cells});e.set("position",{x:f.x,y:f.y},jt({updateHandled:!0},t)),this.translate(),this.rotate()}this.update()},prepareEmbedding:function(t={}){const e=t.model||this.model,r=(t.paper||this.paper).model,i=t.initialZIndices={},s=e.getEmbeddedCells({deep:!0}),o=r.getConnectedLinks(e,{deep:!0,includeEnclosed:!0});[e,...s,...o].forEach(u=>i[u.id]=u.attributes.z),e.startBatch("to-front"),e.toFront({deep:!0,ui:!0});const a=r.getElements().reduce((u,h)=>Math.max(u,h.attributes.z||0),0);o.forEach(u=>{u.attributes.z<=a&&u.set("z",a+1,{ui:!0})}),e.stopBatch("to-front");const l=e.parent();l?(r.getCell(l).unembed(e,{ui:!0}),t.initialParentId=l):t.initialParentId=null},processEmbedding:function(t={},e,n,r){const i=t.model||this.model,s=t.paper||this.paper,o=s.model,{findParentBy:a,frontParentOnly:l,validateEmbedding:u}=s.options;let h;Ne(a)?h=ae(a.call(o,this,e,n,r)):a==="pointer"?h=ae(o.findModelsFromPoint({x:n,y:r})):h=o.findModelsUnderElement(i,{searchBy:a}),h=h.filter(C=>C instanceof Sr&&i.id!==C.id&&!C.isEmbeddedIn(i)),l&&(h=h.slice(-1));let f=null;const v=t.candidateEmbedView;for(let C=h.length-1;C>=0;C--){const b=h[C];if(v&&v.model.id==b.id){f=v;break}else{const w=b.findView(s);if(!Ne(u)||u.call(s,this,w)){f=w;break}}}f&&f!=v&&(this.clearEmbedding(t),t.candidateEmbedView=f.highlight(f.findProxyNode(null,"container"),{embedding:!0})),!f&&v&&this.clearEmbedding(t)},clearEmbedding:function(t){t||(t={});var e=t.candidateEmbedView;e&&(e.unhighlight(e.findProxyNode(null,"container"),{embedding:!0}),t.candidateEmbedView=null)},finalizeEmbedding:function(t={}){const e=t.candidateEmbedView,n=t.model||this.model,r=t.paper||this.paper;if(e)e.model.embed(n,{ui:!0}),e.unhighlight(e.findProxyNode(null,"container"),{embedding:!0}),t.candidateEmbedView=null;else{const{validateUnembedding:i}=r.options,{initialParentId:s}=t;if(s&&typeof i=="function"&&!i.call(r,this)){this._disallowUnembed(t);return}}r.model.getConnectedLinks(n,{deep:!0}).forEach(i=>{i.reparent({ui:!0})})},_disallowUnembed:function(t){const{model:e,whenNotAllowed:n="revert"}=t,r=e||this.model,s=(t.paper||this.paper).model;switch(n){case"remove":{r.remove({ui:!0});break}case"revert":{const{initialParentId:o,initialPosition:a,initialZIndices:l}=t;if(a){const{x:h,y:f}=a;r.position(h,f,{deep:!0,ui:!0})}l&&Object.keys(l).forEach(h=>{const f=s.getCell(h);f&&f.set("z",l[h],{ui:!0})});const u=s.getCell(o);u&&u.embed(r,{ui:!0});break}}},getDelegatedView:function(){for(var t=this,e=t.model,n=t.paper;t&&!e.isLink();){if(!e.isEmbedded()||t.can("stopDelegation"))return t;e=e.getParentCell(),t=n.findViewByModel(e)}return null},findProxyNode:function(t,e){t||(t=this.el);const n=t.getAttribute(`${e}-selector`);if(n){const r=this.findAttribute("port",t);if(r){const i=this.findPortNode(r,n);if(i)return i}else{const[i]=this.findBySelector(n);if(i)return i}}return t},notifyPointerdown(t,e,n){ie.prototype.pointerdown.call(this,t,e,n),this.notify("element:pointerdown",t,e,n)},notifyPointermove(t,e,n){ie.prototype.pointermove.call(this,t,e,n),this.notify("element:pointermove",t,e,n)},notifyPointerup(t,e,n){this.notify("element:pointerup",t,e,n),ie.prototype.pointerup.call(this,t,e,n)},pointerdblclick:function(t,e,n){ie.prototype.pointerdblclick.apply(this,arguments),this.notify("element:pointerdblclick",t,e,n)},pointerclick:function(t,e,n){ie.prototype.pointerclick.apply(this,arguments),this.notify("element:pointerclick",t,e,n)},contextmenu:function(t,e,n){ie.prototype.contextmenu.apply(this,arguments),this.notify("element:contextmenu",t,e,n)},pointerdown:function(t,e,n){this.notifyPointerdown(t,e,n),this.dragStart(t,e,n)},pointermove:function(t,e,n){const r=this.eventData(t),{targetMagnet:i,action:s,delegatedView:o}=r;switch(i&&this.magnetpointermove(t,i,e,n),s){case es.MAGNET:this.dragMagnet(t,e,n);break;case es.MOVE:(o||this).drag(t,e,n);default:if(r.preventPointerEvents)break;this.notifyPointermove(t,e,n);break}this.eventData(t,r)},pointerup:function(t,e,n){const r=this.eventData(t),{targetMagnet:i,action:s,delegatedView:o}=r;switch(i&&this.magnetpointerup(t,i,e,n),s){case es.MAGNET:this.dragMagnetEnd(t,e,n);break;case es.MOVE:(o||this).dragEnd(t,e,n);default:if(r.preventPointerEvents)break;this.notifyPointerup(t,e,n)}i&&this.magnetpointerclick(t,i,e,n),this.checkMouseleave(t)},mouseover:function(t){ie.prototype.mouseover.apply(this,arguments),this.notify("element:mouseover",t)},mouseout:function(t){ie.prototype.mouseout.apply(this,arguments),this.notify("element:mouseout",t)},mouseenter:function(t){ie.prototype.mouseenter.apply(this,arguments),this.notify("element:mouseenter",t)},mouseleave:function(t){ie.prototype.mouseleave.apply(this,arguments),this.notify("element:mouseleave",t)},mousewheel:function(t,e,n,r){ie.prototype.mousewheel.apply(this,arguments),this.notify("element:mousewheel",t,e,n,r)},onmagnet:function(t,e,n){const{currentTarget:r}=t;this.magnetpointerdown(t,r,e,n),this.eventData(t,{targetMagnet:r}),this.dragMagnetStart(t,e,n)},magnetpointerdown:function(t,e,n,r){this.notify("element:magnet:pointerdown",t,e,n,r)},magnetpointermove:function(t,e,n,r){this.notify("element:magnet:pointermove",t,e,n,r)},magnetpointerup:function(t,e,n,r){this.notify("element:magnet:pointerup",t,e,n,r)},magnetpointerdblclick:function(t,e,n,r){this.notify("element:magnet:pointerdblclick",t,e,n,r)},magnetcontextmenu:function(t,e,n,r){this.notify("element:magnet:contextmenu",t,e,n,r)},dragStart:function(t,e,n){if(this.isDefaultInteractionPrevented(t))return;var r=this.getDelegatedView();if(!r||!r.can("elementMove"))return;this.eventData(t,{action:es.MOVE,delegatedView:r});const i=r.model.position();r.eventData(t,{initialPosition:i,pointerOffset:i.difference(e,n),restrictedArea:this.paper.getRestrictedArea(r,e,n)})},dragMagnetStart:function(t,e,n){const{paper:r}=this,i=t.isPropagationStopped();if(i&&this.eventData(t,{preventPointerEvents:!0}),this.isDefaultInteractionPrevented(t)||!this.can("addLinkFromMagnet"))return;const{targetMagnet:s=t.currentTarget}=this.eventData(t);if(t.stopPropagation(),!r.options.validateMagnet.call(r,this,s,t)){i?this.dragStart(t,e,n):this.pointerdown(t,e,n);return}r.options.magnetThreshold<=0&&this.dragLinkStart(t,s,e,n),this.eventData(t,{action:es.MAGNET})},drag:function(t,e,n){var r=this.paper,i=r.options.gridSize,s=this.model,o=this.eventData(t),{pointerOffset:a,restrictedArea:l,embedding:u}=o,h=Ri(e+a.x,i),f=Ri(n+a.y,i);s.position(h,f,{restrictedArea:l,deep:!0,ui:!0}),r.options.embeddingMode&&(u||(this.prepareEmbedding(o),u=!0),this.processEmbedding(o,t,e,n)),this.eventData(t,{embedding:u})},dragMagnet:function(t,e,n){this.dragLink(t,e,n)},dragEnd:function(t,e,n){var r=this.eventData(t);r.embedding&&this.finalizeEmbedding(r)},dragMagnetEnd:function(t,e,n){this.dragLinkEnd(t,e,n)},magnetpointerclick:function(t,e,n,r){var i=this.paper;i.eventData(t).mousemoved>i.options.clickThreshold||this.notify("element:magnet:pointerclick",t,e,n,r)}},{Flags:le});jt(Ye.prototype,N3);const E3=function(t,e,n){return t},D3=function(t,e,n){var r=e.side||"bottom",i=ai(e.padding||40),s=n.sourceBBox,o=n.targetBBox,a=s.center(),l=o.center(),u,h,f;switch(r){case"bottom":f=1,u="y",h="height";break;case"top":f=-1,u="y",h="height";break;case"left":f=-1,u="x",h="width";break;case"right":f=1,u="x",h="width";break;default:throw new Error("Router: invalid side")}return a[u]+=f*(s[h]/2+i[r]),l[u]+=f*(o[h]/2+i[r]),f*(a[u]-l[u])>0?l[u]=a[u]:a[u]=l[u],[a].concat(t,l)};var O3={N:"S",S:"N",E:"W",W:"E"},k3={N:-Math.PI/2*3,S:-Math.PI/2,E:0,W:Math.PI};function ol(t,e,n){var r=new Z(t.x,e.y);return n.containsPoint(r)&&(r=new Z(e.x,t.y)),r}function Xu(t,e){return t[e==="W"||e==="E"?"width":"height"]}function vn(t,e){return t.x===e.x?t.y>e.y?"N":"S":t.y===e.y?t.x>e.x?"W":"E":null}function xa(t){return new Pt(t.x,t.y,0,0)}function al(t){var e=ai(t.padding||t.elementPadding||20);return{x:-e.left,y:-e.top,width:e.left+e.right,height:e.top+e.bottom}}function Ly(t,e){return t.sourceBBox.clone().moveAndExpand(al(e))}function zy(t,e){return t.targetBBox.clone().moveAndExpand(al(e))}function L3(t,e){if(t.sourceAnchor)return t.sourceAnchor;var n=Ly(t,e);return n.center()}function z3(t,e){if(t.targetAnchor)return t.targetAnchor;var n=zy(t,e);return n.center()}function Ry(t,e,n){var r=new Z(t.x,e.y),i=new Z(e.x,t.y),s=vn(t,r),o=vn(t,i),a=O3[n],l=s===n||s!==a&&(o===a||o!==n)?r:i;return{points:[l],direction:vn(l,e)}}function ja(t,e,n){var r=ol(t,e,n);return{points:[r],direction:vn(r,e)}}function R3(t,e,n,r){var i={},s=[new Z(t.x,e.y),new Z(e.x,t.y)],o=s.filter(function(f){return!n.containsPoint(f)}),a=o.filter(function(f){return vn(f,t)!==r}),l;if(a.length>0)l=a.filter(function(f){return vn(t,f)===r}).pop(),l=l||a[0],i.points=[l],i.direction=vn(l,e);else{l=Ay(s,o)[0];var u=new Z(e).move(l,-Xu(n,r)/2),h=ol(u,t,n);i.points=[h,u],i.direction=vn(u,e)}return i}function B3(t,e,n,r){var i=ja(e,t,r),s=i.points[0];if(n.containsPoint(s)){i=ja(t,e,n);var o=i.points[0];if(r.containsPoint(o)){var a=new Z(t).move(o,-Xu(n,vn(t,o))/2),l=new Z(e).move(s,-Xu(r,vn(e,s))/2),u=new Ot(a,l).midpoint(),h=ja(t,u,n),f=Ry(u,e,h.direction);i.points=[h.points[0],f.points[0]],i.direction=f.direction}}return i}function Qc(t,e,n,r,i){var s={},o=n.union(r).inflate(1),a=o.center().distance(e)>o.center().distance(t),l=a?e:t,u=a?t:e,h,f,v;return i?(h=Z.fromPolar(o.width+o.height,k3[i],l),h=o.pointNearestToPoint(h).move(h,-1)):h=o.pointNearestToPoint(l).move(l,1),f=ol(h,u,o),h.round().equals(f.round())?(f=Z.fromPolar(o.width+o.height,xn(h.theta(l))+Math.PI/2,u),f=o.pointNearestToPoint(f).move(u,1).round(),v=ol(h,f,o),s.points=a?[f,v,h]:[h,v,f]):s.points=a?[f,h]:[h,f],s.direction=vn(a?h:f,e),s}function Hu(t,e,n){var r=Ly(n,e),i=zy(n,e),s=L3(n,e),o=z3(n,e);r=r.union(xa(s)),i=i.union(xa(o)),t=ae(t).map(Z),t.unshift(s),t.push(o);for(var a,l=[],u=0,h=t.length-1;u<h;u++){var f=null,v=t[u],C=t[u+1],b=!!vn(v,C);if(u===0)u+1===h?r.intersect(i.clone().inflate(1))?f=Qc(v,C,r,i):b||(f=B3(v,C,r,i)):r.containsPoint(C)?f=Qc(v,C,r,xa(C).moveAndExpand(al(e))):b||(f=ja(v,C,r));else if(u+1===h){var w=b&&vn(C,v)===a;i.containsPoint(v)||w?f=Qc(v,C,xa(v).moveAndExpand(al(e)),i,a):b||(f=R3(v,C,i,a))}else b||(f=Ry(v,C,a));f?(Array.prototype.push.apply(l,f.points),a=f.direction):a=vn(v,C),u+1<h&&l.push(C)}return l}var By={step:10,maximumLoops:2e3,precision:1,maxAllowedDirectionChange:90,perpendicular:!0,excludeEnds:[],excludeTypes:["basic.Text"],startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{top:{x:0,y:-1},right:{x:1,y:0},bottom:{x:0,y:1},left:{x:-1,y:0}},cost:function(){return this.step},directions:function(){var t=this.step,e=this.cost();return[{offsetX:t,offsetY:0,cost:e},{offsetX:-t,offsetY:0,cost:e},{offsetX:0,offsetY:t,cost:e},{offsetX:0,offsetY:-t,cost:e}]},penalties:function(){return{0:0,45:this.step/2,90:this.step/2}},paddingBox:function(){var t=this.step;return{x:-t,y:-t,width:2*t,height:2*t}},isPointObstacle:null,fallbackRouter:function(t,e,n){if(!Ne(Hu))throw new Error("Manhattan requires the orthogonal router as default fallback.");return Hu(t,jt({},By,e),n)},fallbackRoute:function(t,e,n){return null},draggingRoute:null};function Wd(t){this.map={},this.options=t,this.mapGridSize=100}Wd.prototype.build=function(t,e){var n=this.options,r=ae(n.excludeEnds).reduce(function(l,u){var h=e.get(u);if(h){var f=t.getCell(h.id);f&&l.push(f)}return l},[]),i=[],s=t.getCell(e.get("source").id);s&&(i=Zu(i,s.getAncestors().map(function(l){return l.id})));var o=t.getCell(e.get("target").id);o&&(i=Zu(i,o.getAncestors().map(function(l){return l.id})));var a=this.mapGridSize;return t.getElements().reduce(function(l,u){var h=ae(n.excludeTypes).includes(u.get("type")),f=r.find(function(F){return F.id===u.id}),v=i.includes(u.id),C=h||f||v;if(!C)for(var b=u.getBBox().moveAndExpand(n.paddingBox),w=b.origin().snapToGrid(a),O=b.corner().snapToGrid(a),k=w.x;k<=O.x;k+=a)for(var R=w.y;R<=O.y;R+=a){var U=k+"@"+R;l[U]=l[U]||[],l[U].push(b)}return l},this.map),this};Wd.prototype.isPointAccessible=function(t){var e=t.clone().snapToGrid(this.mapGridSize).toString();return ae(this.map[e]).every(function(n){return!n.containsPoint(t)})};function Vi(){this.items=[],this.hash={},this.values={},this.OPEN=1,this.CLOSE=2}Vi.prototype.add=function(t,e){this.hash[t]?this.items.splice(this.items.indexOf(t),1):this.hash[t]=this.OPEN,this.values[t]=e;var n=yy(this.items,t,(function(r){return this.values[r]}).bind(this));this.items.splice(n,0,t)};Vi.prototype.remove=function(t){this.hash[t]=this.CLOSE};Vi.prototype.isOpen=function(t){return this.hash[t]===this.OPEN};Vi.prototype.isClose=function(t){return this.hash[t]===this.CLOSE};Vi.prototype.isEmpty=function(){return this.items.length===0};Vi.prototype.pop=function(){var t=this.items.shift();return this.remove(t),t};function jy(t,e){return e&&e.paddingBox?t.sourceBBox.clone().moveAndExpand(e.paddingBox):t.sourceBBox.clone()}function Gy(t,e){return e&&e.paddingBox?t.targetBBox.clone().moveAndExpand(e.paddingBox):t.targetBBox.clone()}function Zy(t,e){if(t.sourceAnchor)return t.sourceAnchor;var n=jy(t,e);return n.center()}function j3(t,e){if(t.targetAnchor)return t.targetAnchor;var n=Gy(t,e);return n.center()}function qc(t,e,n,r,i){var s=360/n,o=t.theta(G3(t,e,r,i)),a=Mr(o+s/2);return s*Math.floor(a/s)}function G3(t,e,n,r){var i=r.step,s=e.x-t.x,o=e.y-t.y,a=s/n.x,l=o/n.y,u=a*i,h=l*i;return new Z(t.x+u,t.y+h)}function Cp(t,e){var n=Math.abs(t-e);return n>180?360-n:n}function Z3(t,e,n){var r=n.step;ae(n.directions).forEach(function(i){i.gridOffsetX=i.offsetX/r*e.x,i.gridOffsetY=i.offsetY/r*e.y})}function W3(t,e,n){return{source:e.clone(),x:bp(n.x-e.x,t),y:bp(n.y-e.y,t)}}function bp(t,e){if(!t)return e;var n=Math.abs(t),r=Math.round(n/e);if(!r)return n;var i=r*e,s=n-i,o=s/r;return e+o}function U3(t,e){var n=e.source,r=Ri(t.x-n.x,e.x)+n.x,i=Ri(t.y-n.y,e.y)+n.y;return new Z(r,i)}function qs(t,e){return t.round(e)}function Ga(t,e,n){return qs(U3(t.clone(),e),n)}function oo(t){return t.clone().toString()}function tu(t){return new Z(t.x===0?0:Math.abs(t.x)/t.x,t.y===0?0:Math.abs(t.y)/t.y)}function F3(t,e,n,r,i,s,o){for(var a=[],l=tu(i.difference(n)),u=oo(n),h=t[u],f;h;){f=e[u];var v=tu(f.difference(h));v.equals(l)||(a.unshift(f),l=v),u=oo(h),h=t[u]}var C=e[u],b=tu(C.difference(r));return b.equals(l)||a.unshift(C),a}function wp(t,e){for(var n=1/0,r=0,i=e.length;r<i;r++){var s=t.manhattanDistance(e[r]);s<n&&(n=s)}return n}function xp(t,e,n,r,i){var s=i.precision,o=i.directionMap,a=t.difference(e.center()),l=fe(o)?Object.keys(o):[],u=ae(n),h=l.reduce(function(f,v){if(u.includes(v)){for(var C=o[v],b=new Z(t.x+C.x*(Math.abs(a.x)+e.width),t.y+C.y*(Math.abs(a.y)+e.height)),w=new Ot(t,b),O=w.intersect(e)||[],k=O.length,R,U=null,F=0;F<k;F++){var y=O[F],d=t.squaredDistance(y);(R===void 0||d>R)&&(R=d,U=y)}if(U){var S=Ga(U,r,s);e.containsPoint(S)&&(S=Ga(S.offset(C.x*r.x,C.y*r.y),r,s)),f.push(S)}}return f},[]);return e.containsPoint(t)||h.push(Ga(t,r,s)),h}function Y3(t,e,n,r){var i=r.precision,s,o;t instanceof Pt?s=qs(Zy(this,r).clone(),i):s=qs(t.clone(),i),e instanceof Pt?o=qs(j3(this,r).clone(),i):o=qs(e.clone(),i);var a=W3(r.step,s,o),l,u,h,f;if(t instanceof Pt?(l=s,h=xp(l,t,r.startDirections,a,r)):(l=s,h=[l]),e instanceof Pt?(u=o,f=xp(o,e,r.endDirections,a,r)):(u=o,f=[u]),h=h.filter(Et=>!n(Et)),f=f.filter(Et=>!n(Et)),h.length>0&&f.length>0){for(var v=new Vi,C={},b={},w={},O=0,k=h.length;O<k;O++){var R=h[O],U=oo(R);v.add(U,wp(R,f)),C[U]=R,w[U]=0}var F=r.previousDirectionAngle,y=F===void 0,d,S,E=r.directions;Z3(E,a,r);for(var z=E.length,W=ae(f).reduce(function(Et,T){var _=oo(T);return Et.push(_),Et},[]),$=r.maximumLoops;!v.isEmpty()&&$>0;){var Q=v.pop(),ut=C[Q],dt=b[Q],Ct=w[Q],vt=dt===void 0,mt=ut.equals(l),St;vt?y?mt?St=null:St=qc(l,ut,z,a,r):St=F:St=qc(dt,ut,z,a,r);var Mt=h.length===f.length;if(Mt){for(var Zt=0;Zt<h.length;Zt++)if(!h[Zt].equals(f[Zt])){Mt=!1;break}}var kt=vt&&Mt;if(!kt&&W.indexOf(Q)>=0)return r.previousDirectionAngle=St,F3(b,C,ut,l,u);for(O=0;O<z;O++){d=E[O];var q=d.angle;if(S=Cp(St,q),!(!(y&&mt)&&S>r.maxAllowedDirectionChange)){var et=Ga(ut.clone().offset(d.gridOffsetX,d.gridOffsetY),a,i),nt=oo(et);if(!(v.isClose(nt)||n(et))){if(W.indexOf(nt)>=0){var ot=et.equals(u);if(!ot){var Gt=qc(et,u,z,a,r),K=Cp(q,Gt);if(K>r.maxAllowedDirectionChange)continue}}var It=d.cost,ct=mt?0:r.penalties[S],xt=Ct+It+ct;(!v.isOpen(nt)||xt<w[nt])&&(C[nt]=et,b[nt]=ut,w[nt]=xt,v.add(nt,xt+wp(et,f)))}}}$--}}return r.fallbackRoute.call(this,l,u,r)}function V3(t){if(t.directions=Ge(t,"directions"),t.penalties=Ge(t,"penalties"),t.paddingBox=Ge(t,"paddingBox"),t.padding=Ge(t,"padding"),t.padding){var e=ai(t.padding);t.paddingBox={x:-e.left,y:-e.top,width:e.left+e.right,height:e.top+e.bottom}}ae(t.directions).forEach(function(n){var r=new Z(0,0),i=new Z(n.offsetX,n.offsetY);n.angle=Mr(r.theta(i))})}function X3(t,e,n){V3(e),n.options.perpendicular=!!e.perpendicular;var r=jy(n,e),i=Gy(n,e),s=Zy(n,e);let o;if(typeof e.isPointObstacle=="function")o=e.isPointObstacle;else{const U=new Wd(e);U.build(n.paper.model,n.model),o=F=>!U.isPointAccessible(F)}for(var a=ae(t).map(Z),l=[],u=s,h,f,v=0,C=a.length;v<=C;v++){var b=null;if(f=h||r,h=a[v],!h){h=i;var w=!n.model.get("source").id||!n.model.get("target").id;if(w&&Ne(e.draggingRoute)){var O=f===r?s:f,k=h.origin();b=e.draggingRoute.call(n,O,k,e)}}if(b=b||Y3.call(n,f,h,o,e),b===null)return e.fallbackRouter(t,e,n);var R=b[0];R&&R.equals(u)&&b.shift(),u=b[b.length-1]||u,Array.prototype.push.apply(l,b)}return l}const Ju=function(t,e,n){return X3(t,jt({},By,e),n)};var H3={maxAllowedDirectionChange:45,diagonalCost:function(){var t=this.step;return Math.ceil(Math.sqrt(t*t<<1))},directions:function(){var t=this.step,e=this.cost(),n=this.diagonalCost();return[{offsetX:t,offsetY:0,cost:e},{offsetX:t,offsetY:t,cost:n},{offsetX:0,offsetY:t,cost:e},{offsetX:-t,offsetY:t,cost:n},{offsetX:-t,offsetY:0,cost:e},{offsetX:-t,offsetY:-t,cost:n},{offsetX:0,offsetY:-t,cost:e},{offsetX:t,offsetY:-t,cost:n}]},fallbackRoute:function(t,e,n){var r=t.theta(e),i=[],s={x:e.x,y:t.y},o={x:t.x,y:e.y};if(r%180>90){var a=s;s=o,o=a}var l=r%90<45?s:o,u=new Ot(t,l),h=90*Math.ceil(r/90),f=Z.fromPolar(u.squaredLength(),xn(h+135),l),v=new Ot(e,f),C=u.intersection(v),b=C||e,w=C?b:t,O=360/n.directions.length,k=w.theta(e),R=Mr(k+O/2),U=O*Math.floor(R/O);return n.previousDirectionAngle=U,b&&i.push(b.round()),i.push(e),i}};const J3=function(t,e,n){if(!Ne(Ju))throw new Error("Metro requires the manhattan router.");return Ju(t,jt({},H3,e),n)},Pe={AUTO:"auto",LEFT:"left",RIGHT:"right",TOP:"top",BOTTOM:"bottom",ANCHOR_SIDE:"anchor-side",MAGNET_SIDE:"magnet-side"},Sp=[Pe.LEFT,Pe.RIGHT,Pe.TOP,Pe.BOTTOM];function Np(t,e,n){const r=n.getTangentAtLength(n.getClosestPointLength(e));switch(Math.round(r.angle()/90)*90){case 0:case 360:return t.y<e.y?Pe.TOP:Pe.BOTTOM;case 90:return t.x<e.x?Pe.LEFT:Pe.RIGHT;case 180:return t.y<e.y?Pe.TOP:Pe.BOTTOM;case 270:return t.x<e.x?Pe.LEFT:Pe.RIGHT}}function Wy(t,e,n){const r=e.margin||20;let{sourceDirection:i=Pe.AUTO,targetDirection:s=Pe.AUTO}=e;const o=n.sourceView,a=n.targetView,l=!!n.model.source().port,u=!!n.model.target().port;i===Pe.AUTO&&(i=l?Pe.MAGNET_SIDE:Pe.ANCHOR_SIDE),s===Pe.AUTO&&(s=u?Pe.MAGNET_SIDE:Pe.ANCHOR_SIDE);const h=n.sourceBBox,f=n.targetBBox,v=n.sourceAnchor,C=n.targetAnchor;let{x:b,y:w,width:O=0,height:k=0}=o&&o.model.isElement()?Pt.fromRectUnion(h,o.model.getBBox()):n.sourceAnchor,{x:R,y:U,width:F=0,height:y=0}=a&&a.model.isElement()?Pt.fromRectUnion(f,a.model.getBBox()):n.targetAnchor;const d=R+F,S=U+y,E=b+O,z=w+k,W=b-r,$=E+r,Q=w-r,ut=z+r,dt=R-r,Ct=d+r,vt=U-r,mt=S+r,St=v.clone();let Mt;if(o)o.model.isLink()?Mt=Np(C,v,o):i===Pe.ANCHOR_SIDE?Mt=h.sideNearestToPoint(v):i===Pe.MAGNET_SIDE?Mt=o.model.getBBox().sideNearestToPoint(v):Mt=i;else{const T=new Pt(b,w,0,0);Mt=Sp.includes(i)?i:T.sideNearestToPoint(C)}switch(Mt){case"left":St.x=W;break;case"right":St.x=$;break;case"top":St.y=Q;break;case"bottom":St.y=ut;break}const Zt=C.clone();let kt;if(a)a.model.isLink()?kt=Np(v,C,a):s===Pe.ANCHOR_SIDE?kt=f.sideNearestToPoint(C):s===Pe.MAGNET_SIDE?kt=a.model.getBBox().sideNearestToPoint(C):kt=s;else{const T=new Pt(R,U,0,0);kt=Sp.includes(s)?s:T.sideNearestToPoint(v)}switch(kt){case"left":Zt.x=dt;break;case"right":Zt.x=Ct;break;case"top":Zt.y=vt;break;case"bottom":Zt.y=mt;break}const{x:q,y:et}=St,{x:nt,y:ot}=Zt,Gt=(R+d)/2,K=(U+S)/2,It=(b+E)/2,ct=(w+z)/2,xt=(It<Gt?E+R:d+b)/2,Et=(ct<K?z+U:S+w)/2;if(Mt==="left"&&kt==="right"){if(W<=d){let _=Et;return E<=R&&(S>=Q&&ot<et?_=Math.min(vt,Q):U<=ut&&ot>=et&&(_=Math.max(mt,ut))),[{x:q,y:et},{x:q,y:_},{x:nt,y:_},{x:nt,y:ot}]}const T=(q+nt)/2;return[{x:T,y:et},{x:T,y:ot}]}else if(Mt==="right"&&kt==="left"){if($>=R){let _=Et;return q>d&&(S>=Q&&ot<et?_=Math.min(vt,Q):U<=ut&&ot>=et&&(_=Math.max(mt,ut))),[{x:q,y:et},{x:q,y:_},{x:nt,y:_},{x:nt,y:ot}]}const T=(q+nt)/2;return[{x:T,y:et},{x:T,y:ot}]}else if(Mt==="top"&&kt==="bottom"){if(et<ot){let _=xt,m=et;return et<U&&(d>=W&&nt<q?_=Math.min(dt,W):R<=$&&nt>=q&&(_=Math.max(Ct,$))),[{x:q,y:m},{x:_,y:m},{x:_,y:ot},{x:nt,y:ot}]}const T=(et+ot)/2;return[{x:q,y:T},{x:nt,y:T}]}else if(Mt==="bottom"&&kt==="top"){if(et-r>ot){let _=xt,m=et;return et>S&&(d>=W&&nt<q?_=Math.min(dt,W):R<=$&&nt>=q&&(_=Math.max(Ct,$))),[{x:q,y:m},{x:_,y:m},{x:_,y:ot},{x:nt,y:ot}]}const T=(et+ot)/2;return[{x:q,y:T},{x:nt,y:T}]}else if(Mt==="top"&&kt==="top"){let T,_=Math.min((z+U)/2,ot),m=Math.min((w+S)/2,et);if(ot<et){if(q>=Ct||q<=dt)return[{x:q,y:Math.min(et,ot)},{x:nt,y:Math.min(et,ot)}];nt>q?T=Math.min(q,dt):T=Math.max(q,Ct)}else{if(nt>=$||nt<=W)return[{x:q,y:Math.min(et,ot)},{x:nt,y:Math.min(et,ot)}];nt>=q?T=Math.max(nt,$):T=Math.min(nt,W)}return[{x:q,y:m},{x:T,y:m},{x:T,y:_},{x:nt,y:_}]}else if(Mt==="bottom"&&kt==="bottom"){if(R>=q+r||d<=q-r)return[{x:q,y:Math.max(et,ot)},{x:nt,y:Math.max(et,ot)}];let T,_,m;return ot>et?(_=Math.max((z+U)/2,ot),m=Math.max((z+U)/2,et),nt>q?T=Math.min(q,dt):T=Math.max(q,Ct)):(_=Math.max((w+S)/2,ot),m=Math.max((w+S)/2,et),nt>q?T=Math.min(nt,W):T=Math.max(nt,$)),[{x:q,y:m},{x:T,y:m},{x:T,y:_},{x:nt,y:_}]}else if(Mt==="left"&&kt==="left"){let T,_=Math.min((E+R)/2,nt),m=Math.min((b+d)/2,q);return nt>q?ot<=et?T=Math.min(Q,ot):T=Math.max(ut,ot):ot>=et?T=Math.min(vt,et):T=Math.max(mt,et),[{x:m,y:et},{x:m,y:T},{x:_,y:T},{x:_,y:ot}]}else if(Mt==="right"&&kt==="right"){let T,_=Math.max((b+d)/2,nt),m=Math.max((E+R)/2,q);return nt<q?ot<=et?T=Math.min(Q,ot):T=Math.max(ut,ot):ot>=et?T=Math.min(vt,et):T=Math.max(mt,et),[{x:m,y:et},{x:m,y:T},{x:_,y:T},{x:_,y:ot}]}else if(Mt==="top"&&kt==="right"){if(et>ot){if(q<nt){let _=(w+S)/2;return _>K&&_<mt&&q<dt&&(_=vt),[{x:q,y:_},{x:nt,y:_},{x:nt,y:ot}]}return[{x:q,y:ot}]}const T=(b+d)/2;if(q>nt&&z>=ot)return[{x:q,y:et},{x:T,y:et},{x:T,y:ot}];if(T>W&&et<S){const _=Math.min(w,U)-r,m=Math.max(E,d)+r;return[{x:q,y:_},{x:m,y:_},{x:m,y:ot}]}return[{x:q,y:et},{x:T,y:et},{x:T,y:ot}]}else if(Mt==="top"&&kt==="left"){if(et>ot){if(q>nt){let _=(w+S)/2;return _>K&&_<mt&&q>Ct&&(_=vt),[{x:q,y:_},{x:nt,y:_},{x:nt,y:ot}]}return[{x:q,y:ot}]}const T=(E+R)/2;if(q<nt&&z>=ot)return[{x:q,y:et},{x:T,y:et},{x:T,y:ot}];if(T<$&&et<S){const _=Math.min(w,U)-r,m=Math.min(b,R)-r;return[{x:q,y:_},{x:m,y:_},{x:m,y:ot}]}return[{x:q,y:et},{x:T,y:et},{x:T,y:ot}]}else if(Mt==="bottom"&&kt==="right"){if(et<ot){if(q<nt){let _=(z+U)/2;return _<K&&_>vt&&q<dt&&(_=mt),[{x:q,y:_},{x:nt,y:_},{x:nt,y:ot}]}return[{x:q,y:ot}]}else if(b<nt){const _=Math.max(z,S)+r,m=Math.max(E,d)+r;return[{x:q,y:_},{x:m,y:_},{x:m,y:ot}]}const T=xt;return[{x:q,y:et},{x:T,y:et},{x:T,y:ot}]}else if(Mt==="bottom"&&kt==="left"){if(et<ot){if(q>nt){let _=(z+U)/2;return _<K&&_>vt&&q>Ct&&(_=mt),[{x:q,y:_},{x:nt,y:_},{x:nt,y:ot}]}return[{x:q,y:ot}]}else if(E>nt){const _=Math.max(z,S)+r,m=Math.min(b,R)-r;return[{x:q,y:_},{x:m,y:_},{x:m,y:ot}]}const T=xt;return[{x:q,y:et},{x:T,y:et},{x:T,y:ot}]}else if(Mt==="left"&&kt==="bottom"){if(q>nt&&et>=mt)return[{x:nt,y:et}];if(q>=d&&et<ot){const m=(E+R)/2;return[{x:m,y:et},{x:m,y:ot},{x:nt,y:ot}]}if(nt<E&&S<=w){const m=(w+S)/2;return[{x:q,y:et},{x:q,y:m},{x:nt,y:m}]}const T=Math.min(dt,q),_=Math.max(z,S)+r;return[{x:T,y:et},{x:T,y:_},{x:nt,y:_}]}else if(Mt==="left"&&kt==="top"){if(q>nt&&et<vt)return[{x:nt,y:et}];if(q>=d&&et>ot){const m=(b+d)/2;return[{x:m,y:et},{x:m,y:ot},{x:nt,y:ot}]}if(nt<=E&&ot>et){const m=(U+z)/2;return[{x:q,y:et},{x:q,y:m},{x:nt,y:m}]}const T=ot<et?Math.min(b,R)-r:W,_=Math.min(w,U)-r;return[{x:T,y:et},{x:T,y:_},{x:nt,y:_}]}else if(Mt==="right"&&kt==="top"){if(q<nt&&et<vt)return[{x:nt,y:et}];if(E<R&&et>ot){let m=(E+R)/2;return[{x:m,y:et},{x:m,y:ot},{x:nt,y:ot}]}if(nt<q&&U>z){const m=(z+U)/2;return[{x:q,y:et},{x:q,y:m},{x:nt,y:m}]}const T=Math.max(E,d)+r,_=Math.min(w,U)-r;return[{x:T,y:et},{x:T,y:_},{x:nt,y:_}]}else if(Mt==="right"&&kt==="bottom"){if(q<nt&&et>=mt)return[{x:nt,y:et}];if(q<=R&&et<ot){const m=(E+R)/2;return[{x:m,y:et},{x:m,y:ot},{x:nt,y:ot}]}if(nt>b&&S<w){const m=(w+S)/2;return[{x:q,y:et},{x:q,y:m},{x:nt,y:m}]}const T=Math.max(Ct,q),_=Math.max(z,S)+r;return[{x:T,y:et},{x:T,y:_},{x:nt,y:_}]}}Wy.Directions=Pe;const $3=Wy,K3=Object.freeze(Object.defineProperty({__proto__:null,manhattan:Ju,metro:J3,normal:E3,oneSide:D3,orthogonal:Hu,rightAngle:$3},Symbol.toStringTag,{value:"Module"})),ss={POINT:"point",CUBIC:"cubic",LINE:"line",GAP:"gap"},Q3=Object.values(ss),q3=10,tP=1,Ud=function(t,e,n=[],r={}){const{cornerType:i=ss.POINT,cornerRadius:s=q3,cornerPreserveAspectRatio:o=!1,precision:a=tP,raw:l=!1}=r;if(Q3.indexOf(i)===-1)throw new Error("Invalid `cornerType` provided to `straight` connector.");let u;if(i===ss.POINT||!s){const h=[t].concat(n).concat([e]),f=new Me(h);u=new Lt(f)}else{u=new Lt,u.appendSegment(Lt.createSegment("M",t));let h;const f=n.length;for(let v=0;v<f;v++){const C=new Z(n[v]),b=n[v-1]||t,w=n[v+1]||e,O=h||C.distance(b)/2;h=C.distance(w)/2;let k,R;o?k=R=-Math.min(s,O,h):(k=-Math.min(s,O),R=-Math.min(s,h));const U=C.clone().move(b,k).round(a),F=C.clone().move(w,R).round(a);switch(u.appendSegment(Lt.createSegment("L",U)),i){case ss.CUBIC:{const y=.3333333333333333,d=2/3,S=new Z(y*U.x+d*C.x,d*C.y+y*U.y),E=new Z(y*F.x+d*C.x,d*C.y+y*F.y);u.appendSegment(Lt.createSegment("C",S,E,F));break}case ss.LINE:{u.appendSegment(Lt.createSegment("L",F));break}case ss.GAP:{u.appendSegment(Lt.createSegment("M",F));break}}}u.appendSegment(Lt.createSegment("L",e))}return l?u:u.serialize()};var eP=5,Mp=["arc","gap","cubic"],nP=0,Tp=1,rP=["smooth"],Sa=1/3,Na=2/3;function Pp(t,e){let{x:n,y:r}=t,{x:i,y:s}=e;if(n>i){let o=n;n=i,i=o,o=r,r=s,s=o}if(r>s){let o=n;n=i,i=o,o=r,r=s,s=o}return[new Z(n,r),new Z(i,s)]}function iP(t,e){const[{x:n,y:r},{x:i,y:s}]=Pp(t.start,t.end),[{x:o,y:a},{x:l,y:u}]=Pp(e.start,e.end),h=n<=l&&o<=i,f=r<=u&&a<=s;return h&&f}function eu(t,e,n){var r=[].concat(t,n,e);return r.reduce(function(i,s,o){var a=r[o+1];return a!=null&&(i[o]=ki(s,a)),i},[])}function sP(t){var e=t.paper,n=e._jumpOverUpdateList;if(n==null){n=e._jumpOverUpdateList=[];var r=e.model;r.on("batch:stop",function(){this.hasActiveBatch()||oP(e)}),r.on("reset",function(){n=e._jumpOverUpdateList=[]})}n.indexOf(t)<0&&(n.push(t),t.listenToOnce(t.model,"change:connector remove",function(){n.splice(n.indexOf(t),1)}))}function oP(t){for(var e=t._jumpOverUpdateList,n=0;n<e.length;n++){const r=e[n],i=r.getFlag(r.constructor.Flags.CONNECTOR);r.requestUpdate(i)}}function aP(t,e){return ae(e).reduce(function(n,r){var i=t.intersection(r);return i&&n.push(i),n},[])}function _p(t,e){return ki(t,e).squaredLength()}function lP(t,e,n){return e.reduce(function(r,i,s){if(i.skip===!0)return r;var o=r.pop()||t,a=Qa(i).move(o.start,-n),l=Qa(i).move(o.start,+n),u=e[s+1];if(u!=null){var h=l.distance(u);h<=n&&(l=u.move(o.start,h),u.skip=!0)}else{var f=a.distance(o.end);if(f<n*2+Tp)return r.push(o),r}var v=l.distance(o.start);if(v<n*2+Tp)return r.push(o),r;var C=ki(a,l);return C.isJump=!0,r.push(ki(o.start,a),C,ki(l,o.end)),r},[])}function Ep(t,e,n,r){var i=new Lt,s;return s=Lt.createSegment("M",t[0].start),i.appendSegment(s),ae(t).forEach(function(o,a){if(o.isJump){var l,u,h,f;if(n==="arc"){l=-90,u=o.start.difference(o.end);var v=+(u.x<0||u.x===0&&u.y<0);v&&(l+=180);var C=o.midpoint(),b=new Ot(C,o.end).rotate(C,l),w;w=new Ot(o.start,C),h=w.pointAt(2/3).rotate(o.start,l),f=b.pointAt(1/3).rotate(b.end,-l),s=Lt.createSegment("C",h,f,b.end),i.appendSegment(s),w=new Ot(C,o.end),h=b.pointAt(1/3).rotate(b.end,l),f=w.pointAt(1/3).rotate(o.end,-l),s=Lt.createSegment("C",h,f,o.end),i.appendSegment(s)}else if(n==="gap")s=Lt.createSegment("M",o.end),i.appendSegment(s);else if(n==="cubic"){l=o.start.theta(o.end);var O=e*.6,k=e*1.35;u=o.start.difference(o.end),v=+(u.x<0||u.x===0&&u.y<0),v&&(k*=-1),h=Z(o.start.x+O,o.start.y+k).rotate(o.start,l),f=Z(o.end.x-O,o.end.y+k).rotate(o.end,l),s=Lt.createSegment("C",h,f,o.end),i.appendSegment(s)}}else{var R=t[a+1];r==0||!R||R.isJump?(s=Lt.createSegment("L",o.end),i.appendSegment(s)):cP(r,i,o.end,o.start,R.end)}}),i}function cP(t,e,n,r,i){var s=n.distance(r)/2,o=n.distance(i)/2,a=-Math.min(t,s),l=-Math.min(t,o),u=n.clone().move(r,a).round(),h=n.clone().move(i,l).round(),f=new Z(Sa*u.x+Na*n.x,Na*n.y+Sa*u.y),v=new Z(Sa*h.x+Na*n.x,Na*n.y+Sa*h.y),C;C=Lt.createSegment("L",u),e.appendSegment(C),C=Lt.createSegment("C",f,v,h),e.appendSegment(C)}const uP=function(t,e,n,r){sP(this);var i=r.raw,s=r.size||eP,o=r.jump&&(""+r.jump).toLowerCase(),a=r.radius||nP,l=r.ignoreConnectors||rP;Mp.indexOf(o)===-1&&(o=Mp[0]);var u=this.paper,h=u.model,f=h.getLinks();if(f.length===1)return Ep(eu(t,e,n),s,o,a);var v=this.model,C=f.indexOf(v),b=u.options.defaultConnector||{},w=f.filter(function(y,d){var S=y.get("connector")||b;return ae(l).includes(S.name)?!1:d>C?S.name!=="jumpover":!0}),O=w.map(function(y){return u.findViewByModel(y)}),k=eu(t,e,n),R=O.map(function(y){return y==null?[]:y===this?k:eu(y.sourcePoint,y.targetPoint,y.route)},this),U=k.reduce(function(y,d){var S=w.reduce(function(E,z,W){if(z!==v){const $=R[W].slice(),Q=$.findIndex(dt=>iP(d,dt));Q>-1&&d.containsPoint($[Q].end)&&$.splice(Q+1,1);const ut=aP(d,$);E.push.apply(E,ut)}return E},[]).sort(function(E,z){return _p(d.start,E)-_p(d.start,z)});return S.length>0?y.push.apply(y,lP(d,S,s)):y.push(d),y},[]),F=Ep(U,s,o,a);return i?F:F.serialize()},fP=function(t,e,n=[],r={}){const{raw:i}=r;return Ud(t,e,n,{cornerType:"point",raw:i})},dP=10,hP=0,gP=function(t,e,n=[],r={}){const{radius:i=dP,raw:s}=r;return Ud(t,e,n,{cornerType:"cubic",cornerRadius:i,precision:hP,raw:s})},pP=function(t,e,n,r){var i=r&&r.raw,s;if(n&&n.length!==0){var o=[t].concat(n).concat([e]),a=Ie.throughPoints(o);s=new Lt(a)}else{s=new Lt;var l;if(l=Lt.createSegment("M",t),s.appendSegment(l),Math.abs(t.x-e.x)>=Math.abs(t.y-e.y)){var u=(t.x+e.x)/2;l=Lt.createSegment("C",u,t.y,u,e.y,e.x,e.y),s.appendSegment(l)}else{var h=(t.y+e.y)/2;l=Lt.createSegment("C",t.x,h,e.x,h,e.x,e.y),s.appendSegment(l)}}return i?s:s.serialize()},Hn={AUTO:"auto",HORIZONTAL:"horizontal",VERTICAL:"vertical",CLOSEST_POINT:"closest-point",OUTWARDS:"outwards"},pn={UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right",AUTO:"auto",CLOSEST_POINT:"closest-point",OUTWARDS:"outwards"},Fd=function(t,e,n=[],r={},i){const s=!!r.raw,{direction:o=Hn.AUTO,precision:a=3}=r,l={coeff:r.distanceCoefficient||.6,angleTangentCoefficient:r.angleTangentCoefficient||80,tau:r.tension||.5,sourceTangent:r.sourceTangent?new Z(r.sourceTangent):null,targetTangent:r.targetTangent?new Z(r.targetTangent):null,rotate:!!r.rotate};typeof r.sourceDirection=="string"?l.sourceDirection=r.sourceDirection:typeof r.sourceDirection=="number"?l.sourceDirection=new Z(1,0).rotate(null,r.sourceDirection):l.sourceDirection=r.sourceDirection?new Z(r.sourceDirection).normalize():null,typeof r.targetDirection=="string"?l.targetDirection=r.targetDirection:typeof r.targetDirection=="number"?l.targetDirection=new Z(1,0).rotate(null,r.targetDirection):l.targetDirection=r.targetDirection?new Z(r.targetDirection).normalize():null;const u=[t,...n,e].map(w=>new Z(w));let h;if(l.sourceTangent)h=l.sourceTangent;else{const w=AP(i,u,o,l),O=u[0].distance(u[1])*l.coeff,k=u[1].difference(u[0]).normalize(),R=$u(w,k);if(R>Math.PI/4){const U=O+(R-Math.PI/4)*l.angleTangentCoefficient;h=w.clone().scale(U,U)}else h=w.clone().scale(O,O)}let f;if(l.targetTangent)f=l.targetTangent;else{const w=CP(i,u,o,l),O=u.length-1,k=u[O-1].distance(u[O])*l.coeff,R=u[O-1].difference(u[O]).normalize(),U=$u(w,R);if(U>Math.PI/4){const F=k+(U-Math.PI/4)*l.angleTangentCoefficient;f=w.clone().scale(F,F)}else f=w.clone().scale(k,k)}const C=wP(u,h,f,l).map(w=>xP(w,l)),b=new Lt(C).round(a);return s?b:b.serialize()};Fd.Directions=Hn;Fd.TangentDirections=pn;function mP(t,e,n){const{sourceBBox:r}=t;let i,s;if(!t.sourceView)r.x>e[1].x?i="right":i="left";else if(s=t.sourceView.model.angle(),n.rotate&&s){const a=t.sourceView.getNodeUnrotatedBBox(t.sourceView.el),l=e[0].clone();l.rotate(r.center(),s),i=a.sideNearestToPoint(l)}else i=r.sideNearestToPoint(e[0]);let o;switch(i){case"left":o=new Z(-1,0);break;case"right":default:o=new Z(1,0);break}return n.rotate&&s&&o.rotate(null,-s),o}function vP(t,e,n){const{targetBBox:r}=t;let i,s;if(!t.targetView)r.x>e[e.length-2].x?i="left":i="right";else if(s=t.targetView.model.angle(),n.rotate&&s){const a=t.targetView.getNodeUnrotatedBBox(t.targetView.el),l=e[e.length-1].clone();l.rotate(r.center(),s),i=a.sideNearestToPoint(l)}else i=r.sideNearestToPoint(e[e.length-1]);let o;switch(i){case"left":o=new Z(-1,0);break;case"right":default:o=new Z(1,0);break}return n.rotate&&s&&o.rotate(null,-s),o}function IP(t,e,n){const{sourceBBox:r}=t;let i,s;if(!t.sourceView)r.y>e[1].y?i="bottom":i="top";else if(s=t.sourceView.model.angle(),n.rotate&&s){const a=t.sourceView.getNodeUnrotatedBBox(t.sourceView.el),l=e[0].clone();l.rotate(r.center(),s),i=a.sideNearestToPoint(l)}else i=r.sideNearestToPoint(e[0]);let o;switch(i){case"top":o=new Z(0,-1);break;case"bottom":default:o=new Z(0,1);break}return n.rotate&&s&&o.rotate(null,-s),o}function yP(t,e,n){const{targetBBox:r}=t;let i,s;if(!t.targetView)r.y>e[e.length-2].y?i="top":i="bottom";else if(s=t.targetView.model.angle(),n.rotate&&s){const a=t.targetView.getNodeUnrotatedBBox(t.targetView.el),l=e[e.length-1].clone();l.rotate(r.center(),s),i=a.sideNearestToPoint(l)}else i=r.sideNearestToPoint(e[e.length-1]);let o;switch(i){case"top":o=new Z(0,-1);break;case"bottom":default:o=new Z(0,1);break}return n.rotate&&s&&o.rotate(null,-s),o}function Dp(t,e,n){const{sourceBBox:r}=t;let i,s;if(!t.sourceView)i=r.sideNearestToPoint(e[1]);else if(s=t.sourceView.model.angle(),n.rotate&&s){const a=t.sourceView.getNodeUnrotatedBBox(t.sourceView.el),l=e[0].clone();l.rotate(r.center(),s),i=a.sideNearestToPoint(l)}else i=r.sideNearestToPoint(e[0]);let o;switch(i){case"top":o=new Z(0,-1);break;case"bottom":o=new Z(0,1);break;case"right":o=new Z(1,0);break;case"left":o=new Z(-1,0);break}return n.rotate&&s&&o.rotate(null,-s),o}function Op(t,e,n){const{targetBBox:r}=t;let i,s;if(!t.targetView)i=r.sideNearestToPoint(e[e.length-2]);else if(s=t.targetView.model.angle(),n.rotate&&s){const a=t.targetView.getNodeUnrotatedBBox(t.targetView.el),l=e[e.length-1].clone();l.rotate(r.center(),s),i=a.sideNearestToPoint(l)}else i=r.sideNearestToPoint(e[e.length-1]);let o;switch(i){case"top":o=new Z(0,-1);break;case"bottom":o=new Z(0,1);break;case"right":o=new Z(1,0);break;case"left":o=new Z(-1,0);break}return n.rotate&&s&&o.rotate(null,-s),o}function kp(t,e,n){return e[1].difference(e[0]).normalize()}function Lp(t,e,n){const r=e.length-1;return e[r-1].difference(e[r]).normalize()}function zp(t,e,n){const{sourceBBox:r}=t,i=r.center();return e[0].difference(i).normalize()}function Rp(t,e,n){const{targetBBox:r}=t,i=r.center();return e[e.length-1].difference(i).normalize()}function AP(t,e,n,r){if(r.sourceDirection)switch(r.sourceDirection){case pn.UP:return new Z(0,-1);case pn.DOWN:return new Z(0,1);case pn.LEFT:return new Z(-1,0);case pn.RIGHT:return new Z(1,0);case pn.AUTO:return Dp(t,e,r);case pn.CLOSEST_POINT:return kp(t,e);case pn.OUTWARDS:return zp(t,e);default:return r.sourceDirection}switch(n){case Hn.HORIZONTAL:return mP(t,e,r);case Hn.VERTICAL:return IP(t,e,r);case Hn.CLOSEST_POINT:return kp(t,e);case Hn.OUTWARDS:return zp(t,e);case Hn.AUTO:default:return Dp(t,e,r)}}function CP(t,e,n,r){if(r.targetDirection)switch(r.targetDirection){case pn.UP:return new Z(0,-1);case pn.DOWN:return new Z(0,1);case pn.LEFT:return new Z(-1,0);case pn.RIGHT:return new Z(0,1);case pn.AUTO:return Op(t,e,r);case pn.CLOSEST_POINT:return Lp(t,e);case pn.OUTWARDS:return Rp(t,e);default:return r.targetDirection}switch(n){case Hn.HORIZONTAL:return vP(t,e,r);case Hn.VERTICAL:return yP(t,e,r);case Hn.CLOSEST_POINT:return Lp(t,e);case Hn.OUTWARDS:return Rp(t,e);case Hn.AUTO:default:return Op(t,e,r)}}function bP(t,e){const n=Math.cos(e),r=Math.sin(e),i=n*t.x-r*t.y,s=r*t.x+n*t.y;t.x=i,t.y=s}function $u(t,e){let n=t.dot(e)/(t.magnitude()*e.magnitude());return n<-1&&(n=-1),n>1&&(n=1),Math.acos(n)}function Bp(t,e){return t.x*e.y-t.y*e.x}function wP(t,e,n,r){const{tau:i,coeff:s}=r,o=[],a=[],l=[],u=t.length-1;for(let h=0;h<u;h++)o[h]=t[h].distance(t[h+1]);a[0]=e,a[u]=n;for(let h=1;h<u;h++){let f,v;h===1?f=t[h-1].clone().offset(a[h-1].x,a[h-1].y):f=t[h-1].clone(),h===u-1?v=t[h+1].clone().offset(a[h+1].x,a[h+1].y):v=t[h+1].clone();const C=f.difference(t[h]).normalize(),b=v.difference(t[h]).normalize(),w=$u(C,b);let O=(Math.PI-w)/2,k;const R=Bp(C,b);let U;U=Bp(t[h].difference(t[h+1]),t[h].difference(t[h-1])),R<0&&(O=-O),w<Math.PI/2&&(O<0&&U<0||O>0&&U>0)&&(O=O-Math.PI),k=b.clone(),bP(k,O);const F=k.clone(),y=k.clone(),d=o[h-1]*s,S=o[h]*s;F.scale(d,d),y.scale(S,S),a[h]=[F,y]}for(let h=0;h<u;h++){let f,v;h===0?f=t[h+1].difference(a[h].x/i,a[h].y/i):f=t[h+1].difference(a[h][1].x/i,a[h][1].y/i),h===u-1?v=t[h].clone().offset(a[h+1].x/i,a[h+1].y/i):v=t[h].difference(a[h+1][0].x/i,a[h+1][0].y/i),l[h]=[f,t[h],t[h+1],v]}return l}function xP(t,e){const{tau:n}=e,r=new Z;r.x=t[1].x+(t[2].x-t[0].x)/(6*n),r.y=t[1].y+(t[2].y-t[0].y)/(6*n);const i=new Z;return i.x=t[2].x+(t[3].x-t[1].x)/(6*n),i.y=t[2].y+(t[3].y-t[1].y)/(6*n),new Ie(t[1],r,i,t[2])}const SP=Object.freeze(Object.defineProperty({__proto__:null,curve:Fd,jumpover:uP,normal:fP,rounded:gP,smooth:pP,straight:Ud},Symbol.toStringTag,{value:"Module"})),Xt={TOOLS:ie.Flags.TOOLS,RENDER:"RENDER",UPDATE:"UPDATE",LEGACY_TOOLS:"LEGACY_TOOLS",LABELS:"LABELS",VERTICES:"VERTICES",SOURCE:"SOURCE",TARGET:"TARGET",CONNECTOR:"CONNECTOR"},ao=ie.extend({className:function(){var t=ie.prototype.className.apply(this).split(" ");return t.push("link"),t.join(" ")},options:{shortLinkLength:105,doubleLinkTools:!1,longLinkLength:155,linkToolsOffset:40,doubleLinkToolsOffset:65,sampleInterval:50},_labelCache:null,_labelSelectors:null,_markerCache:null,_V:null,_dragData:null,metrics:null,decimalsRounding:2,initialize:function(){ie.prototype.initialize.apply(this,arguments),this._labelCache={},this._labelSelectors={},this._markerCache={},this._V={},this.cleanNodesCache()},presentationAttributes:{markup:[Xt.RENDER],attrs:[Xt.UPDATE],router:[Xt.UPDATE],connector:[Xt.CONNECTOR],smooth:[Xt.UPDATE],manhattan:[Xt.UPDATE],toolMarkup:[Xt.LEGACY_TOOLS],labels:[Xt.LABELS],labelMarkup:[Xt.LABELS],vertices:[Xt.VERTICES,Xt.UPDATE],vertexMarkup:[Xt.VERTICES],source:[Xt.SOURCE,Xt.UPDATE],target:[Xt.TARGET,Xt.UPDATE]},initFlag:[Xt.RENDER,Xt.SOURCE,Xt.TARGET,Xt.TOOLS],UPDATE_PRIORITY:1,confirmUpdate:function(t,e){if(e||(e={}),this.hasFlag(t,Xt.SOURCE)){if(!this.updateEndProperties("source"))return t;t=this.removeFlag(t,Xt.SOURCE)}if(this.hasFlag(t,Xt.TARGET)){if(!this.updateEndProperties("target"))return t;t=this.removeFlag(t,Xt.TARGET)}const{paper:n,sourceView:r,targetView:i}=this;if(n&&(r&&!n.isViewMounted(r)||i&&!n.isViewMounted(i)))return t;if(this.hasFlag(t,Xt.RENDER))return this.render(),this.updateHighlighters(!0),this.updateTools(e),t=this.removeFlag(t,[Xt.RENDER,Xt.UPDATE,Xt.VERTICES,Xt.LABELS,Xt.TOOLS,Xt.LEGACY_TOOLS,Xt.CONNECTOR]),t;let s=!1;this.hasFlag(t,Xt.VERTICES)&&(this.renderVertexMarkers(),t=this.removeFlag(t,Xt.VERTICES));const{model:o}=this,{attributes:a}=o;let l=this.hasFlag(t,Xt.LABELS),u=this.hasFlag(t,Xt.LEGACY_TOOLS);l&&(this.onLabelsChange(o,a.labels,e),t=this.removeFlag(t,Xt.LABELS),s=!0),u&&(this.renderTools(),t=this.removeFlag(t,Xt.LEGACY_TOOLS));const h=this.hasFlag(t,Xt.UPDATE),f=this.hasFlag(t,Xt.CONNECTOR);return(h||f)&&(h?e.translateBy&&o.isRelationshipEmbeddedIn(e.translateBy)?this.translate(e.tx,e.ty):this.update():(this.updatePath(),this.updateDOM()),this.updateTools(e),t=this.removeFlag(t,[Xt.UPDATE,Xt.TOOLS,Xt.CONNECTOR]),l=!1,u=!1,s=!0),l&&this.updateLabelPositions(),u&&this.updateToolsPosition(),s&&this.updateHighlighters(),this.hasFlag(t,Xt.TOOLS)&&(this.updateTools(e),t=this.removeFlag(t,Xt.TOOLS)),t},requestConnectionUpdate:function(t){this.requestUpdate(this.getFlag(Xt.UPDATE),t)},isLabelsRenderRequired:function(t={}){const e=this.model.previous("labels");if(!e)return!0;if("propertyPathArray"in t&&"propertyValue"in t){var n=t.propertyPathArray||[],r=n.length;if(r>1){var i=!!e[n[1]];if(i){if(r===2)return"markup"in Object(t.propertyValue);if(n[2]!=="markup")return!1}}}return!0},onLabelsChange:function(t,e,n){this.isLabelsRenderRequired(n)?this.renderLabels():this.updateLabels()},render:function(){return this.vel.empty(),this.unmountLabels(),this._V={},this.renderMarkup(),this.renderLabels(),this.update(),this},renderMarkup:function(){var t=this.model,e=t.get("markup")||t.markup;if(!e)throw new Error("dia.LinkView: markup required");if(Array.isArray(e))return this.renderJSONMarkup(e);if(typeof e=="string")return this.renderStringMarkup(e);throw new Error("dia.LinkView: invalid markup")},renderJSONMarkup:function(t){var e=this.parseDOMJSON(t,this.el);this.selectors=e.selectors,this.vel.append(e.fragment)},renderStringMarkup:function(t){var e=lt(t);Array.isArray(e)||(e=[e]);for(var n=this._V,r=0,i=e.length;r<i;r++){var s=e[r],o=s.attr("class");o&&(o=ZT(o),n[ce.camelCase(o)]=s)}this.renderTools(),this.renderVertexMarkers(),this.renderArrowheadMarkers(),this.vel.append(e)},_getLabelMarkup:function(t){if(t){if(Array.isArray(t))return this.parseDOMJSON(t,null);if(typeof t=="string")return this._getLabelStringMarkup(t);throw new Error("dia.linkView: invalid label markup")}},_getLabelStringMarkup:function(t){var e=lt(t),n=document.createDocumentFragment();if(!Array.isArray(e))n.appendChild(e.node);else for(var r=0,i=e.length;r<i;r++){var s=e[r].node;n.appendChild(s)}return{fragment:n,selectors:{}}},_normalizeLabelMarkup:function(t){if(t){var e=t.fragment;if(!(t.fragment instanceof DocumentFragment)||!t.fragment.hasChildNodes())throw new Error("dia.LinkView: invalid label markup.");var n,r=e.childNodes;return r.length>1||r[0].nodeName.toUpperCase()!=="G"?n=lt("g").append(e):n=lt(r[0]),n.addClass("label"),{node:n.node,selectors:t.selectors}}},renderLabels:function(){var t=this._V,e=t.labels,n=this._labelCache={},r=this._labelSelectors={},i=this.model,s=i.attributes.labels||[],o=s.length;if(o===0)return e&&e.remove(),this;e?e.empty():(e=t.labels=lt("g").addClass("labels"),this.options.labelsLayer&&(e.addClass(nr(Ge(this,"className"))),e.attr("model-id",i.id)));for(var a=0;a<o;a++){var l=s[a],u=this._normalizeLabelMarkup(this._getLabelMarkup(l.markup)),h,f;if(u)h=u.node,f=u.selectors;else{var v=i._builtins.defaultLabel,C=this._normalizeLabelMarkup(this._getLabelMarkup(v.markup)),b=i._getDefaultLabel(),w=this._normalizeLabelMarkup(this._getLabelMarkup(b.markup)),O=w||C;h=O.node,f=O.selectors}h.setAttribute("label-idx",a),e.append(h),n[a]=h;var k=this.selector;if(f[k])throw new Error("dia.LinkView: ambiguous label root selector.");f[k]=h,r[a]=f}return e.parent()||this.mountLabels(),this.updateLabels(),this},mountLabels:function(){const{el:t,paper:e,model:n,_V:r,options:i}=this,{labels:s}=r;if(!s||!n.hasLabels())return;const{node:o}=s;i.labelsLayer?e.getLayerView(i.labelsLayer).insertSortedNode(o,n.get("z")):o.parentNode!==t&&t.appendChild(o)},unmountLabels:function(){const{options:t,_V:e}=this;if(!e)return;const{labels:n}=e;n&&t.labelsLayer&&n.remove()},findLabelNode:function(t,e){const n=this._labelCache[t];if(!n)return null;const r=this._labelSelectors[t],[i=null]=this.findBySelector(e,n,r);return i},_mergeLabelAttrs:function(t,e,n,r){return e===null?null:e===void 0?n===null?null:n===void 0?t?void 0:r:t?n:Fe({},r,n):t?Fe({},n,e):Fe({},r,n,e)},_mergeLabelSize:function(t,e){return t===null?null:t===void 0?e===null?null:e===void 0?void 0:e:Fe({},e,t)},updateLabels:function(){if(!this._V.labels)return this;for(var t=this.model,e=t.get("labels")||[],n=this.can("labelMove"),r=t._builtins.defaultLabel,i=r.attrs,s=t._getDefaultLabel(),o=s.markup,a=s.attrs,l=s.size,u=0,h=e.length;u<h;u++){var f=this._labelCache[u];f.setAttribute("cursor",n?"move":"default");var v=this._labelSelectors[u],C=e[u],b=C.markup,w=C.attrs,O=C.size,k=this._mergeLabelAttrs(b||o,w,a,i),R=this._mergeLabelSize(O,l);this.updateDOMSubtreeAttributes(f,k,{rootBBox:new Pt(R),selectors:v})}return this},renderTools:function(){if(!this._V.linkTools)return this;var t=ce(this._V.linkTools.node).empty(),e=gn(this.model.get("toolMarkup")||this.model.toolMarkup),n=lt(e());if(t.append(n.node),this._toolCache=n,this.options.doubleLinkTools){var r;this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup?(e=gn(this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup),r=lt(e())):r=n.clone(),t.append(r.node),this._tool2Cache=r}return this},renderVertexMarkers:function(){if(!this._V.markerVertices)return this;var t=ce(this._V.markerVertices.node).empty(),e=gn(this.model.get("vertexMarkup")||this.model.vertexMarkup);return this.model.vertices().forEach(function(n,r){t.append(lt(e(jt({idx:r},n))).node)}),this},renderArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;var t=ce(this._V.markerArrowheads.node);t.empty();var e=gn(this.model.get("arrowheadMarkup")||this.model.arrowheadMarkup);return this._V.sourceArrowhead=lt(e({end:"source"})),this._V.targetArrowhead=lt(e({end:"target"})),t.append(this._V.sourceArrowhead.node,this._V.targetArrowhead.node),this},removeRedundantLinearVertices:function(t){const n=this.model,r=n.vertices(),i=[this.sourceAnchor,...r,this.targetAnchor],s=i.length,o=new Me(i);o.simplify({threshold:.001});const a=o.points.map(u=>u.toJSON()),l=a.length;return s===l?0:(n.vertices(a.slice(1,l-1),t),s-l)},updateDefaultConnectionPath:function(){var t=this._V;t.connection&&t.connection.attr("d",this.getSerializedConnection()),t.connectionWrap&&t.connectionWrap.attr("d",this.getSerializedConnection()),t.markerSource&&t.markerTarget&&this._translateAndAutoOrientArrows(t.markerSource,t.markerTarget)},getEndView:function(t){switch(t){case"source":return this.sourceView||null;case"target":return this.targetView||null;default:throw new Error("dia.LinkView: type parameter required.")}},getEndAnchor:function(t){switch(t){case"source":return new Z(this.sourceAnchor);case"target":return new Z(this.targetAnchor);default:throw new Error("dia.LinkView: type parameter required.")}},getEndConnectionPoint:function(t){switch(t){case"source":return new Z(this.sourcePoint);case"target":return new Z(this.targetPoint);default:throw new Error("dia.LinkView: type parameter required.")}},getEndMagnet:function(t){switch(t){case"source":var e=this.sourceView;if(!e)break;return this.sourceMagnet||e.el;case"target":var n=this.targetView;if(!n)break;return this.targetMagnet||n.el;default:throw new Error("dia.LinkView: type parameter required.")}return null},update:function(){return this.updateRoute(),this.updatePath(),this.updateDOM(),this},translate:function(t=0,e=0){const{route:n,path:r}=this;if(!n||!r)return;const i=new Me(n);i.translate(t,e),this.route=i.points,this._translateConnectionPoints(t,e),r.translate(t,e),this.updateDOM()},updateDOM(){const{el:t,model:e,selectors:n}=this;this.cleanNodesCache(),this.updateDOMSubtreeAttributes(t,e.attr(),{selectors:n}),this.updateDefaultConnectionPath(),this.updateLabelPositions(),this.updateToolsPosition(),this.updateArrowheadMarkers(),this.options.perpendicular=null},updateRoute:function(){const{model:t}=this,e=t.vertices(),n=this.findAnchors(e),r=this.sourceAnchor=n.source,i=this.targetAnchor=n.target,s=this.findRoute(e);this.route=s;var o=this.findConnectionPoints(s,r,i);this.sourcePoint=o.source,this.targetPoint=o.target},updatePath:function(){const{route:t,sourcePoint:e,targetPoint:n}=this,r=this.findMarkerPoints(t,e,n),i=this.findPath(t,r.source||e,r.target||n);this.path=i},findMarkerPoints:function(t,e,n){var r=t[0],i=t[t.length-1],s=this._markerCache,o,a;return this._V.markerSource&&(s.sourceBBox=s.sourceBBox||this._V.markerSource.getBBox(),o=Z(e).move(r||n,s.sourceBBox.width*this._V.markerSource.scale().sx*-1).round()),this._V.markerTarget&&(s.targetBBox=s.targetBBox||this._V.markerTarget.getBBox(),a=Z(n).move(i||e,s.targetBBox.width*this._V.markerTarget.scale().sx*-1).round()),s.sourcePoint=o||e.clone(),s.targetPoint=a||n.clone(),{source:o,target:a}},findAnchorsOrdered:function(t,e,n,r){var i,s,o,a,l=this.model,u=l.get(t),h=l.get(n),f=this.getEndView(t),v=this.getEndView(n),C=this.getEndMagnet(t),b=this.getEndMagnet(n);f?(e?o=new Z(e):v?o=b:o=new Z(h),i=this.getAnchor(u.anchor,f,C,o,t)):i=new Z(u),v?(a=new Z(r||i),s=this.getAnchor(h.anchor,v,b,a,n)):s=new Z(h);var w={};return w[t]=i,w[n]=s,w},findAnchors:function(t){var e=this.model,n=t[0],r=t[t.length-1];return e.target().priority&&!e.source().priority?this.findAnchorsOrdered("target",r,"source",n):this.findAnchorsOrdered("source",n,"target",r)},findConnectionPoints:function(t,e,n){var r=t[0],i=t[t.length-1],s=this.model,o=s.get("source"),a=s.get("target"),l=this.sourceView,u=this.targetView,h=this.paper.options,f,v,C;if(l&&!l.isNodeConnection(this.sourceMagnet)){f=this.sourceMagnet||l.el;var b=o.connectionPoint||h.defaultConnectionPoint,w=r||n,O=new Ot(w,e);C=this.getConnectionPoint(b,l,f,O,"source")}else C=e;var k;if(u&&!u.isNodeConnection(this.targetMagnet)){v=this.targetMagnet||u.el;var R=a.connectionPoint||h.defaultConnectionPoint,U=i||e,F=new Ot(U,n);k=this.getConnectionPoint(R,u,v,F,"target")}else k=n;return{source:C,target:k}},getAnchor:function(t,e,n,r,i){var s=e.isNodeConnection(n),o=this.paper.options;if(t||(s?t=o.defaultLinkAnchor:o.perpendicularLinks||this.options.perpendicular?t={name:"perpendicular"}:t=o.defaultAnchor),!t)throw new Error("Anchor required.");var a;if(typeof t=="function")a=t;else{var l=t.name,u=s?"linkAnchorNamespace":"anchorNamespace";if(a=o[u][l],typeof a!="function")throw new Error("Unknown anchor: "+l)}var h=a.call(this,e,n,r,t.args||{},i,this);return h?h.round(this.decimalsRounding):new Z},getConnectionPoint:function(t,e,n,r,i){var s,o=r.end,a=this.paper.options;if(typeof a.linkConnectionPoint=="function"){var l=n===e.el?void 0:n;if(s=a.linkConnectionPoint(this,e,l,r.start,i),s)return s}if(!t)return o;var u;if(typeof t=="function")u=t;else{var h=t.name;if(u=a.connectionPointNamespace[h],typeof u!="function")throw new Error("Unknown connection point: "+h)}return s=u.call(this,r,e,n,t.args||{},i,this),s?s.round(this.decimalsRounding):o},_translateConnectionPoints:function(t,e){var n=this._markerCache;n.sourcePoint.offset(t,e),n.targetPoint.offset(t,e),this.sourcePoint.offset(t,e),this.targetPoint.offset(t,e),this.sourceAnchor.offset(t,e),this.targetAnchor.offset(t,e)},_getDefaultLabelPositionProperty:function(){var t=this.model,e=t._builtins.defaultLabel,n=e.position,r=t._getDefaultLabel(),i=this._normalizeLabelPosition(r.position);return Fe({},n,i)},_normalizeLabelPosition:function(t){return typeof t=="number"?{distance:t,offset:null,angle:0,args:null}:t},_mergeLabelPositionProperty:function(t,e){return t===null?null:t===void 0?e===null?null:e:Fe({},e,t)},updateLabelPositions:function(){if(!this._V.labels)return this;var t=this.path;if(!t)return this;var e=this.model,n=e.get("labels")||[];if(!n.length)return this;for(var r=this._getDefaultLabelPositionProperty(),i=0,s=n.length;i<s;i++){var o=this._labelCache[i];if(o){var a=n[i],l=this._normalizeLabelPosition(a.position),u=this._mergeLabelPositionProperty(l,r),h=this._getLabelTransformationMatrix(u);o.setAttribute("transform",lt.matrixToTransformString(h)),this._cleanLabelMatrices(i)}}return this},_cleanLabelMatrices:function(t){const{metrics:e,_labelSelectors:n}=this,r=n[t];if(r)for(let i in r){const{id:s}=r[i];s&&s in e&&delete e[s].magnetMatrix}},updateToolsPosition:function(){if(!this._V.linkTools)return this;var t="",e=this.options.linkToolsOffset,n=this.getConnectionLength();if(!Number.isNaN(n)){n<this.options.shortLinkLength&&(t="scale(.5)",e/=2);var r=this.getPointAtLength(e);if(this._toolCache.attr("transform","translate("+r.x+", "+r.y+") "+t),this.options.doubleLinkTools&&n>=this.options.longLinkLength){var i=this.options.doubleLinkToolsOffset||e;r=this.getPointAtLength(n-i),this._tool2Cache.attr("transform","translate("+r.x+", "+r.y+") "+t),this._tool2Cache.attr("visibility","visible")}else this.options.doubleLinkTools&&this._tool2Cache.attr("visibility","hidden")}return this},updateArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;if(ce.css(this._V.markerArrowheads.node,"display")==="none")return this;var t=this.getConnectionLength()<this.options.shortLinkLength?.5:1;return this._V.sourceArrowhead.scale(t),this._V.targetArrowhead.scale(t),this._translateAndAutoOrientArrows(this._V.sourceArrowhead,this._V.targetArrowhead),this},updateEndProperties:function(t){const{model:e,paper:n}=this,r=`${t}View`,i=e.get(t),s=i&&i.id;if(!s)return this[r]=null,this.updateEndMagnet(t),!0;const o=n.getModelById(s);if(!o)throw new Error("LinkView: invalid "+t+" cell.");const a=o.findView(n);return a?(this[r]=a,this.updateEndMagnet(t),!0):!1},updateEndMagnet:function(t){const e=`${t}Magnet`,n=this.getEndView(t);if(n){let r=n.getMagnetFromLinkEnd(this.model.get(t));r===n.el&&(r=null),this[e]=r}else this[e]=null},_translateAndAutoOrientArrows:function(t,e){var n=ae(this.route);t&&t.translateAndAutoOrient(this.sourcePoint,n[0]||this.targetPoint,this.paper.cells),e&&e.translateAndAutoOrient(this.targetPoint,n[n.length-1]||this.sourcePoint,this.paper.cells)},_getLabelPositionProperty:function(t){return this.model.label(t).position||{}},_getLabelPositionAngle:function(t){var e=this._getLabelPositionProperty(t);return e.angle||0},_getLabelPositionArgs:function(t){var e=this._getLabelPositionProperty(t);return e.args},_getDefaultLabelPositionArgs:function(){var t=this.model._getDefaultLabel(),e=t.position||{};return e.args},_mergeLabelPositionArgs:function(t,e){return t===null?null:t===void 0?e===null?null:e:Fe({},e,t)},addLabel:function(t,e,n,r){var i,s,o=0,a;typeof t!="number"?(i=t.x,s=t.y,typeof e=="number"?(o=e,a=n):a=e):(i=t,s=e,typeof n=="number"?(o=n,a=r):a=n);var l=this._getDefaultLabelPositionArgs(),u=a,h=this._mergeLabelPositionArgs(u,l),f={position:this.getLabelPosition(i,s,o,h)},v=-1;return this.model.insertLabel(v,f,a),v},addVertex:function(t,e,n){var r=typeof t!="number",i=r?t.x:t,s=r?t.y:e,o=r?e:n,a={x:i,y:s},l=this.getVertexIndex(i,s);return this.model.insertVertex(l,a,o),l},sendToken:function(t,e,n){function r(f,v){return function(){f.remove(),typeof v=="function"&&v()}}var i,s,o;fe(e)?(i=e.duration,s=e.direction==="reverse",o=e.connection):(i=e,s=!1,o=null),i=i||1e3;var a={dur:i+"ms",repeatCount:1,calcMode:"linear",fill:"freeze"};s&&(a.keyPoints="1;0",a.keyTimes="0;1");var l=lt(t),u;if(typeof o=="string")u=this.findBySelector(o,this.el,this.selectors)[0];else{var h=this._V;u=h.connection?h.connection.node:this.el.querySelector("path")}if(!(u instanceof SVGPathElement))throw new Error("dia.LinkView: token animation requires a valid connection path.");l.appendTo(this.paper.cells).animateAlongPath(a,u),setTimeout(r(l,n),i)},findRoute:function(t){t||(t=[]);var e=this.paper.options.routerNamespace||K3,n=this.model.router(),r=this.paper.options.defaultRouter;if(!n)if(r)n=r;else return t.map(Z);var i=Ne(n)?n:e[n.name];if(!Ne(i))throw new Error('dia.LinkView: unknown router: "'+n.name+'".');var s=n.args||{},o=i.call(this,t,s,this);return o||t.map(Z)},findPath:function(t,e,n){var r=this.paper.options.connectorNamespace||SP,i=this.model.connector(),s=this.paper.options.defaultConnector;i||(i=s||{});var o=Ne(i)?i:r[i.name];if(!Ne(o))throw new Error('dia.LinkView: unknown connector: "'+i.name+'".');var a=pr(i.args||{});a.raw=!0;var l=o.call(this,e,n,t,a,this);return typeof l=="string"&&(l=new Lt(lt.normalizePathData(l))),l},getConnection:function(){var t=this.path;return t?t.clone():null},getSerializedConnection:function(){var t=this.path;if(!t)return null;var e=this.metrics;if(e.hasOwnProperty("data"))return e.data;var n=t.serialize();return e.data=n,n},getConnectionSubdivisions:function(){var t=this.path;if(!t)return null;var e=this.metrics;if(e.hasOwnProperty("segmentSubdivisions"))return e.segmentSubdivisions;var n=t.getSegmentSubdivisions();return e.segmentSubdivisions=n,n},getConnectionLength:function(){var t=this.path;if(!t)return 0;var e=this.metrics;if(e.hasOwnProperty("length"))return e.length;var n=t.length({segmentSubdivisions:this.getConnectionSubdivisions()});return e.length=n,n},getPointAtLength:function(t){var e=this.path;return e?e.pointAtLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getPointAtRatio:function(t){var e=this.path;return e?(Nn(t)&&(t=parseFloat(t)/100),e.pointAt(t,{segmentSubdivisions:this.getConnectionSubdivisions()})):null},getTangentAtLength:function(t){var e=this.path;return e?e.tangentAtLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getTangentAtRatio:function(t){var e=this.path;return e?e.tangentAt(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPoint:function(t){var e=this.path;return e?e.closestPoint(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointLength:function(t){var e=this.path;return e?e.closestPointLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointRatio:function(t){var e=this.path;return e?e.closestPointNormalizedLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getLabelPosition:function(t,e,n,r){var i={},s=0,o;typeof n=="number"?(s=n,o=r):o=n,o&&(i.args=o);var a=!(o&&o.absoluteDistance),l=o&&o.absoluteDistance&&o.reverseDistance,u=o&&o.absoluteOffset,h=this.path,f={segmentSubdivisions:this.getConnectionSubdivisions()},v=new Z(t,e),C=h.closestPointT(v,f),b=h.lengthAtT(C,f);a&&(b=b/this.getConnectionLength()||0),l&&(b=-1*(this.getConnectionLength()-b)||1),i.distance=b;var w;u||(w=h.tangentAtT(C));var O;if(w)O=w.pointOffset(v);else{var k=h.pointAtT(C),R=v.difference(k);O={x:R.x,y:R.y}}return i.offset=O,i.angle=s,i},_getLabelTransformationMatrix:function(t){var e,n=0,r={};if(typeof t=="number")e=t;else if(typeof t.distance=="number")r=t.args||{},e=t.distance,n=t.angle||0;else throw new Error("dia.LinkView: invalid label position distance.");var i=e>0&&e<=1,s=0,o={x:0,y:0};if(t.offset){var a=t.offset;typeof a=="number"&&(s=a),a.x&&(o.x=a.x),a.y&&(o.y=a.y)}var l=o.x!==0||o.y!==0||s===0,u=r.keepGradient,h=r.ensureLegibility,f=this.path,v={segmentSubdivisions:this.getConnectionSubdivisions()},C=i?e*this.getConnectionLength():e,b=f.tangentAtLength(C,v),w,O=n;if(b){if(l)w=b.start.clone(),w.offset(o);else{var k=b.clone();k.rotate(b.start,-90),k.setLength(s),w=k.end}u&&(O=b.angle()+n,h&&(O=Mr((O+90)%180-90)))}else w=f.start.clone(),l&&w.offset(o);return lt.createSVGMatrix().translate(w.x,w.y).rotate(O)},getLabelCoordinates:function(t){var e=this._getLabelTransformationMatrix(t);return new Z(e.e,e.f)},getVertexIndex:function(t,e){for(var n=this.model,r=n.vertices(),i=this.getClosestPointLength(new Z(t,e)),s=0,o=r.length;s<o;s++){var a=r[s],l=this.getClosestPointLength(a);if(i<l)break}return s},notifyPointerdown(t,e,n){ie.prototype.pointerdown.call(this,t,e,n),this.notify("link:pointerdown",t,e,n)},notifyPointermove(t,e,n){ie.prototype.pointermove.call(this,t,e,n),this.notify("link:pointermove",t,e,n)},notifyPointerup(t,e,n){this.notify("link:pointerup",t,e,n),ie.prototype.pointerup.call(this,t,e,n)},pointerdblclick:function(t,e,n){ie.prototype.pointerdblclick.apply(this,arguments),this.notify("link:pointerdblclick",t,e,n)},pointerclick:function(t,e,n){ie.prototype.pointerclick.apply(this,arguments),this.notify("link:pointerclick",t,e,n)},contextmenu:function(t,e,n){ie.prototype.contextmenu.apply(this,arguments),this.notify("link:contextmenu",t,e,n)},pointerdown:function(t,e,n){this.notifyPointerdown(t,e,n);var r=t.target.getAttribute("class");switch(r){case"marker-vertex":this.dragVertexStart(t,e,n);return;case"marker-vertex-remove":case"marker-vertex-remove-area":this.dragVertexRemoveStart(t,e,n);return;case"marker-arrowhead":this.dragArrowheadStart(t,e,n);return;case"connection":case"connection-wrap":this.dragConnectionStart(t,e,n);return;case"marker-source":case"marker-target":return}this.dragStart(t,e,n)},pointermove:function(t,e,n){var r=this._dragData;r&&this.eventData(t,r);var i=this.eventData(t);switch(i.action){case"vertex-move":this.dragVertex(t,e,n);break;case"label-move":this.dragLabel(t,e,n);break;case"arrowhead-move":this.dragArrowhead(t,e,n);break;case"move":this.drag(t,e,n);break}r&&jt(r,this.eventData(t)),this.notifyPointermove(t,e,n)},pointerup:function(t,e,n){var r=this._dragData;r&&(this.eventData(t,r),this._dragData=null);var i=this.eventData(t);switch(i.action){case"vertex-move":this.dragVertexEnd(t,e,n);break;case"label-move":this.dragLabelEnd(t,e,n);break;case"arrowhead-move":this.dragArrowheadEnd(t,e,n);break;case"move":this.dragEnd(t,e,n)}this.notifyPointerup(t,e,n),this.checkMouseleave(t)},mouseover:function(t){ie.prototype.mouseover.apply(this,arguments),this.notify("link:mouseover",t)},mouseout:function(t){ie.prototype.mouseout.apply(this,arguments),this.notify("link:mouseout",t)},mouseenter:function(t){ie.prototype.mouseenter.apply(this,arguments),this.notify("link:mouseenter",t)},mouseleave:function(t){ie.prototype.mouseleave.apply(this,arguments),this.notify("link:mouseleave",t)},mousewheel:function(t,e,n,r){ie.prototype.mousewheel.apply(this,arguments),this.notify("link:mousewheel",t,e,n,r)},onevent:function(t,e,n,r){var i=lt(t.target).findParentByClass("link-tool",this.el);if(i){if(t.stopPropagation(),this.can("useLinkTools"))if(e==="remove"){this.model.remove({ui:!0});return}else this.notify(e,t,n,r);this.notifyPointerdown(t,n,r),this.paper.delegateDragEvents(this,t.data)}else ie.prototype.onevent.apply(this,arguments)},onlabel:function(t,e,n){this.notifyPointerdown(t,e,n),this.dragLabelStart(t,e,n);var r=this.eventData(t).stopPropagation;r&&t.stopPropagation()},dragConnectionStart:function(t,e,n){if(this.can("vertexAdd")){var r=this.addVertex({x:e,y:n},{ui:!0});this.eventData(t,{action:"vertex-move",vertexIdx:r})}},dragLabelStart:function(t,e,n){if(this.can("labelMove")){if(this.isDefaultInteractionPrevented(t))return;var r=t.currentTarget,i=parseInt(r.getAttribute("label-idx"),10),s=this._getDefaultLabelPositionProperty(),o=this._normalizeLabelPosition(this._getLabelPositionProperty(i)),a=this._mergeLabelPositionProperty(o,s),l=this.getLabelCoordinates(a),u=l.x-e,h=l.y-n,f=this._getLabelPositionAngle(i),v=this._getLabelPositionArgs(i),C=this._getDefaultLabelPositionArgs(),b=this._mergeLabelPositionArgs(v,C);this.eventData(t,{action:"label-move",labelIdx:i,dx:u,dy:h,positionAngle:f,positionArgs:b,stopPropagation:!0})}else this.eventData(t,{stopPropagation:!0});this.paper.delegateDragEvents(this,t.data)},dragVertexStart:function(t,e,n){if(this.can("vertexMove")){var r=t.target,i=parseInt(r.getAttribute("idx"),10);this.eventData(t,{action:"vertex-move",vertexIdx:i})}},dragVertexRemoveStart:function(t,e,n){if(this.can("vertexRemove")){var r=t.target,i=parseInt(r.getAttribute("idx"),10);this.model.removeVertex(i)}},dragArrowheadStart:function(t,e,n){if(this.can("arrowheadMove")){var r=t.target,i=r.getAttribute("end"),s=this.startArrowheadMove(i,{ignoreBackwardsCompatibility:!0});this.eventData(t,s)}},dragStart:function(t,e,n){this.isDefaultInteractionPrevented(t)||this.can("linkMove")&&this.eventData(t,{action:"move",dx:e,dy:n})},dragLabel:function(t,e,n){var r=this.eventData(t),i={position:this.getLabelPosition(e+r.dx,n+r.dy,r.positionAngle,r.positionArgs)};this.paper.options.snapLabels&&delete i.position.offset;const s={ui:!0};this.paper.isAsync()&&t.type==="touchmove"&&(s.async=!1),this.model.label(r.labelIdx,i,s)},dragVertex:function(t,e,n){var r=this.eventData(t);this.model.vertex(r.vertexIdx,{x:e,y:n},{ui:!0})},dragArrowhead:function(t,e,n){this.paper.options.snapLinks?!this._snapArrowhead(t,e,n)&&this.paper.options.snapLinksSelf&&this._snapArrowheadSelf(t,e,n):this.paper.options.snapLinksSelf?this._snapArrowheadSelf(t,e,n):this._connectArrowhead(this.getEventTarget(t),e,n,this.eventData(t))},drag:function(t,e,n){var r=this.eventData(t);this.model.translate(e-r.dx,n-r.dy,{ui:!0}),this.eventData(t,{dx:e,dy:n})},dragLabelEnd:function(){},dragVertexEnd:function(){},dragArrowheadEnd:function(t,e,n){var r=this.eventData(t),i=this.paper;i.options.snapLinks?this._snapArrowheadEnd(r):this._connectArrowheadEnd(r,e,n),i.linkAllowed(this)?(this._finishEmbedding(r),this._notifyConnectEvent(r,t)):this._disallow(r),this._afterArrowheadMove(r)},dragEnd:function(){},_disallow:function(t){switch(t.whenNotAllowed){case"remove":this.model.remove({ui:!0});break;case"revert":default:this.model.set(t.arrowhead,t.initialEnd,{ui:!0});break}},_finishEmbedding:function(t){this.paper.options.embeddingMode&&this.model.reparent()&&(t.z=null)},_notifyConnectEvent:function(t,e){var n=t.arrowhead,r=t.initialEnd,i=this.model.prop(n),s=i&&!tn.endsEqual(r,i);if(s){var o=this.paper;r.id&&this.notify("link:disconnect",e,o.findViewByModel(r.id),t.initialMagnet,n),i.id&&this.notify("link:connect",e,o.findViewByModel(i.id),t.magnetUnderPointer,n)}},_snapToPoints:function(t,e,n){let r=null,i=1/0,s=null,o=1/0,a=t.x,l=t.y;for(let u=0;u<e.length;u++){const h=Math.abs(e[u].x-t.x);h<i&&(i=h,r=e[u]);const f=Math.abs(e[u].y-t.y);f<o&&(o=f,s=e[u])}return i<n&&(a=r.x),o<n&&(l=s.y),{x:a,y:l}},_snapArrowheadSelf:function(t,e,n){const{paper:r,model:i}=this,{snapLinksSelf:s}=r.options,o=this.eventData(t),a=s.radius||20,l=this.getEndAnchor(o.arrowhead==="source"?"target":"source"),u=i.vertices(),h=[l,...u],f=this._snapToPoints({x:e,y:n},h,a),v=r.localToClientPoint(f);this._connectArrowhead(document.elementFromPoint(v.x,v.y),f.x,f.y,this.eventData(t))},_snapArrowhead:function(t,e,n){const{paper:r}=this,{snapLinks:i,connectionStrategy:s}=r.options,o=this.eventData(t);let a=!1;var l=i.radius||50,u=r.findViewsInArea({x:e-l,y:n-l,width:2*l,height:2*l}),h=o.closestView||null,f=o.closestMagnet||null,v=o.magnetProxy||null;o.closestView=o.closestMagnet=o.magnetProxy=null;var C=Number.MAX_VALUE,b=new Z(e,n);u.forEach(function(y){const d=[];y.el.getAttribute("magnet")!=="false"&&d.push({bbox:y.model.getBBox(),magnet:y.el}),y.$("[magnet]").toArray().forEach(S=>{d.push({bbox:y.getNodeBBox(S),magnet:S})}),d.forEach(S=>{const{magnet:E,bbox:z}=S,W=z.center().squaredDistance(b);W<C&&(f===E||r.options.validateConnection.apply(r,o.validateConnectionArgs(y,y.el===E?null:E)))&&(C=W,o.closestView=y,o.closestMagnet=E)})},this);var w,O=null,k=o.closestView,R=o.closestMagnet;R&&(O=o.magnetProxy=k.findProxyNode(R,"highlighter"));var U=o.arrowhead,F=f!==R;if(h&&F&&h.unhighlight(v,{connecting:!0,snapping:!0}),k){const{prevEnd:y,prevX:d,prevY:S}=o;if(o.prevX=e,o.prevY=n,a=!0,!F&&(typeof s!="function"||d===e&&S===n)||(w=k.getLinkEnd(R,e,n,this.model,U),!F&&ls(y,w)))return a;o.prevEnd=w,F&&k.highlight(O,{connecting:!0,snapping:!0})}else w={x:e,y:n};return this.model.set(U,w||{x:e,y:n},{ui:!0}),h&&this.notify("link:snap:disconnect",t,h,f,U),k&&this.notify("link:snap:connect",t,k,R,U),a},_snapArrowheadEnd:function(t){var e=t.closestView,n=t.closestMagnet;e&&n&&(e.unhighlight(t.magnetProxy,{connecting:!0,snapping:!0}),t.magnetUnderPointer=e.findMagnet(n)),t.closestView=t.closestMagnet=null},_connectArrowhead:function(t,e,n,r){const{paper:i,model:s}=this;if(r.eventTarget!==t){r.magnetProxy&&r.viewUnderPointer.unhighlight(r.magnetProxy,{connecting:!0});const o=r.viewUnderPointer=i.findView(t);if(o){const a=r.magnetUnderPointer=o.findMagnet(t),l=r.magnetProxy=o.findProxyNode(a,"highlighter");a&&this.paper.options.validateConnection.apply(i,r.validateConnectionArgs(o,a))?l&&o.highlight(l,{connecting:!0}):(r.magnetUnderPointer=null,r.magnetProxy=null)}else r.magnetUnderPointer=null,r.magnetProxy=null}r.eventTarget=t,s.set(r.arrowhead,{x:e,y:n},{ui:!0})},_connectArrowheadEnd:function(t={},e,n){const{model:r}=this,{viewUnderPointer:i,magnetUnderPointer:s,magnetProxy:o,arrowhead:a}=t;if(!s||!o||!i)return;i.unhighlight(o,{connecting:!0});const l=i.getLinkEnd(s,e,n,r,a);r.set(a,l,{ui:!0})},_beforeArrowheadMove:function(t){t.z=this.model.get("z"),this.model.toFront();var e=this.el.style;t.pointerEvents=e.pointerEvents,e.pointerEvents="none",this.paper.options.markAvailable&&this._markAvailableMagnets(t)},_afterArrowheadMove:function(t){t.z!==null&&(this.model.set("z",t.z,{ui:!0}),t.z=null),this.el.style.pointerEvents=t.pointerEvents,this.paper.options.markAvailable&&this._unmarkAvailableMagnets(t)},_createValidateConnectionArgs:function(t){var e=[];e[4]=t,e[5]=this;var n,r=0,i=0;t==="source"?(r=2,n="target"):(i=2,n="source");var s=this.model.get(n);if(s.id){var o=e[r]=this.paper.findViewByModel(s.id),a=o.getMagnetFromLinkEnd(s);a===o.el&&(a=void 0),e[r+1]=a}function l(u,h){return e[i]=u,e[i+1]=u.el===h?void 0:h,e}return l},_markAvailableMagnets:function(t){function e(f,v){var C=f.paper,b=C.options.validateConnection;return b.apply(C,this.validateConnectionArgs(f,v))}var n=this.paper,r=n.model.getCells();t.marked={};for(var i=0,s=r.length;i<s;i++){var o=r[i].findView(n);if(o){var a=Array.prototype.slice.call(o.el.querySelectorAll("[magnet]"));o.el.getAttribute("magnet")!=="false"&&a.push(o.el);var l=a.filter(e.bind(t,o));if(l.length>0){for(var u=0,h=l.length;u<h;u++)o.highlight(l[u],{magnetAvailability:!0});o.highlight(null,{elementAvailability:!0}),t.marked[o.model.id]=l}}}},_unmarkAvailableMagnets:function(t){for(var e=Object.keys(t.marked),n,r,i=0,s=e.length;i<s;i++){n=e[i],r=t.marked[n];var o=this.paper.findViewByModel(n);if(o){for(var a=0,l=r.length;a<l;a++)o.unhighlight(r[a],{magnetAvailability:!0});o.unhighlight(null,{elementAvailability:!0})}}t.marked=null},startArrowheadMove:function(t,e){e||(e={});var n={action:"arrowhead-move",arrowhead:t,whenNotAllowed:e.whenNotAllowed||"revert",initialMagnet:this[t+"Magnet"]||(this[t+"View"]?this[t+"View"].el:null),initialEnd:pr(this.model.get(t)),validateConnectionArgs:this._createValidateConnectionArgs(t)};return this._beforeArrowheadMove(n),e.ignoreBackwardsCompatibility!==!0&&(this._dragData=n),n},onMount:function(){ie.prototype.onMount.apply(this,arguments),this.mountLabels()},onDetach:function(){ie.prototype.onDetach.apply(this,arguments),this.unmountLabels()},onRemove:function(){ie.prototype.onRemove.apply(this,arguments),this.unmountLabels()}},{Flags:Xt});Object.defineProperty(ao.prototype,"sourceBBox",{enumerable:!0,get:function(){var t=this.sourceView;if(!t){var e=this.model.source();return new Pt(e.x,e.y)}var n=this.sourceMagnet;return t.isNodeConnection(n)?new Pt(this.sourceAnchor):t.getNodeBBox(n||t.el)}});Object.defineProperty(ao.prototype,"targetBBox",{enumerable:!0,get:function(){var t=this.targetView;if(!t){var e=this.model.target();return new Pt(e.x,e.y)}var n=this.targetMagnet;return t.isNodeConnection(n)?new Pt(this.targetAnchor):t.getNodeBBox(n||t.el)}});const NP=rr.extend({tagName:"path",className:"highlight-stroke",attributes:{"pointer-events":"none","vector-effect":"non-scaling-stroke",fill:"none"},options:{padding:3,rx:0,ry:0,useFirstSubpath:!1,attrs:{"stroke-width":3,stroke:"#FEB663"}},getPathData(t,e){const{options:n}=this,{useFirstSubpath:r}=n;let i;try{const s=lt(e);if(i=s.convertToPathData().trim(),s.tagName()==="PATH"&&r){const o=i.search(/.M/i)+1;o>0&&(i=i.substr(0,o))}}catch{const o=t.getNodeBoundingRect(e);i=lt.rectToPath(jt({},n,o.toJSON()))}return i},highlightConnection(t){this.vel.attr("d",t.getSerializedConnection())},highlightNode(t,e){const{vel:n,options:r}=this,{padding:i,layer:s}=r;let o=this.getNodeMatrix(t,e);if(i){!s&&e===t.el&&n.remove();let a=t.getNodeBoundingRect(e);const l=a.x+a.width/2,u=a.y+a.height/2;a=lt.transformRect(a,o);const h=Math.max(a.width,1),f=Math.max(a.height,1),v=(h+i)/h,C=(f+i)/f,b=lt.createSVGMatrix({a:v,b:0,c:0,d:C,e:l-v*l,f:u-C*u});o=o.multiply(b)}n.attr({d:this.getPathData(t,e),transform:lt.matrixToTransformString(o)})},highlight(t,e){const{vel:n,options:r}=this;n.attr(r.attrs),t.isNodeConnection(e)?this.highlightConnection(t):this.highlightNode(t,e)}}),jp=20;function MP(t,e){const n=t.children();for(;n.length>0;){const r=n.shift();e(r)&&n.push(...r.children())}}const TP=rr.extend({tagName:"rect",className:"highlight-mask",attributes:{"pointer-events":"none"},options:{padding:3,maskClip:jp,deep:!1,attrs:{stroke:"#FEB663","stroke-width":3,"stroke-linecap":"butt","stroke-linejoin":"miter"}},VISIBLE:"white",INVISIBLE:"black",MASK_ROOT_ATTRIBUTE_BLACKLIST:["marker-start","marker-end","marker-mid","transform","stroke-dasharray","class"],MASK_CHILD_ATTRIBUTE_BLACKLIST:["stroke","fill","stroke-width","stroke-opacity","stroke-dasharray","fill-opacity","marker-start","marker-end","marker-mid","class"],MASK_REPLACE_TAGS:["FOREIGNOBJECT","IMAGE","USE","TEXT","TSPAN","TEXTPATH"],MASK_REMOVE_TAGS:["TEXT","TSPAN","TEXTPATH"],transformMaskChild(t,e){const{MASK_CHILD_ATTRIBUTE_BLACKLIST:n,MASK_REPLACE_TAGS:r,MASK_REMOVE_TAGS:i}=this,s=e.tagName();if(!lt.isSVGGraphicsElement(e)||i.includes(s))return e.remove(),!1;if(r.includes(s)){const o=t.vel.findOne(`#${e.id}`);if(o){const{node:a}=o;let l=t.getNodeBoundingRect(a);t.model.isElement()&&(l=lt.transformRect(l,t.getNodeMatrix(a)));const u=lt("rect",l.toJSON()),{x:h,y:f}=l.center(),{angle:v,cx:C=h,cy:b=f}=o.rotate();v&&u.rotate(v,C,b),e.parent().append(u)}return e.remove(),!1}return n.forEach(o=>{o==="fill"&&e.attr("fill")==="none"||e.removeAttr(o)}),!0},transformMaskRoot(t,e){const{MASK_ROOT_ATTRIBUTE_BLACKLIST:n}=this;n.forEach(r=>{e.removeAttr(r)})},getMaskShape(t,e){const{options:n,MASK_REPLACE_TAGS:r}=this,{deep:i}=n,s=e.tagName();let o;if(s==="G"){if(!i)return null;o=e.clone(),MP(o,a=>this.transformMaskChild(t,a))}else{if(r.includes(s))return null;o=e.clone()}return this.transformMaskRoot(t,o),o},getMaskId(){return`highlight-mask-${this.cid}`},getMask(t,e){const{VISIBLE:n,INVISIBLE:r,options:i}=this,{padding:s,attrs:o}=i,a="stroke-width"in o?o["stroke-width"]:1,l=e.attr("fill")!=="none";let u=parseFloat(e.attr("stroke-width"));isNaN(u)&&(u=1);const h=u+s*2,f=h+a*2;let v=this.getMaskShape(t,e);if(!v){const C=t.getNodeBoundingRect(e.node);C.inflate(C.width?0:.5,C.height?0:.5),v=lt("rect",C.toJSON())}return v.attr(o),lt("mask",{id:this.getMaskId()}).append([v.clone().attr({fill:l?n:"none",stroke:n,"stroke-width":f}),v.clone().attr({fill:l?r:"none",stroke:r,"stroke-width":h})])},removeMask(t){const e=t.svg.getElementById(this.getMaskId());e&&t.defs.removeChild(e)},addMask(t,e){t.defs.appendChild(e.node)},highlight(t,e){const{options:n,vel:r}=this,{padding:i,attrs:s,maskClip:o=jp,layer:a}=n,l="stroke"in s?s.stroke:"#000000";!a&&e===t.el&&r.remove();const u=t.getNodeBoundingRect(e).inflate(i+o),h=this.getNodeMatrix(t,e),f=this.getMask(t,lt(e));this.addMask(t.paper,f),r.attr(u.toJSON()),r.attr({transform:lt.matrixToTransformString(h),mask:`url(#${f.id})`,fill:l})},unhighlight(t){this.removeMask(t.paper)}}),PP=rr.extend({UPDATABLE:!1,MOUNTABLE:!1,opacityClassName:nr("highlight-opacity"),highlight:function(t,e){lt(e).addClass(this.opacityClassName)},unhighlight:function(t,e){lt(e).removeClass(this.opacityClassName)}}),Gp=nr("highlighted"),_P=rr.extend({UPDATABLE:!1,MOUNTABLE:!1,options:{className:Gp},highlight:function(t,e){lt(e).addClass(this.options.className)},unhighlight:function(t,e){lt(e).removeClass(this.options.className)}},{className:Gp}),nu={ROW:"row",COLUMN:"column"},EP=rr.extend({tagName:"g",MOUNTABLE:!0,UPDATE_ATTRIBUTES:function(){return[this.options.attribute]},_prevItems:null,highlight(t,e){const n=t.model,{attribute:r,size:i=20,gap:s=5,direction:o=nu.ROW}=this.options;if(!r)throw new Error("List: attribute is required");const a=typeof i=="number"?{width:i,height:i}:i,l=o===nu.ROW,u=l?a.width:a.height;let h=n.get(r);Array.isArray(h)||(h=[]);const f=this._prevItems||[],v=h.map((O,k)=>ls(f[k],h[k]));if(f.length!==h.length||v.some(O=>!O)){const O=this.vel.children(),k=h.map((R,U)=>{const F=U in O?O[U].node:null;if(v[U])return F;const y=this.createListItem(R,a,F);if(!y)return null;if(!(y instanceof SVGElement))throw new Error("List: item must be an SVGElement");y.dataset.index=U,y.dataset.attribute=r;const d=U*(u+s);return y.setAttribute("transform",l?`translate(${d}, 0)`:`translate(0, ${d})`),y});this.vel.empty().append(k),this._prevItems=h}const C=h.length,b=C===0?0:C*u+(C-1)*s,w=l?{width:b,height:a.height}:{width:a.width,height:b};this.position(n,w)},position(t,e){const{vel:n,options:r}=this,{margin:i=5,position:s="top-left"}=r,{width:o,height:a}=t.size(),{left:l,right:u,top:h,bottom:f}=ai(i),v=new Pt(l,h,o-(l+u),a-(h+f));let{x:C,y:b}=My(v,s);switch(s){case Le.CENTER:case Le.TOP:case Le.BOTTOM:{C-=e.width/2;break}case Le.RIGHT:case Le.BOTTOM_RIGHT:case Le.TOP_RIGHT:{C-=e.width;break}}switch(s){case Le.CENTER:case Le.RIGHT:case Le.LEFT:{b-=e.height/2;break}case Le.BOTTOM:case Le.BOTTOM_RIGHT:case Le.BOTTOM_LEFT:{b-=e.height;break}}n.attr("transform",`translate(${C}, ${b})`)}},{Directions:nu,Positions:Le}),DP=Object.freeze(Object.defineProperty({__proto__:null,addClass:_P,list:EP,mask:TP,opacity:PP,stroke:NP},Symbol.toStringTag,{value:"Module"}));function OP(t,e,n,r){var i="ratio"in r?r.ratio:.5;return t.getPointAtRatio(i)}function kP(t,e,n,r){var i="length"in r?r.length:20;return t.getPointAtLength(i)}function LP(t,e,n,r){var i=1e6,s=t.getConnection(),o=t.getConnectionSubdivisions(),a=new Ot(n.clone().offset(0,i),n.clone().offset(0,-i)),l=new Ot(n.clone().offset(i,0),n.clone().offset(-i,0)),u=a.intersect(s,{segmentSubdivisions:o}),h=l.intersect(s,{segmentSubdivisions:o}),f=[];return u&&Array.prototype.push.apply(f,u),h&&Array.prototype.push.apply(f,h),f.length>0?n.chooseClosest(f):"fallbackAt"in r?Uy(t,r.fallbackAt):Fy(t,e,n,r)}function zP(t,e,n,r){var i=t.getClosestPoint(n);return i||new Z}function Xo(t){return function(e,n,r,i){if(r instanceof Element){var s=this.paper.findView(r),o;if(s)if(s.isNodeConnection(r)){var a="fixedAt"in i?i.fixedAt:"50%";o=Uy(s,a)}else o=s.getNodeBBox(r).center();else o=new Z;return t.call(this,e,n,o,i)}return t.apply(this,arguments)}}function Uy(t,e){var n=parseFloat(e);return Nn(e)?t.getPointAtRatio(n/100):t.getPointAtLength(n)}const RP=Xo(LP),Fy=Xo(zP),BP=Object.freeze(Object.defineProperty({__proto__:null,connectionClosest:Fy,connectionLength:kP,connectionPerpendicular:RP,connectionRatio:OP,resolveRef:Xo},Symbol.toStringTag,{value:"Module"}));function nc(t,e,n){if(je(n)){const{x:i,y:s}=n;if(isFinite(s)){const o=new Ot(e,t),{start:a,end:l}=o.parallel(s);e=a,t=l}n=i}if(!isFinite(n))return t;var r=t.distance(e);return n===0&&r>0?t:t.move(e,-Math.min(n,r-1))}function Yd(t){var e=t.getAttribute("stroke-width");return e===null?0:parseFloat(e)||0}function jP(t,e,n=0){let r,i,s,o;const{start:a,end:l}=t;switch(e){case"left":r="x",i=l,s=a,o=-1;break;case"right":r="x",i=a,s=l,o=1;break;case"top":r="y",i=l,s=a,o=-1;break;case"bottom":r="y",i=a,s=l,o=1;break;default:return}a[r]<l[r]?i[r]=s[r]:s[r]=i[r],isFinite(n)&&(i[r]+=o*n,s[r]+=o*n)}function GP(t,e,n,r){let{offset:i,alignOffset:s,align:o}=r;return o&&jP(t,o,s),nc(t.end,t.start,i)}function Yy(t,e,n,r){var i=e.getNodeBBox(n);r.stroke&&i.inflate(Yd(n)/2);var s=t.intersect(i),o=s?t.start.chooseClosest(s):t.end;return nc(o,t.start,r.offset)}function ZP(t,e,n,r){var i=e.model.angle();if(i===0)return Yy(t,e,n,r);var s=e.getNodeUnrotatedBBox(n);r.stroke&&s.inflate(Yd(n)/2);var o=s.center(),a=t.clone().rotate(o,i),l=a.setLength(1e6).intersect(s),u=l?a.start.chooseClosest(l).rotate(o,-i):t.end;return nc(u,t.start,r.offset)}function WP(t){if(!t)return null;var e=t;do{var n=e.tagName;if(typeof n!="string")return null;if(n=n.toUpperCase(),n==="G")e=e.firstElementChild;else if(n==="TITLE")e=e.nextElementSibling;else break}while(e);return e}var ru="segmentSubdivisons",iu="shapeBBox";function UP(t,e,n,r){var i,s,o=r.selector,a=t.end;if(typeof o=="string"?i=e.findBySelector(o)[0]:o===!1?i=n:Array.isArray(o)?i=Po(n,o):i=WP(n),!lt.isSVGGraphicsElement(i)){if(i===n||!lt.isSVGGraphicsElement(n))return a;i=n}var l=e.getNodeShape(i),u=e.getNodeMatrix(i),h=e.getRootTranslateMatrix(),f=e.getRootRotateMatrix(),v=h.multiply(f).multiply(u),C=v.inverse(),b=lt.transformLine(t,C),w=b.start.clone(),O=e.getNodeData(i);if(r.insideout===!1){O[iu]||(O[iu]=l.bbox());var k=O[iu];if(k.containsPoint(w))return a}var R;if(l instanceof Lt){var U=r.precision||2;O[ru]||(O[ru]=l.getSegmentSubdivisions({precision:U})),R={precision:U,segmentSubdivisions:O[ru]}}r.extrapolate===!0&&b.setLength(1e6),s=b.intersect(l,R),s?lt.isArray(s)&&(s=w.chooseClosest(s)):r.sticky===!0&&(l instanceof Pt?s=l.pointNearestToPoint(w):l instanceof mn?s=l.intersectionWithLineFromCenterToPoint(w):s=l.closestPoint(w,R));var F=s?lt.transformPoint(s,v):a,y=r.offset||0;return r.stroke&&(y+=Yd(i)/2),nc(F,t.start,y)}const FP=GP,YP=Yy,VP=ZP,XP=UP,HP=Object.freeze(Object.defineProperty({__proto__:null,anchor:FP,bbox:YP,boundary:XP,rectangle:VP},Symbol.toStringTag,{value:"Module"}));function Ur(t){return function(e,n,r,i){var s=!!i.rotate,o=s?e.getNodeUnrotatedBBox(n):e.getNodeBBox(n),a=o[t](),l=i.dx;if(l){var u=Nn(l);l=parseFloat(l),isFinite(l)&&(u&&(l/=100,l*=o.width),a.x+=l)}var h=i.dy;if(h){var f=Nn(h);h=parseFloat(h),isFinite(h)&&(f&&(h/=100,h*=o.height),a.y+=h)}return s?a.rotate(e.model.getBBox().center(),-e.model.angle()):a}}function JP(t,e,n,r){var i=t.model.angle(),s=t.getNodeBBox(e),o=s.center(),a=s.origin(),l=s.corner(),u=r.padding;if(isFinite(u)||(u=0),a.y+u<=n.y&&n.y<=l.y-u){var h=n.y-o.y;o.x+=i===0||i===180?0:h*1/Math.tan(xn(i)),o.y+=h}else if(a.x+u<=n.x&&n.x<=l.x-u){var f=n.x-o.x;o.y+=i===90||i===270?0:f*Math.tan(xn(i)),o.x+=f}return o}function $P(t,e,n,r){var i=!!r.rotate,s,o,a;i?(s=t.getNodeUnrotatedBBox(e),a=t.model.getBBox().center(),o=t.model.angle()):s=t.getNodeBBox(e);var l=r.padding;isFinite(l)&&s.inflate(l),i&&n.rotate(a,o);var u=s.sideNearestToPoint(n),h;switch(u){case"left":h=s.leftMiddle();break;case"right":h=s.rightMiddle();break;case"top":h=s.topMiddle();break;case"bottom":h=s.bottomMiddle();break}return i?h.rotate(a,-o):h}function KP(t,e,n,r,i){return t.model.getPointFromConnectedLink(this.model,i).offset(r.dx,r.dy)}const QP=Ur("center"),qP=Ur("topMiddle"),t_=Ur("bottomMiddle"),e_=Ur("leftMiddle"),n_=Ur("rightMiddle"),r_=Ur("origin"),i_=Ur("topRight"),s_=Ur("bottomLeft"),o_=Ur("corner"),a_=Xo(JP),l_=Xo($P),c_=KP,u_=Object.freeze(Object.defineProperty({__proto__:null,bottom:t_,bottomLeft:s_,bottomRight:o_,center:QP,left:e_,midSide:l_,modelCenter:c_,perpendicular:a_,right:n_,top:qP,topLeft:r_,topRight:i_},Symbol.toStringTag,{value:"Module"})),ns={NONE:"sorting-none",APPROX:"sorting-approximate",EXACT:"sorting-exact"},f_=50,Zp=20,Wp=1e3,d_=1/0,Ma=9007199254740991,su=ie.Highlighting,Up={[su.DEFAULT]:{name:"stroke",options:{padding:3}},[su.MAGNET_AVAILABILITY]:{name:"addClass",options:{className:"available-magnet"}},[su.ELEMENT_AVAILABILITY]:{name:"addClass",options:{className:"available-cell"}}},h_=[{name:Vn.BACK},{name:Vn.CELLS},{name:Vn.LABELS},{name:Vn.FRONT},{name:Vn.TOOLS}],Vy=Rr.extend({className:"paper",options:{width:800,height:600,origin:{x:0,y:0},gridSize:1,drawGrid:!1,drawGridSize:null,background:!1,perpendicularLinks:!1,elementView:Ye,linkView:ao,snapLabels:!1,snapLinks:!1,snapLinksSelf:!1,labelsLayer:!1,multiLinks:!0,guard:function(t,e){return!1},highlighting:Up,preventContextMenu:!0,preventDefaultBlankAction:!0,preventDefaultViewAction:!0,restrictTranslate:!1,markAvailable:!1,defaultLink:new tn,defaultConnector:{name:"normal"},defaultRouter:{name:"normal"},defaultAnchor:{name:"center"},defaultLinkAnchor:{name:"connectionRatio"},defaultConnectionPoint:{name:"bbox"},connectionStrategy:null,validateMagnet:function(t,e,n){return e.getAttribute("magnet")!=="passive"},validateConnection:function(t,e,n,r,i,s){return(i==="target"?n:t)instanceof Ye},embeddingMode:!1,validateEmbedding:function(t,e){return!0},validateUnembedding:function(t){return!0},findParentBy:"bbox",frontParentOnly:!0,interactive:{labelMove:!1},linkPinning:!0,allowLink:null,clickThreshold:0,moveThreshold:0,magnetThreshold:0,sorting:ns.EXACT,frozen:!1,autoFreeze:!1,onViewUpdate:function(t,e,n,r,i){e&(t.FLAG_INSERT|t.FLAG_REMOVE)||r.mounting||r.isolate||i.requestConnectedLinksUpdate(t,n,r)},onViewPostponed:function(t,e,n){return n.forcePostponedViewUpdate(t,e)},beforeRender:null,afterRender:null,viewport:null,cellViewNamespace:null,routerNamespace:null,connectorNamespace:null,highlighterNamespace:DP,anchorNamespace:u_,linkAnchorNamespace:BP,connectionPointNamespace:HP,overflow:!1},events:{dblclick:"pointerdblclick",dbltap:"pointerdblclick",contextmenu:"contextmenu",mousedown:"pointerdown",touchstart:"pointerdown",mouseover:"mouseover",mouseout:"mouseout",mouseenter:"mouseenter",mouseleave:"mouseleave",wheel:"mousewheel","mouseenter .joint-cell":"mouseenter","mouseleave .joint-cell":"mouseleave","mouseenter .joint-tools":"mouseenter","mouseleave .joint-tools":"mouseleave","dblclick .joint-cell [magnet]":"magnetpointerdblclick","contextmenu .joint-cell [magnet]":"magnetcontextmenu","mousedown .joint-link .label":"onlabel","touchstart .joint-link .label":"onlabel","dragstart .joint-cell image":"onImageDragStart"},documentEvents:{mousemove:"pointermove",touchmove:"pointermove",mouseup:"pointerup",touchend:"pointerup",touchcancel:"pointerup"},svg:null,viewport:null,defs:null,tools:null,$background:null,layers:null,$grid:null,$document:null,_viewportMatrix:null,_viewportTransformString:null,_updates:null,_layers:null,SORT_DELAYING_BATCHES:["add","to-front","to-back"],UPDATE_DELAYING_BATCHES:["translate"],FORM_CONTROL_TAG_NAMES:["TEXTAREA","INPUT","BUTTON","SELECT","OPTION"],GUARDED_TAG_NAMES:["SELECT"],MIN_SCALE:1e-6,init:function(){const{options:t,el:e}=this;t.cellViewNamespace||(t.cellViewNamespace=typeof joint<"u"&&Lr(joint,"shapes")?joint.shapes:null);const n=this.model=t.model||new ec;this._layers={},this.setGrid(t.drawGrid),this.cloneOptions(),this.render(),this._setDimensions(),this.startListening(),this._views={},this._mw_evt_buffer={event:null,deltas:[]},this.$document=ce(e.ownerDocument),this.resetViews(n.attributes.cells.models),!this.isFrozen()&&this.isAsync()&&this.updateViewsAsync()},_resetUpdates:function(){return this._updates={id:null,priorities:[{},{},{}],unmountedCids:[],mountedCids:[],unmounted:{},mounted:{},count:0,keyFrozen:!1,freezeKey:null,sort:!1,disabled:!1,idle:!1}},startListening:function(){var t=this.model;this.listenTo(t,"add",this.onCellAdded).listenTo(t,"remove",this.onCellRemoved).listenTo(t,"change",this.onCellChange).listenTo(t,"reset",this.onGraphReset).listenTo(t,"sort",this.onGraphSort).listenTo(t,"batch:stop",this.onGraphBatchStop),this.on("cell:highlight",this.onCellHighlight).on("cell:unhighlight",this.onCellUnhighlight).on("scale translate",this.update)},onCellAdded:function(t,e,n){var r=n.position;this.isAsync()||!wn(r)?this.renderView(t,n):(n.maxPosition===r&&this.freeze({key:"addCells"}),this.renderView(t,n),r===0&&this.unfreeze({key:"addCells"}))},onCellRemoved:function(t,e,n){const r=this.findViewByModel(t);r&&this.requestViewUpdate(r,r.FLAG_REMOVE,r.UPDATE_PRIORITY,n)},onCellChange:function(t,e){if(t!==this.model.attributes.cells&&t.hasChanged("z")&&this.options.sorting===ns.APPROX){const n=this.findViewByModel(t);n&&this.requestViewUpdate(n,n.FLAG_INSERT,n.UPDATE_PRIORITY,e)}},onGraphReset:function(t,e){this.resetLayers(),this.resetViews(t.models,e)},onGraphSort:function(){this.model.hasActiveBatch(this.SORT_DELAYING_BATCHES)||this.sortViews()},onGraphBatchStop:function(t){if(!this.isFrozen()){var e=t&&t.batchName,n=this.model;if(!this.isAsync()){var r=this.UPDATE_DELAYING_BATCHES;r.includes(e)&&!n.hasActiveBatch(r)&&this.updateViews(t)}var i=this.SORT_DELAYING_BATCHES;i.includes(e)&&!n.hasActiveBatch(i)&&this.sortViews()}},cloneOptions:function(){const{options:t}=this,{defaultConnector:e,defaultRouter:n,defaultConnectionPoint:r,defaultAnchor:i,defaultLinkAnchor:s,origin:o,highlighting:a,cellViewNamespace:l,interactive:u}=t;!l&&typeof joint<"u"&&Lr(joint,"shapes")&&(t.cellViewNamespace=joint.shapes),Ne(e)||(t.defaultConnector=Fn(e)),Ne(n)||(t.defaultRouter=Fn(n)),Ne(r)||(t.defaultConnectionPoint=Fn(r)),Ne(i)||(t.defaultAnchor=Fn(i)),Ne(s)||(t.defaultLinkAnchor=Fn(s)),je(u)&&(t.interactive=jt({},u)),je(a)&&(t.highlighting=Gd({},a,Up)),t.origin=jt({},o)},children:function(){var t=lt.namespace;return[{namespaceURI:t.xhtml,tagName:"div",className:nr("paper-background"),selector:"background"},{namespaceURI:t.xhtml,tagName:"div",className:nr("paper-grid"),selector:"grid"},{namespaceURI:t.svg,tagName:"svg",attributes:{width:"100%",height:"100%","xmlns:xlink":t.xlink},selector:"svg",children:[{tagName:"defs",selector:"defs"},{tagName:"g",className:nr("layers"),selector:"layers"}]}]},hasLayerView(t){return t in this._layers},getLayerView(t){const{_layers:e}=this;if(t in e)return e[t];throw new Error(`dia.Paper: Unknown layer "${t}"`)},getLayerNode(t){return this.getLayerView(t).el},render:function(){this.renderChildren();const{childNodes:t,options:e}=this,{svg:n,defs:r,layers:i,background:s,grid:o}=t;return n.style.overflow=e.overflow?"visible":"hidden",this.svg=n,this.defs=r,this.layers=i,this.$background=ce(s),this.$grid=ce(o),this.renderLayers(),lt.ensureId(n),e.background&&this.drawBackground(e.background),e.drawGrid&&this.drawGrid(),this},renderLayers:function(t=h_){this.removeLayers(),t.forEach(({name:i,sorted:s})=>{const o=new T3({name:i});this.layers.appendChild(o.el),this._layers[i]=o});const e=this.getLayerView(Vn.CELLS),n=this.getLayerView(Vn.TOOLS),r=this.getLayerView(Vn.LABELS);this.tools=n.el,this.cells=this.viewport=e.el,e.vel.addClass(nr("viewport")),r.vel.addClass(nr("viewport"))},removeLayers:function(){const{_layers:t}=this;Object.keys(t).forEach(e=>{t[e].remove(),delete t[e]})},resetLayers:function(){const{_layers:t}=this;Object.keys(t).forEach(e=>{t[e].removePivots()})},update:function(){return this.options.drawGrid&&this.drawGrid(),this._background&&this.updateBackgroundImage(this._background),this},matrix:function(t){var e=this.layers;if(t===void 0){var n=e.getAttribute("transform");return(this._viewportTransformString||null)===n?t=this._viewportMatrix:(t=e.getCTM(),this._viewportMatrix=t,this._viewportTransformString=n),lt.createSVGMatrix(t)}t=lt.createSVGMatrix(t);var r=lt.matrixToTransformString(t);return e.setAttribute("transform",r),this._viewportMatrix=t,this._viewportTransformString=e.getAttribute("transform"),this},clientMatrix:function(){return lt.createSVGMatrix(this.cells.getScreenCTM())},requestConnectedLinksUpdate:function(t,e,n){if(t instanceof ie)for(var r=t.model,i=this.model.getConnectedLinks(r),s=0,o=i.length;s<o;s++){var a=i[s],l=this.findViewByModel(a);if(l){var u=["UPDATE"];a.getTargetCell()===r&&u.push("TARGET"),a.getSourceCell()===r&&u.push("SOURCE");var h=Math.max(e+1,l.UPDATE_PRIORITY);this.scheduleViewUpdate(l,l.getFlag(u),h,n)}}},forcePostponedViewUpdate:function(t,e){if(!t||!(t instanceof ie))return!1;var n=t.model;if(n.isElement())return!1;if(!(e&t.getFlag(["SOURCE","TARGET"]))){var r={silent:!0},i=0,s=this.findViewByModel(n.getSourceCell());s&&!this.isViewMounted(s)&&(i=this.dumpView(s,r),t.updateEndMagnet("source"));var o=0,a=this.findViewByModel(n.getTargetCell());if(a&&!this.isViewMounted(a)&&(o=this.dumpView(a,r),t.updateEndMagnet("target")),i===0&&o===0)return!this.dumpView(t,r)}return!1},requestViewUpdate:function(t,e,n,r){r||(r={}),this.scheduleViewUpdate(t,e,n,r);var i=this.isAsync();if(!(this.isFrozen()||i&&r.async!==!1)&&!this.model.hasActiveBatch(this.UPDATE_DELAYING_BATCHES)){var s=this.updateViews(r);i&&this.notifyAfterRender(s,r)}},scheduleViewUpdate:function(t,e,n,r){const{_updates:i,options:s}=this;i.idle&&s.autoFreeze&&(i.idle=!1,this.unfreeze());const{FLAG_REMOVE:o,FLAG_INSERT:a,UPDATE_PRIORITY:l,cid:u}=t;let h=i.priorities[n];if(h||(h=i.priorities[n]={}),n>l)for(let C=n-1;C>=l;C--){const b=i.priorities[C];!b||!(u in b)||(h[u]|=b[u],delete b[u])}let f=h[u]||0;if((f&e)===e)return;f||i.count++,e&o&&f&a?h[u]^=a:e&a&&f&o&&(h[u]^=o),h[u]|=e;const v=s.onViewUpdate;typeof v=="function"&&v.call(this,t,e,n,r||{},this)},dumpViewUpdate:function(t){if(!t)return 0;var e=this._updates,n=t.cid,r=e.priorities[t.UPDATE_PRIORITY],i=this.registerMountedView(t)|r[n];return delete r[n],i},dumpView:function(t,e={}){const n=this.dumpViewUpdate(t);if(!n)return 0;const r=!e.silent;r&&this.notifyBeforeRender(e);const i=this.updateView(t,n,e);if(r){const s={updated:1,priority:t.UPDATE_PRIORITY};this.notifyAfterRender(s,e)}return i},updateView:function(t,e,n){if(!t)return 0;const{FLAG_REMOVE:r,FLAG_INSERT:i,FLAG_INIT:s,model:o}=t;if(t instanceof ie){if(e&r)return this.removeView(o),0;if(e&i){const a=!!(e&s);a&&(e^=s),this.insertView(t,a),e^=i}}return e?t.confirmUpdate(e,n||{}):0},requireView:function(t,e){var n=this.findViewByModel(t);return n?(this.dumpView(n,e),n):null},registerUnmountedView:function(t){var e=t.cid,n=this._updates;if(e in n.unmounted)return 0;var r=n.unmounted[e]|=t.FLAG_INSERT;return n.unmountedCids.push(e),delete n.mounted[e],r},registerMountedView:function(t){var e=t.cid,n=this._updates;if(e in n.mounted)return 0;n.mounted[e]=!0,n.mountedCids.push(e);var r=n.unmounted[e]||0;return delete n.unmounted[e],r},isViewMounted:function(t){if(!t)return!1;var e=t.cid,n=this._updates;return e in n.mounted},dumpViews:function(t){var e=Un({},t,{viewport:null});this.checkViewport(e),this.updateViews(e)},updateViews:function(t){this.notifyBeforeRender(t);let e,n=0,r=0,i=Ma;do r++,e=this.updateViewsBatch(t),n+=e.updated,i=Math.min(e.priority,i);while(!e.empty);const s={updated:n,batches:r,priority:i};return this.notifyAfterRender(s,t),s},hasScheduledUpdates:function(){const t=this._updates.priorities,e=Object.keys(t);let n=e.length;for(;n>0&&n--;)for(let r in t[e[n]])return!0;return!1},updateViewsAsync:function(t,e){t||(t={}),e||(e={processed:0,priority:Ma});const{_updates:n,options:r}=this,i=n.id;if(i){Fu(i),e.processed===0&&this.hasScheduledUpdates()&&this.notifyBeforeRender(t);const s=this.updateViewsBatch(t),o=Un({},t,{mountBatchSize:Wp-s.mounted,unmountBatchSize:Wp-s.unmounted}),a=this.checkViewport(o),l=a.unmounted,u=a.mounted;let h=e.processed;const f=n.count;s.updated>0?(h+=s.updated+s.unmounted,s.processed=h,e.priority=Math.min(s.priority,e.priority),s.empty&&u===0?(s.unmounted+=l,s.mounted+=u,s.priority=e.priority,this.notifyAfterRender(s,t),e.processed=0,e.priority=Ma,n.count=0):e.processed=h):n.idle||r.autoFreeze&&(this.freeze(),n.idle=!0,this.trigger("render:idle",t));const v=t.progress;if(f&&typeof v=="function"&&v.call(this,s.empty,h,f,s,this),n.id!==i)return}if(n.disabled)throw new Error("dia.Paper: can not unfreeze the paper after it was removed");n.id=Uu(this.updateViewsAsync,this,t,e)},notifyBeforeRender:function(t={}){let e=t.beforeRender;typeof e!="function"&&(e=this.options.beforeRender,typeof e!="function")||e.call(this,t,this)},notifyAfterRender:function(t,e={}){let n=e.afterRender;typeof n!="function"&&(n=this.options.afterRender),typeof n=="function"&&n.call(this,t,e,this),this.trigger("render:done",t,e)},updateViewsBatch:function(t){t||(t={});var e=t.batchSize||d_,n=this._updates,r=0,i=0,s=0,o=0,a=Ma,l=!0,u=this.options,h=n.priorities,f="viewport"in t?t.viewport:u.viewport;typeof f!="function"&&(f=null);var v=u.onViewPostponed;typeof v!="function"&&(v=null);var C=Object.keys(h);t:for(var b=0,w=C.length;b<w;b++){var O=+C[b],k=h[O];for(var R in k){if(r>=e){l=!1;break t}var U=Mi[R];if(!U){delete k[R];continue}var F=k[R];if(!(F&U.FLAG_REMOVE)){var y=R in n.unmounted;if(U.DETACHABLE&&f&&!f.call(this,U,!y,this)){y||(this.registerUnmountedView(U),this.detachView(U)),n.unmounted[R]|=F,delete k[R],s++;continue}y&&(F|=U.FLAG_INSERT,o++),F|=this.registerMountedView(U)}var d=this.updateView(U,F,t);if(d>0&&(k[R]=d,!v||!v.call(this,U,d,this)||k[R])){i++,l=!1;continue}a>O&&(a=O),r++,delete k[R]}}return{priority:a,updated:r,postponed:i,unmounted:s,mounted:o,empty:l}},getUnmountedViews:function(){const t=this._updates,e=Object.keys(t.unmounted),n=e.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=Mi[e[i]];return r},getMountedViews:function(){const t=this._updates,e=Object.keys(t.mounted),n=e.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=Mi[e[i]];return r},checkUnmountedViews:function(t,e){e||(e={});var n=0;typeof t!="function"&&(t=null);for(var r=("mountBatchSize"in e)?e.mountBatchSize:1/0,i=this._updates,s=i.unmountedCids,o=i.unmounted,a=0,l=Math.min(s.length,r);a<l;a++){var u=s[a];if(u in o){var h=Mi[u];if(h){if(h.DETACHABLE&&t&&!t.call(this,h,!1,this)){s.push(u);continue}n++;var f=this.registerMountedView(h);f&&this.scheduleViewUpdate(h,f,h.UPDATE_PRIORITY,{mounting:!0})}}}return s.splice(0,a),n},checkMountedViews:function(t,e){e||(e={});var n=0;if(typeof t!="function")return n;for(var r=("unmountBatchSize"in e)?e.unmountBatchSize:1/0,i=this._updates,s=i.mountedCids,o=i.mounted,a=0,l=Math.min(s.length,r);a<l;a++){var u=s[a];if(u in o){var h=Mi[u];if(h){if(!h.DETACHABLE||t.call(this,h,!0,this)){s.push(u);continue}n++;var f=this.registerUnmountedView(h);f&&this.detachView(h)}}}return s.splice(0,a),n},checkViewVisibility:function(t,e={}){let n="viewport"in e?e.viewport:this.options.viewport;typeof n!="function"&&(n=null);const r=this._updates,{mounted:i,unmounted:s}=r,o=!t.DETACHABLE||!n||n.call(this,t,!1,this);let a=!1,l=!1;if(t.cid in i&&!o){this.registerUnmountedView(t)&&this.detachView(t);const f=r.mountedCids.indexOf(t.cid);r.mountedCids.splice(f,1),a=!0}if(!a&&t.cid in s&&o){const h=r.unmountedCids.indexOf(t.cid);r.unmountedCids.splice(h,1);var u=this.registerMountedView(t);u&&this.scheduleViewUpdate(t,u,t.UPDATE_PRIORITY,{mounting:!0}),l=!0}return{mounted:l?1:0,unmounted:a?1:0}},checkViewport:function(t){var e=Un({},t,{mountBatchSize:1/0,unmountBatchSize:1/0}),n="viewport"in e?e.viewport:this.options.viewport,r=this.checkMountedViews(n,e);if(r>0){var i=this._updates.unmountedCids;e.mountBatchSize=Math.min(i.length-r,e.mountBatchSize)}var s=this.checkUnmountedViews(n,e);return{mounted:s,unmounted:r}},freeze:function(t){t||(t={});var e=this._updates,n=t.key,r=this.options.frozen,i=e.freezeKey;if(n&&n!==i){if(r&&i)return;e.freezeKey=n,e.keyFrozen=r}this.options.frozen=!0;var s=e.id;e.id=null,this.isAsync()&&s&&Fu(s)},unfreeze:function(t){t||(t={});var e=this._updates,n=t.key,r=e.freezeKey;n&&r&&n!==r||(e.freezeKey=null,!(n&&n===r&&e.keyFrozen)&&(this.isAsync()?(this.freeze(),this.updateViewsAsync(t)):this.updateViews(t),this.options.frozen=e.keyFrozen=!1,e.sort&&(this.sortViews(),e.sort=!1)))},isAsync:function(){return!!this.options.async},isFrozen:function(){return!!this.options.frozen},isExactSorting:function(){return this.options.sorting===ns.EXACT},onRemove:function(){this.freeze(),this._updates.disabled=!0,this.removeLayers(),this.removeViews()},getComputedSize:function(){var t=this.options,e=t.width,n=t.height;return wn(e)||(e=this.el.clientWidth),wn(n)||(n=this.el.clientHeight),{width:e,height:n}},setDimensions:function(t,e){const{options:n}=this,{width:r,height:i}=n;let s=t===void 0?r:t,o=e===void 0?i:e;if(r===s&&i===o)return;n.width=s,n.height=o,this._setDimensions();const a=this.getComputedSize();this.trigger("resize",a.width,a.height)},_setDimensions:function(){const{options:t}=this;let e=t.width,n=t.height;wn(e)&&(e=Math.round(e)),wn(n)&&(n=Math.round(n)),this.$el.css({width:e===null?"":e,height:n===null?"":n})},setOrigin:function(t,e){return this.translate(t||0,e||0)},fitToContent:function(t,e,n,r){fe(t)?r=t:r=jt({gridWidth:t,gridHeight:e,padding:n},r);const{x:i,y:s,width:o,height:a}=this.getFitToContentArea(r),{sx:l,sy:u}=this.scale();return this.setOrigin(-i*l,-s*u),this.setDimensions(o*l,a*u),new Pt(i,s,o,a)},getFitToContentArea:function(t={}){const e=t.gridWidth||1,n=t.gridHeight||1,r=ai(t.padding||0),i=Math.max(t.minWidth||0,e),s=Math.max(t.minHeight||0,n),o=t.maxWidth||Number.MAX_VALUE,a=t.maxHeight||Number.MAX_VALUE,l=t.allowNewOrigin,u="contentArea"in t?new Pt(t.contentArea):this.getContentArea(t),{sx:h,sy:f}=this.scale();u.x*=h,u.y*=f,u.width*=h,u.height*=f;let v=Math.ceil((u.width+u.x)/e),C=Math.ceil((u.height+u.y)/n);t.allowNegativeBottomRight||(v=Math.max(v,1),C=Math.max(C,1)),v*=e,C*=n;let b=0;(l==="negative"&&u.x<0||l==="positive"&&u.x>=0||l==="any")&&(b=Math.ceil(-u.x/e)*e,b+=r.left,v+=b);let w=0;return(l==="negative"&&u.y<0||l==="positive"&&u.y>=0||l==="any")&&(w=Math.ceil(-u.y/n)*n,w+=r.top,C+=w),v+=r.right,C+=r.bottom,v=Math.max(v,i),C=Math.max(C,s),v=Math.min(v,o),C=Math.min(C,a),new Pt(-b/h,-w/f,v/h,C/f)},transformToFitContent:function(t){t||(t={});let e,n;if("contentArea"in t){const O=t.contentArea;e=this.localToPaperRect(O),n=new Z(O)}else e=this.getContentBBox(t),n=this.paperToLocalPoint(e);if(!e.width||!e.height)return;Un(t,{padding:0,preserveAspectRatio:!0,scaleGrid:null,minScale:0,maxScale:Number.MAX_VALUE,verticalAlign:"top",horizontalAlign:"left"});const r=ai(t.padding),i=t.minScaleX||t.minScale,s=t.maxScaleX||t.maxScale,o=t.minScaleY||t.minScale,a=t.maxScaleY||t.maxScale;let l;if(t.fittingBBox)l=t.fittingBBox;else{const O=this.translate(),k=this.getComputedSize();l={x:O.tx,y:O.ty,width:k.width,height:k.height}}l=new Pt(l).moveAndExpand({x:r.left,y:r.top,width:-r.left-r.right,height:-r.top-r.bottom});const u=this.scale();let h=l.width/e.width*u.sx,f=l.height/e.height*u.sy;if(t.preserveAspectRatio&&(h=f=Math.min(h,f)),t.scaleGrid){const O=t.scaleGrid;h=O*Math.floor(h/O),f=O*Math.floor(f/O)}h=Math.min(s,Math.max(i,h)),f=Math.min(a,Math.max(o,f));const v={x:h/u.sx,y:f/u.sy},C=this.options.origin;let b=l.x-n.x*h-C.x,w=l.y-n.y*f-C.y;switch(t.verticalAlign){case"middle":w=w+(l.height-e.height*v.y)/2;break;case"bottom":w=w+(l.height-e.height*v.y);break}switch(t.horizontalAlign){case"middle":b=b+(l.width-e.width*v.x)/2;break;case"right":b=b+(l.width-e.width*v.x);break}this.scale(h,f),this.translate(b,w)},scaleContentToFit:function(t){this.transformToFitContent(t)},getContentArea:function(t){return t&&t.useModelGeometry?this.model.getBBox()||new Pt:lt(this.cells).getBBox()},getContentBBox:function(t){return this.localToPaperRect(this.getContentArea(t))},getArea:function(){return this.paperToLocalRect(this.getComputedSize())},getRestrictedArea:function(...t){const{restrictTranslate:e}=this.options;let n;return Ne(e)?n=e.apply(this,t):e===!0?n=this.getArea():e?n=new Pt(e):n=null,n},createViewForModel:function(t){const{options:e}=this;var n,r,i=e.cellViewNamespace,s=t.get("type")+"View",o=Po(i,s,".");t.isLink()?(n=e.linkView,r=ao):(n=e.elementView,r=Ye);var a=n.prototype instanceof on.View?o||n:n.call(this,t)||o||r;return new a({model:t,interactive:e.interactive,labelsLayer:e.labelsLayer===!0?Vn.LABELS:e.labelsLayer})},removeView:function(t){const{id:e}=t,{_views:n,_updates:r}=this,i=n[e];if(i){var{cid:s}=i;const{mounted:o,unmounted:a}=r;i.remove(),delete n[e],delete o[s],delete a[s]}return i},renderView:function(t,e){const{id:n}=t,r=this._views;let i,s,o=!0;return n in r&&(i=r[n],i.model===t?(s=i.FLAG_INSERT,o=!1):this.removeView(t)),o&&(i=r[n]=this.createViewForModel(t),i.paper=this,s=this.registerUnmountedView(i)|this.FLAG_INIT|i.getFlag(Ge(i,"initFlag"))),this.requestViewUpdate(i,s,i.UPDATE_PRIORITY,e),i},onImageDragStart:function(){return!1},resetViews:function(t,e){e||(e={}),t||(t=[]),this._resetUpdates(),this.removeViews();const n=this.options.autoFreeze?null:"reset";this.freeze({key:n});for(var r=0,i=t.length;r<i;r++)this.renderView(t[r],e);this.unfreeze({key:n}),this.sortViews()},removeViews:function(){Ar(this._views,"remove"),this._views={}},sortViews:function(){if(this.isExactSorting()){if(this.isFrozen()){this._updates.sort=!0;return}this.sortViewsExact()}},sortViewsExact:function(){var t=ce(this.cells).children("[model-id]"),e=this.model.get("cells");JT(t,function(n,r){var i=e.get(n.getAttribute("model-id")),s=e.get(r.getAttribute("model-id")),o=i.attributes.z||0,a=s.attributes.z||0;return o===a?0:o<a?-1:1})},insertView:function(t,e){const n=this.getLayerView(Vn.CELLS),{el:r,model:i}=t;switch(this.options.sorting){case ns.APPROX:n.insertSortedNode(r,i.get("z"));break;case ns.EXACT:default:n.insertNode(r);break}t.onMount(e)},detachView(t){t.unmount(),t.onDetach()},scale:function(t,e,n,r){if(t===void 0)return lt.matrixToScale(this.matrix());e===void 0&&(e=t),n===void 0&&(n=0,r=0);var i=this.translate();if(n||r||i.tx||i.ty){var s=i.tx-n*(t-1),o=i.ty-r*(e-1);this.translate(s,o)}t=Math.max(t||0,this.MIN_SCALE),e=Math.max(e||0,this.MIN_SCALE);var a=this.matrix();return a.a=t,a.d=e,this.matrix(a),this.trigger("scale",t,e,n,r),this},rotate:function(t,e,n){if(t===void 0)return lt.matrixToRotate(this.matrix());if(e===void 0){var r=this.cells.getBBox();e=r.width/2,n=r.height/2}var i=this.matrix().translate(e,n).rotate(t).translate(-e,-n);return this.matrix(i),this},translate:function(t,e){if(t===void 0)return lt.matrixToTranslate(this.matrix());const{options:n}=this,{origin:r,drawGrid:i}=n;t||(t=0),e||(e=0);const s=this.matrix();if(s.e===t&&s.f===e)return this;s.e=t,s.f=e,this.matrix(s);const{tx:o,ty:a}=this.translate();return r.x=o,r.y=a,this.trigger("translate",o,a),i&&this.drawGrid(),this},findView:function(t){var e=ln(t)?this.cells.querySelector(t):t instanceof ce?t[0]:t,n=this.findAttribute("model-id",e);if(n)return this._views[n]},findViewByModel:function(t){var e=ln(t)||wn(t)?t:t&&t.id;return this._views[e]},findViewsFromPoint:function(t){t=new Z(t);var e=this.model.getElements().map(this.findViewByModel,this);return e.filter(function(n){return n&&n.vel.getBBox({target:this.cells}).containsPoint(t)},this)},findViewsInArea:function(t,e){e=Un(e||{},{strict:!1}),t=new Pt(t);var n=this.model.getElements().map(this.findViewByModel,this),r=e.strict?"containsRect":"intersect";return n.filter(function(i){return i&&t[r](i.vel.getBBox({target:this.cells}))},this)},removeTools:function(){return this.dispatchToolsEvent("remove"),this},hideTools:function(){return this.dispatchToolsEvent("hide"),this},showTools:function(){return this.dispatchToolsEvent("show"),this},dispatchToolsEvent:function(t,...e){typeof t=="string"&&this.trigger("tools:event",t,...e)},getModelById:function(t){return this.model.getCell(t)},snapToGrid:function(t,e){return this.clientToLocalPoint(t,e).snapToGrid(this.options.gridSize)},localToPaperPoint:function(t,e){var n=new Z(t,e),r=lt.transformPoint(n,this.matrix());return r},localToPaperRect:function(t,e,n,r){var i=new Pt(t,e,n,r),s=lt.transformRect(i,this.matrix());return s},paperToLocalPoint:function(t,e){var n=new Z(t,e),r=lt.transformPoint(n,this.matrix().inverse());return r},paperToLocalRect:function(t,e,n,r){var i=new Pt(t,e,n,r),s=lt.transformRect(i,this.matrix().inverse());return s},localToClientPoint:function(t,e){var n=new Z(t,e),r=lt.transformPoint(n,this.clientMatrix());return r},localToClientRect:function(t,e,n,r){var i=new Pt(t,e,n,r),s=lt.transformRect(i,this.clientMatrix());return s},clientToLocalPoint:function(t,e){var n=new Z(t,e),r=lt.transformPoint(n,this.clientMatrix().inverse());return r},clientToLocalRect:function(t,e,n,r){var i=new Pt(t,e,n,r),s=lt.transformRect(i,this.clientMatrix().inverse());return s},localToPagePoint:function(t,e){return this.localToPaperPoint(t,e).offset(this.pageOffset())},localToPageRect:function(t,e,n,r){return this.localToPaperRect(t,e,n,r).offset(this.pageOffset())},pageToLocalPoint:function(t,e){var n=new Z(t,e),r=n.difference(this.pageOffset());return this.paperToLocalPoint(r)},pageToLocalRect:function(t,e,n,r){var i=this.pageOffset(),s=new Pt(t,e,n,r);return s.x-=i.x,s.y-=i.y,this.paperToLocalRect(s)},clientOffset:function(){var t=this.svg.getBoundingClientRect();return new Z(t.left,t.top)},pageOffset:function(){return this.clientOffset().offset(window.scrollX,window.scrollY)},linkAllowed:function(t){if(!(t instanceof ao))throw new Error("Must provide a linkView.");var e=t.model,n=this.options,r=this.model,i=r.constructor.validations;return!(!n.multiLinks&&!i.multiLinks.call(this,r,e)||!n.linkPinning&&!i.linkPinning.call(this,r,e)||typeof n.allowLink=="function"&&!n.allowLink.call(this,t,this))},getDefaultLink:function(t,e){return Ne(this.options.defaultLink)?this.options.defaultLink.call(this,t,e):this.options.defaultLink.clone()},resolveHighlighter:function(t={}){let{highlighter:e,type:n}=t;const{highlighting:r,highlighterNamespace:i}=this.options;if(e===void 0){if(!r||n&&(e=r[n],e===!1))return!1;e||(e=r.default)}if(!e)return!1;ln(e)&&(e={name:e});const s=e.name,o=i[s];if(!o)throw new Error('Unknown highlighter ("'+s+'")');if(typeof o.highlight!="function")throw new Error('Highlighter ("'+s+'") is missing required highlight() method');if(typeof o.unhighlight!="function")throw new Error('Highlighter ("'+s+'") is missing required unhighlight() method');return{highlighter:o,options:e.options||{},name:s}},onCellHighlight:function(t,e,n){const r=this.resolveHighlighter(n);if(!r)return;const{highlighter:i,options:s}=r;i.highlight(t,e,s)},onCellUnhighlight:function(t,e,n){const r=this.resolveHighlighter(n);if(!r)return;const{highlighter:i,options:s}=r;i.unhighlight(t,e,s)},pointerdblclick:function(t){t.preventDefault(),t=Be(t);var e=this.findView(t.target);if(!this.guard(t,e)){var n=this.snapToGrid(t.clientX,t.clientY);e?e.pointerdblclick(t,n.x,n.y):this.trigger("blank:pointerdblclick",t,n.x,n.y)}},pointerclick:function(t){var e=this.eventData(t);if(e.mousemoved<=this.options.clickThreshold){t=Be(t);var n=this.findView(t.target);if(this.guard(t,n))return;var r=this.snapToGrid(t.clientX,t.clientY);n?n.pointerclick(t,r.x,r.y):this.trigger("blank:pointerclick",t,r.x,r.y)}},contextmenu:function(t){if(this.options.preventContextMenu&&t.preventDefault(),this.contextMenuFired){this.contextMenuFired=!1;return}t=Be(t),this.contextMenuTrigger(t)},contextMenuTrigger:function(t){var e=this.findView(t.target);if(!this.guard(t,e)){var n=this.snapToGrid(t.clientX,t.clientY);e?e.contextmenu(t,n.x,n.y):this.trigger("blank:contextmenu",t,n.x,n.y)}},pointerdown:function(t){t=Be(t);const{target:e,button:n}=t,r=this.findView(e),i=n===2;if(r){if(!i&&this.guard(t,r))return;const s=this.FORM_CONTROL_TAG_NAMES.includes(e.tagName);this.options.preventDefaultViewAction&&!s&&t.preventDefault(),s&&r.preventDefaultInteraction(t);const o=r.el,a=e.closest("[event]");if(a&&o!==a&&r.el.contains(a)){const u=Be(ce.Event(t.originalEvent,{data:t.data,currentTarget:a}));if(this.onevent(u),u.isDefaultPrevented()&&t.preventDefault(),u.isPropagationStopped())return;t.data=u.data}const l=e.closest("[magnet]");if(l&&r.el!==l&&r.el.contains(l)){const u=Be(ce.Event(t.originalEvent,{data:t.data,currentTarget:l}));if(this.onmagnet(u),u.isDefaultPrevented()&&t.preventDefault(),u.isPropagationStopped()){if(i)return;this.delegateDragEvents(r,u.data);return}t.data=u.data}}if(i){this.contextMenuFired=!0;const s=ce.Event(t.originalEvent,{type:"contextmenu",data:t.data});this.contextMenuTrigger(s)}else{const s=this.snapToGrid(t.clientX,t.clientY);r?r.pointerdown(t,s.x,s.y):(this.options.preventDefaultBlankAction&&t.preventDefault(),this.trigger("blank:pointerdown",t,s.x,s.y)),this.delegateDragEvents(r,t.data)}},pointermove:function(t){var e=this.eventData(t);e.mousemoved||(e.mousemoved=0,this.undelegateEvents());var n=++e.mousemoved;if(!(n<=this.options.moveThreshold)){t=Be(t);var r=this.snapToGrid(t.clientX,t.clientY),i=e.sourceView;i?i.pointermove(t,r.x,r.y):this.trigger("blank:pointermove",t,r.x,r.y),this.eventData(t,e)}},pointerup:function(t){this.undelegateDocumentEvents();var e=Be(t),n=this.snapToGrid(e.clientX,e.clientY),r=this.eventData(t).sourceView;r?r.pointerup(e,n.x,n.y):this.trigger("blank:pointerup",e,n.x,n.y),e.isPropagationStopped()||this.pointerclick(ce.Event(t.originalEvent,{type:"click",data:t.data})),this.delegateEvents()},mouseover:function(t){t=Be(t);var e=this.findView(t.target);if(!this.guard(t,e))if(e)e.mouseover(t);else{if(this.el===t.target)return;this.trigger("blank:mouseover",t)}},mouseout:function(t){t=Be(t);var e=this.findView(t.target);if(!this.guard(t,e))if(e)e.mouseout(t);else{if(this.el===t.target)return;this.trigger("blank:mouseout",t)}},mouseenter:function(t){t=Be(t);const{target:e,relatedTarget:n,currentTarget:r}=t,i=this.findView(e);if(this.guard(t,i))return;const s=this.findView(n);i&&(s===i||(i.mouseenter(t),this.el.contains(n)))||s||r===this.el&&this.trigger("paper:mouseenter",t)},mouseleave:function(t){t=Be(t);const{target:e,relatedTarget:n,currentTarget:r}=t,i=this.findView(e);if(this.guard(t,i))return;const s=this.findView(n);i&&(s===i||(i.mouseleave(t),this.el.contains(n)))||s||r===this.el&&this.trigger("paper:mouseleave",t)},_processMouseWheelEvtBuf:kT(function(){const{event:t,deltas:e}=this._mw_evt_buffer,n=e.reduce((o,a)=>o+YT(a,f_),0),r=Math.pow(.995,n),{x:i,y:s}=this.clientToLocalPoint(t.clientX,t.clientY);this.trigger("paper:pinch",t,i,s,r),this._mw_evt_buffer={event:null,deltas:[]}},Zp,{maxWait:Zp}),mousewheel:function(t){t=Be(t);const e=this.findView(t.target);if(this.guard(t,e))return;const n=t.originalEvent,r=this.snapToGrid(n.clientX,n.clientY),{deltaX:i,deltaY:s}=FT(n),o=this._events["paper:pinch"];if(t.ctrlKey&&o&&o.length>0)n.preventDefault(),this._mw_evt_buffer.event=n,this._mw_evt_buffer.deltas.push(s),this._processMouseWheelEvtBuf();else{const a=Math.max(-1,Math.min(1,n.wheelDelta));e?e.mousewheel(t,r.x,r.y,a):this.trigger("blank:mousewheel",t,r.x,r.y,a),this.trigger("paper:pan",t,i,s)}},onevent:function(t){var e=t.currentTarget,n=e.getAttribute("event");if(n){var r=this.findView(e);if(r){if(t=Be(t),this.guard(t,r))return;var i=this.snapToGrid(t.clientX,t.clientY);r.onevent(t,n,i.x,i.y)}}},magnetEvent:function(t,e){var n=t.currentTarget,r=n.getAttribute("magnet");if(r){var i=this.findView(n);if(i){if(t=Be(t),this.guard(t,i))return;var s=this.snapToGrid(t.clientX,t.clientY);e.call(this,i,t,n,s.x,s.y)}}},onmagnet:function(t){if(t.button===2){this.contextMenuFired=!0,this.magnetContextMenuFired=!0;const e=ce.Event(t.originalEvent,{type:"contextmenu",data:t.data,currentTarget:t.currentTarget});this.magnetContextMenuTrigger(e),e.isPropagationStopped()&&t.stopPropagation()}else this.magnetEvent(t,function(e,n,r,i,s){e.onmagnet(n,i,s)})},magnetpointerdblclick:function(t){this.magnetEvent(t,function(e,n,r,i,s){e.magnetpointerdblclick(n,r,i,s)})},magnetcontextmenu:function(t){if(this.options.preventContextMenu&&t.preventDefault(),this.magnetContextMenuFired){this.magnetContextMenuFired=!1;return}this.magnetContextMenuTrigger(t)},magnetContextMenuTrigger:function(t){this.magnetEvent(t,function(e,n,r,i,s){e.magnetcontextmenu(n,r,i,s)})},onlabel:function(t){var e=t.currentTarget,n=this.findView(e);if(n){if(t=Be(t),this.guard(t,n))return;var r=this.snapToGrid(t.clientX,t.clientY);n.onlabel(t,r.x,r.y)}},getPointerArgs(t){const e=Be(t),{x:n,y:r}=this.snapToGrid(e.clientX,e.clientY);return[e,n,r]},delegateDragEvents:function(t,e){e||(e={}),this.eventData({data:e},{sourceView:t||null,mousemoved:0}),this.delegateDocumentEvents(null,e)},guard:function(t,e){if(t.type==="mousedown"&&t.button===2||this.options.guard&&this.options.guard(t,e))return!0;if(t.data&&t.data.guarded!==void 0)return t.data.guarded;const{target:n}=t;return this.GUARDED_TAG_NAMES.includes(n.tagName)?!0:!(e&&e.model&&e.model instanceof Sr||this.svg===n||this.el===n||ce.contains(this.svg,n))},setGridSize:function(t){const{options:e}=this;return e.gridSize=t,e.drawGrid&&!e.drawGridSize&&this.drawGrid(),this},clearGrid:function(){return this.$grid&&this.$grid.css("backgroundImage","none"),this},_getGridRefs:function(){return this._gridCache||(this._gridCache={root:lt("svg",{width:"100%",height:"100%"},lt("defs")),patterns:{},add:function(t,e){lt(this.root.node.childNodes[0]).append(e),this.patterns[t]=e,this.root.append(lt("rect",{width:"100%",height:"100%",fill:"url(#"+t+")"}))},get:function(t){return this.patterns[t]},exist:function(t){return this.patterns[t]!==void 0}}),this._gridCache},setGrid:function(t){this.clearGrid(),this._gridCache=null,this._gridSettings=[];var e=Array.isArray(t)?t:[t||{}];return e.forEach(function(n){this._gridSettings.push.apply(this._gridSettings,this._resolveDrawGridOption(n))},this),this},_resolveDrawGridOption:function(t){var e=this.constructor.gridPatterns;if(ln(t)&&Array.isArray(e[t]))return e[t].map(function(l){return jt({},l)});var n=t||{args:[{}]},r=Array.isArray(n),i=n.name;if(!r&&!i&&!n.markup&&(i="dot"),i&&Array.isArray(e[i])){var s=e[i].map(function(l){return jt({},l)}),o=Array.isArray(n.args)?n.args:[n.args||{}];Un(o[0],Gi(t,"args"));for(var a=0;a<o.length;a++)s[a]&&jt(s[a],o[a]);return s}return r?n:[n]},drawGrid:function(t){const e=this.options.drawGridSize||this.options.gridSize;if(e<=1)return this.clearGrid();var n=Array.isArray(t)?t:[t],r=this.matrix(),i=this._getGridRefs();this._gridSettings.forEach(function(o,a){var l="pattern_"+a,u=Fe(o,n[a],{sx:r.a||1,sy:r.d||1,ox:r.e||0,oy:r.f||0});u.width=e*(r.a||1)*(u.scaleFactor||1),u.height=e*(r.d||1)*(u.scaleFactor||1),i.exist(l)||i.add(l,lt("pattern",{id:l,patternUnits:"userSpaceOnUse"},lt(u.markup)));var h=i.get(l);Ne(u.update)&&u.update(h.node.childNodes[0],u);var f=u.ox%u.width;f<0&&(f+=u.width);var v=u.oy%u.height;v<0&&(v+=u.height),h.attr({x:f,y:v,width:u.width,height:u.height})});var s=new XMLSerializer().serializeToString(i.root.node);return s="url(data:image/svg+xml;base64,"+btoa(s)+")",this.$grid.css("backgroundImage",s),this},updateBackgroundImage:function(t){t=t||{};var e=t.position||"center",n=t.size||"auto auto",r=this.scale(),i=this.translate();if(fe(e)){var s=i.tx+r.sx*(e.x||0),o=i.ty+r.sy*(e.y||0);e=s+"px "+o+"px"}fe(n)&&(n=new Pt(n).scale(r.sx,r.sy),n=n.width+"px "+n.height+"px"),this.$background.css({backgroundSize:n,backgroundPosition:e})},drawBackgroundImage:function(t,e){if(!(t instanceof HTMLImageElement)){this.$background.css("backgroundImage","");return}if(!(!this._background||this._background.id!==e.id)){e=e||{};var n,r=e.size,i=e.repeat||"no-repeat",s=e.opacity||1,o=Math.abs(e.quality)||1,a=this.constructor.backgroundPatterns[BT(i)];if(Ne(a)){t.width*=o,t.height*=o;var l=a(t,e);if(!(l instanceof HTMLCanvasElement))throw new Error("dia.Paper: background pattern must return an HTML Canvas instance");n=l.toDataURL("image/png"),i="repeat",fe(r)?(r.width*=l.width/t.width,r.height*=l.height/t.height):r===void 0&&(e.size={width:l.width/o,height:l.height/o})}else n=t.src,r===void 0&&(e.size={width:t.width,height:t.height});this.$background.css({opacity:s,backgroundRepeat:i,backgroundImage:"url("+n+")"}),this.updateBackgroundImage(e)}},updateBackgroundColor:function(t){this.$el.css("backgroundColor",t||"")},drawBackground:function(t){if(t=t||{},this.updateBackgroundColor(t.color),t.image){t=this._background=Fn(t),cs(t);var e=document.createElement("img");e.onload=this.drawBackgroundImage.bind(this,e,t),e.src=t.image}else this.drawBackgroundImage(null),this._background=null;return this},setInteractivity:function(t){this.options.interactive=t,Ar(this._views,"setInteractivity",t)},isDefined:function(t){return!!this.svg.getElementById(t)},defineFilter:function(t){if(!fe(t))throw new TypeError("dia.Paper: defineFilter() requires 1. argument to be an object.");var e=t.id,n=t.name;if(e||(e=n+this.svg.id+Ca(JSON.stringify(t))),!this.isDefined(e)){var r=KT,i=r[n]&&r[n](t.args||{});if(!i)throw new Error("Non-existing filter "+n);var s=jt({filterUnits:"objectBoundingBox",x:-1,y:-1,width:3,height:3},t.attrs,{id:e});lt(i,s).appendTo(this.defs)}return e},defineGradient:function(t){if(!fe(t))throw new TypeError("dia.Paper: defineGradient() requires 1. argument to be an object.");const{svg:e,defs:n}=this,{type:r,id:i=r+e.id+Ca(JSON.stringify(t)),stops:s,attrs:o={}}=t;if(this.isDefined(i))return i;const a=ae(s).map(({offset:u,color:h,opacity:f})=>lt("stop").attr({offset:u,"stop-color":h,"stop-opacity":Number.isFinite(f)?f:1})),l=lt(r,o,a);return l.id=i,l.appendTo(n),i},definePattern:function(t){if(!fe(t))throw new TypeError("dia.Paper: definePattern() requires 1. argument to be an object.");const{svg:e,defs:n}=this,{id:r=e.id+Ca(JSON.stringify(t)),markup:i,attrs:s={}}=t;if(!i)throw new TypeError("dia.Paper: definePattern() requires markup.");if(this.isDefined(r))return r;const o=lt("pattern",{patternUnits:"userSpaceOnUse"});if(o.id=r,o.attr(s),typeof i=="string")o.append(lt(i));else{const{fragment:a}=sl(i);o.append(a)}return o.appendTo(n),r},defineMarker:function(t){if(!fe(t))throw new TypeError("dia.Paper: defineMarker() requires the first argument to be an object.");const{svg:e,defs:n}=this,{id:r=e.id+Ca(JSON.stringify(t)),markup:i,attrs:s={},markerUnits:o="userSpaceOnUse"}=t;if(this.isDefined(r))return r;const a=lt("marker",{orient:"auto",overflow:"visible",markerUnits:o});a.id=r,a.attr(s);let l;if(i){let f;if(typeof i=="string")f=lt(i),f=Array.isArray(f)?f:[f];else{const{fragment:v}=sl(i);f=lt(v).children()}f.length>1?l=lt("g").append(f):l=f[0]}else{const{type:f="path"}=t;l=lt(f)}const u=Gi(t,"type","id","markup","attrs","markerUnits");return Object.keys(u).forEach(f=>{const v=u[f],C=l.attr(f);if(C==null)l.attr(f,v);else switch(f){case"transform":l.attr(f,v+" "+C);break}}),l.appendTo(a),a.appendTo(n),r}},{sorting:ns,Layers:Vn,backgroundPatterns:{flipXy:function(t){var e=document.createElement("canvas"),n=t.width,r=t.height;e.width=2*n,e.height=2*r;var i=e.getContext("2d");return i.drawImage(t,0,0,n,r),i.setTransform(-1,0,0,-1,e.width,e.height),i.drawImage(t,0,0,n,r),i.setTransform(-1,0,0,1,e.width,0),i.drawImage(t,0,0,n,r),i.setTransform(1,0,0,-1,0,e.height),i.drawImage(t,0,0,n,r),e},flipX:function(t){var e=document.createElement("canvas"),n=t.width,r=t.height;e.width=n*2,e.height=r;var i=e.getContext("2d");return i.drawImage(t,0,0,n,r),i.translate(2*n,0),i.scale(-1,1),i.drawImage(t,0,0,n,r),e},flipY:function(t){var e=document.createElement("canvas"),n=t.width,r=t.height;e.width=n,e.height=r*2;var i=e.getContext("2d");return i.drawImage(t,0,0,n,r),i.translate(0,2*r),i.scale(1,-1),i.drawImage(t,0,0,n,r),e},watermark:function(t,e){e=e||{};var n=t.width,r=t.height,i=document.createElement("canvas");i.width=n*3,i.height=r*3;for(var s=i.getContext("2d"),o=wn(e.watermarkAngle)?-e.watermarkAngle:-20,a=xn(o),l=i.width/4,u=i.height/4,h=0;h<4;h++)for(var f=0;f<4;f++)(h+f)%2>0&&(s.setTransform(1,0,0,1,(2*h-1)*l,(2*f-1)*u),s.rotate(a),s.drawImage(t,-n/2,-r/2,n,r));return i}},gridPatterns:{dot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(t,e){lt(t).attr({width:e.thickness*e.sx,height:e.thickness*e.sy,fill:e.color})}}],fixedDot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(t,e){var n=e.sx<=1?e.thickness*e.sx:e.thickness;lt(t).attr({width:n,height:n,fill:e.color})}}],mesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(t,e){var n,r=e.width,i=e.height,s=e.thickness;r-s>=0&&i-s>=0?n=["M",r,0,"H0 M0 0 V0",i].join(" "):n="M 0 0 0 0",lt(t).attr({d:n,stroke:e.color,"stroke-width":e.thickness})}}],doubleMesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(t,e){var n,r=e.width,i=e.height,s=e.thickness;r-s>=0&&i-s>=0?n=["M",r,0,"H0 M0 0 V0",i].join(" "):n="M 0 0 0 0",lt(t).attr({d:n,stroke:e.color,"stroke-width":e.thickness})}},{color:"#000000",thickness:3,scaleFactor:4,markup:"path",update:function(t,e){var n,r=e.width,i=e.height,s=e.thickness;r-s>=0&&i-s>=0?n=["M",r,0,"H0 M0 0 V0",i].join(" "):n="M 0 0 0 0",lt(t).attr({d:n,stroke:e.color,"stroke-width":e.thickness})}}]}}),rc=Rr.extend({name:null,tagName:"g",className:"tool",svgElement:!0,_visible:!0,init:function(){var t=this.name;t&&this.vel.attr("data-tool-name",t)},configure:function(t,e){return this.relatedView=t,this.paper=t.paper,this.parentView=e,this.simulateRelatedView(this.el),this.delegateEvents(),this},simulateRelatedView:function(t){t&&t.setAttribute("model-id",this.relatedView.model.id)},getName:function(){return this.name},show:function(){this.el.style.display="",this._visible=!0},hide:function(){this.el.style.display="none",this._visible=!1},isVisible:function(){return!!this._visible},focus:function(){var t=this.options.focusOpacity;isFinite(t)&&(this.el.style.opacity=t),this.parentView.focusTool(this)},blur:function(){this.el.style.opacity="",this.parentView.blurTool(this)},update:function(){},guard:function(t){const{paper:e,relatedView:n}=this;return!e||!n?!0:e.guard(t,n)}}),ic=Rr.extend({tagName:"g",className:"tools",svgElement:!0,tools:null,isRendered:!1,options:{tools:null,relatedView:null,name:null},configure:function(t){t=jt(this.options,t);var e=t.tools;if(!Array.isArray(e))return this;var n=t.relatedView;if(!(n instanceof ie))return this;for(var r=this.tools=[],i=0,s=e.length;i<s;i++){var o=e[i];o instanceof rc&&(o.configure(n,this),this.vel.append(o.el),r.push(o))}return this.isRendered=!1,n.requestUpdate(n.getFlag("TOOLS")),this},getName:function(){return this.options.name},update:function(t){t||(t={});var e=this.tools;if(!e)return this;for(var n=this.isRendered,r=0,i=e.length;r<i;r++){var s=e[r];n?t.tool!==s.cid&&s.isVisible()&&s.update():s.render()}return this.isMounted()||this.mount(),n||(this.blurTool(),this.isRendered=!0),this},focusTool:function(t){var e=this.tools;if(!e)return this;for(var n=0,r=e.length;n<r;n++){var i=e[n];t===i?i.show():i.hide()}return this},blurTool:function(t){var e=this.tools;if(!e)return this;for(var n=0,r=e.length;n<r;n++){var i=e[n];i!==t&&!i.isVisible()&&(i.show(),i.update())}return this},hide:function(){return this.focusTool(null)},show:function(){return this.blurTool(null)},onRemove:function(){var t=this.tools;if(!t)return this;for(var e=0,n=t.length;e<n;e++)t[e].remove();this.tools=null},mount:function(){const{options:t,el:e}=this,{relatedView:n,layer:r=Vn.TOOLS,z:i}=t;return n&&(r?n.paper.getLayerView(r).insertSortedNode(e,i):n.el.appendChild(e)),this}}),Xy={_results:{},_tests:{svgforeignobject:function(){return!!document.createElementNS&&/SVGForeignObject/.test({}.toString.call(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")))}},addTest:function(t,e){return this._tests[t]=e},test:function(t){var e=this._tests[t];if(!e)throw new Error('Test not defined ("'+t+'"). Use `joint.env.addTest(name, fn) to add a new test.`');var n=this._results[t];if(typeof n<"u")return n;try{n=e()}catch{n=!1}return this._results[t]=n,n}},me=ke.define("basic.Generic",{attrs:{".":{fill:"#ffffff",stroke:"none"}}}),g_=me.define("basic.Rect",{attrs:{rect:{fill:"#ffffff",stroke:"#000000",width:100,height:60},text:{fill:"#000000",text:"","font-size":14,"ref-x":.5,"ref-y":.5,"text-anchor":"middle","y-alignment":"middle","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><rect/></g><text/></g>'}),p_=Ye.extend({presentationAttributes:Ye.addPresentationAttributes({attrs:["SCALE"]}),confirmUpdate:function(){var t=Ye.prototype.confirmUpdate.apply(this,arguments);return this.hasFlag(t,"SCALE")&&(this.resize(),t=this.removeFlag(t,"SCALE")),t}}),m_=me.define("basic.Text",{attrs:{text:{"font-size":18,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><text/></g></g>'}),Vd=me.define("basic.Circle",{size:{width:60,height:60},attrs:{circle:{fill:"#ffffff",stroke:"#000000",r:30,cx:30,cy:30},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-y":.5,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><circle/></g><text/></g>'}),v_=me.define("basic.Ellipse",{size:{width:60,height:40},attrs:{ellipse:{fill:"#ffffff",stroke:"#000000",rx:30,ry:20,cx:30,cy:20},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-y":.5,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><ellipse/></g><text/></g>'}),I_=me.define("basic.Polygon",{size:{width:60,height:40},attrs:{polygon:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon/></g><text/></g>'}),y_=me.define("basic.Polyline",{size:{width:60,height:40},attrs:{polyline:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><polyline/></g><text/></g>'}),A_=me.define("basic.Image",{attrs:{text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><image/></g><text/></g>'}),Hy=me.define("basic.Path",{size:{width:60,height:60},attrs:{path:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle",ref:"path","ref-x":.5,"ref-dy":10,fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><path/></g><text/></g>'}),C_=Hy.define("basic.Rhombus",{attrs:{path:{d:"M 30 0 L 60 30 30 60 0 30 z"},text:{"ref-y":.5,"ref-dy":null,"y-alignment":"middle"}}}),ll=Xy.test("svgforeignobject"),b_=me.define("basic.TextBlock",{attrs:{rect:{fill:"#ffffff",stroke:"#000000",width:80,height:100},text:{fill:"#000000","font-size":14,"font-family":"Arial, helvetica, sans-serif"},".content":{text:"","ref-x":.5,"ref-y":.5,"y-alignment":"middle","x-alignment":"middle"}},content:""},{markup:['<g class="rotatable">','<g class="scalable"><rect/></g>',ll?'<foreignObject class="fobj"><body xmlns="http://www.w3.org/1999/xhtml"><div class="content"/></body></foreignObject>':'<text class="content"/>',"</g>"].join(""),initialize:function(){this.listenTo(this,"change:size",this.updateSize),this.listenTo(this,"change:content",this.updateContent),this.updateSize(this,this.get("size")),this.updateContent(this,this.get("content")),me.prototype.initialize.apply(this,arguments)},updateSize:function(t,e){this.attr({".fobj":jt({},e),div:{style:jt({},e)}})},updateContent:function(t,e){ll?this.attr({".content":{html:HT(e)}}):this.attr({".content":{text:e}})},setForeignObjectSize:function(){this.updateSize.apply(this,arguments)},setDivContent:function(){this.updateContent.apply(this,arguments)}}),w_=Ye.extend({presentationAttributes:ll?Ye.prototype.presentationAttributes:Ye.addPresentationAttributes({content:["CONTENT"],size:["CONTENT"]}),initFlag:["RENDER","CONTENT"],confirmUpdate:function(){var t=Ye.prototype.confirmUpdate.apply(this,arguments);return this.hasFlag(t,"CONTENT")&&(this.updateContent(this.model),t=this.removeFlag(t,"CONTENT")),t},update:function(t,e){var n=this.model;if(ll)Ye.prototype.update.call(this,n,e);else{var r=Gi(e||n.get("attrs"),".content");Ye.prototype.update.call(this,n,r),(!e||Lr(e,".content"))&&this.updateContent(n,e)}},updateContent:function(t,e){var n=Fe({},(e||t.get("attrs"))[".content"]);n=Gi(n,"text");var r=by(t.get("content"),t.get("size"),n,{svgDocument:this.paper.svg}),i=Wu({},".content",n,"/");i[".content"].text=r,Ye.prototype.update.call(this,t,i)}}),x_=Object.freeze(Object.defineProperty({__proto__:null,Circle:Vd,Ellipse:v_,Generic:me,Image:A_,Path:Hy,Polygon:I_,Polyline:y_,Rect:g_,Rhombus:C_,Text:m_,TextBlock:b_,TextBlockView:w_,TextView:p_},Symbol.toStringTag,{value:"Module"})),Jy=ke.define("standard.Rectangle",{attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}]}),$y=ke.define("standard.Circle",{attrs:{body:{refCx:"50%",refCy:"50%",refR:"50%",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"circle",selector:"body"},{tagName:"text",selector:"label"}]}),S_=ke.define("standard.Ellipse",{attrs:{body:{refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"body"},{tagName:"text",selector:"label"}]}),N_=ke.define("standard.Path",{attrs:{body:{refD:"M 0 0 L 10 0 10 10 0 10 Z",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"text",selector:"label"}]}),M_=ke.define("standard.Polygon",{attrs:{body:{refPoints:"0 0 10 0 10 10 0 10",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polygon",selector:"body"},{tagName:"text",selector:"label"}]}),T_=ke.define("standard.Polyline",{attrs:{body:{refPoints:"0 0 10 0 10 10 0 10 0 0",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polyline",selector:"body"},{tagName:"text",selector:"label"}]}),P_=ke.define("standard.Image",{attrs:{image:{refWidth:"100%",refHeight:"100%"},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]}),__=ke.define("standard.BorderedImage",{attrs:{border:{refWidth:"100%",refHeight:"100%",stroke:"#333333",strokeWidth:2},background:{refWidth:-1,refHeight:-1,x:.5,y:.5,fill:"#FFFFFF"},image:{refWidth:-1,refHeight:-1,x:.5,y:.5},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"background",attributes:{stroke:"none"}},{tagName:"image",selector:"image"},{tagName:"rect",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]}),E_=ke.define("standard.EmbeddedImage",{attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#FFFFFF",strokeWidth:2},image:{refWidth:"30%",refHeight:-20,x:10,y:10,preserveAspectRatio:"xMidYMin"},label:{textVerticalAnchor:"top",textAnchor:"left",refX:"30%",refX2:20,refY:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]}),D_=ke.define("standard.InscribedImage",{attrs:{border:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",stroke:"#333333",strokeWidth:2},background:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",fill:"#FFFFFF"},image:{refWidth:"68%",refHeight:"68%",refX:"16%",refY:"16%",preserveAspectRatio:"xMidYMid"},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"background"},{tagName:"image",selector:"image"},{tagName:"ellipse",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]}),O_=ke.define("standard.HeaderedRectangle",{attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},header:{refWidth:"100%",height:30,strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},headerText:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:15,fontSize:16,fill:"#333333"},bodyText:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",refY2:15,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"rect",selector:"header"},{tagName:"text",selector:"headerText"},{tagName:"text",selector:"bodyText"}]});var ou=10;const k_=ke.define("standard.Cylinder",{attrs:{body:{lateralArea:ou,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},top:{refCx:"50%",cy:ou,refRx:"50%",ry:ou,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"100%",refY2:15,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"ellipse",selector:"top"},{tagName:"text",selector:"label"}],topRy:function(t,e){if(t===void 0)return this.attr("body/lateralArea");var n=Nn(t),r={lateralArea:t},i=n?{refCy:t,refRy:t,cy:null,ry:null}:{refCy:null,refRy:null,cy:t,ry:t};return this.attr({body:r,top:i},e)}},{attributes:{lateralArea:{set:function(t,e){var n=Nn(t);n&&(t=parseFloat(t)/100);var r=e.x,i=e.y,s=e.width,o=e.height,a=s/2,l=n?o*t:t,u=lt.KAPPA,h=u*a,f=u*(n?o*t:t),v=r,C=r+s/2,b=r+s,w=i+l,O=w-l,k=i+o-l,R=i+o,U=["M",v,w,"L",v,k,"C",r,k+f,C-h,R,C,R,"C",C+h,R,b,k+f,b,k,"L",b,w,"C",b,w-f,C+h,O,C,O,"C",C-h,O,v,w-f,v,w,"Z"];return{d:U.join(" ")}}}}});var L_={tagName:"foreignObject",selector:"foreignObject",attributes:{overflow:"hidden"},children:[{tagName:"div",namespaceURI:"http://www.w3.org/1999/xhtml",selector:"label",style:{width:"100%",height:"100%",position:"static",backgroundColor:"transparent",textAlign:"center",margin:0,padding:"0px 5px",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"}}]},z_={tagName:"text",selector:"label",attributes:{"text-anchor":"middle"}},R_=Xy.test("svgforeignobject")?L_:z_;const B_=ke.define("standard.TextBlock",{attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#ffffff",strokeWidth:2},foreignObject:{refWidth:"100%",refHeight:"100%"},label:{style:{fontSize:14}}}},{markup:[{tagName:"rect",selector:"body"},R_]},{attributes:{text:{set:function(t,e,n,r){if(n instanceof HTMLElement)n.textContent=t;else{var i=r.style||{},s={text:t,width:-5,height:"100%"},o=jt({textVerticalAnchor:"middle"},i);return Ny.textWrap.set.call(this,s,e,n,o),{fill:i.color||null}}},position:function(t,e,n){if(n instanceof SVGElement)return e.center()}}}}),Ky=tn.define("standard.Link",{attrs:{line:{connection:!0,stroke:"#333333",strokeWidth:2,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 10 -5 0 0 10 5 z"}},wrapper:{connection:!0,strokeWidth:10,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"wrapper",attributes:{fill:"none",cursor:"pointer",stroke:"transparent","stroke-linecap":"round"}},{tagName:"path",selector:"line",attributes:{fill:"none","pointer-events":"none"}}]}),j_=tn.define("standard.DoubleLink",{attrs:{line:{connection:!0,stroke:"#DDDDDD",strokeWidth:4,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"#000000",d:"M 10 -3 10 -10 -2 0 10 10 10 3"}},outline:{connection:!0,stroke:"#000000",strokeWidth:6,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"outline",attributes:{fill:"none"}},{tagName:"path",selector:"line",attributes:{fill:"none"}}]}),G_=tn.define("standard.ShadowLink",{attrs:{line:{connection:!0,stroke:"#FF0000",strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"none",d:"M 0 -10 -10 0 0 10 z"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}},shadow:{connection:!0,refX:3,refY:6,stroke:"#000000",strokeOpacity:.2,strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 0 -10 -10 0 0 10 z",stroke:"none"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}}}},{markup:[{tagName:"path",selector:"shadow",attributes:{fill:"none"}},{tagName:"path",selector:"line",attributes:{fill:"none"}}]}),Z_=Object.freeze(Object.defineProperty({__proto__:null,BorderedImage:__,Circle:$y,Cylinder:k_,DoubleLink:j_,Ellipse:S_,EmbeddedImage:E_,HeaderedRectangle:O_,Image:P_,InscribedImage:D_,Link:Ky,Path:N_,Polygon:M_,Polyline:T_,Rectangle:Jy,ShadowLink:G_,TextBlock:B_},Symbol.toStringTag,{value:"Module"})),Xd=me.define("devs.Model",{inPorts:[],outPorts:[],size:{width:80,height:80},attrs:{".":{magnet:!1},".label":{text:"Model","ref-x":.5,"ref-y":10,"font-size":18,"text-anchor":"middle",fill:"#000"},".body":{"ref-width":"100%","ref-height":"100%",stroke:"#000"}},ports:{groups:{in:{position:{name:"left"},attrs:{".port-label":{fill:"#000"},".port-body":{fill:"#fff",stroke:"#000",r:10,magnet:!0}},label:{position:{name:"left",args:{y:10}}}},out:{position:{name:"right"},attrs:{".port-label":{fill:"#000"},".port-body":{fill:"#fff",stroke:"#000",r:10,magnet:!0}},label:{position:{name:"right",args:{y:10}}}}}}},{markup:'<g class="rotatable"><rect class="body"/><text class="label"/></g>',portMarkup:'<circle class="port-body"/>',portLabelMarkup:'<text class="port-label"/>',initialize:function(){me.prototype.initialize.apply(this,arguments),this.on("change:inPorts change:outPorts",this.updatePortItems,this),this.updatePortItems()},updatePortItems:function(t,e,n){var r=ji(this.get("inPorts")),i=Ay(ji(this.get("outPorts")),r),s=this.createPortItems("in",r),o=this.createPortItems("out",i);this.prop("ports/items",s.concat(o),jt({rewrite:!0},n))},createPortItem:function(t,e){return{id:e,group:t,attrs:{".port-label":{text:e}}}},createPortItems:function(t,e){return ae(e).map(this.createPortItem.bind(this,t))},_addGroupPort:function(t,e,n){var r=this.get(e);return this.set(e,Array.isArray(r)?r.concat(t):[t],n)},addOutPort:function(t,e){return this._addGroupPort(t,"outPorts",e)},addInPort:function(t,e){return this._addGroupPort(t,"inPorts",e)},_removeGroupPort:function(t,e,n){return this.set(e,Gu(this.get(e),t),n)},removeOutPort:function(t,e){return this._removeGroupPort(t,"outPorts",e)},removeInPort:function(t,e){return this._removeGroupPort(t,"inPorts",e)},_changeGroup:function(t,e,n){return this.prop("ports/groups/"+t,fe(e)?e:{},n)},changeInGroup:function(t,e){return this._changeGroup("in",t,e)},changeOutGroup:function(t,e){return this._changeGroup("out",t,e)}}),W_=Xd.define("devs.Atomic",{size:{width:80,height:80},attrs:{".label":{text:"Atomic"}}}),U_=Xd.define("devs.Coupled",{size:{width:200,height:300},attrs:{".label":{text:"Coupled"}}}),F_=tn.define("devs.Link",{attrs:{".connection":{"stroke-width":2}}}),Y_=Object.freeze(Object.defineProperty({__proto__:null,Atomic:W_,Coupled:U_,Link:F_,Model:Xd},Symbol.toStringTag,{value:"Module"})),sc=me.define("logic.Gate",{size:{width:80,height:40},attrs:{".":{magnet:!1},".body":{width:100,height:50},circle:{r:7,stroke:"black",fill:"transparent","stroke-width":2}}},{operation:function(){return!0}}),Hd=sc.define("logic.IO",{size:{width:60,height:30},attrs:{".body":{fill:"white",stroke:"black","stroke-width":2},".wire":{ref:".body","ref-y":.5,stroke:"black"},text:{fill:"black",ref:".body","ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle","font-weight":"bold","font-variant":"small-caps","text-transform":"capitalize","font-size":"14px"}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="body"/></g><path class="wire"/><circle/><text/></g>'}),V_=Hd.define("logic.Input",{attrs:{".wire":{"ref-dx":0,d:"M 0 0 L 23 0"},circle:{ref:".body","ref-dx":30,"ref-y":.5,magnet:!0,class:"output",port:"out"},text:{text:"input"}}}),X_=Hd.define("logic.Output",{attrs:{".wire":{"ref-x":0,d:"M 0 0 L -23 0"},circle:{ref:".body","ref-x":-30,"ref-y":.5,magnet:"passive",class:"input",port:"in"},text:{text:"output"}}}),Jd=sc.define("logic.Gate11",{attrs:{".input":{ref:".body","ref-x":-2,"ref-y":.5,magnet:"passive",port:"in"},".output":{ref:".body","ref-dx":2,"ref-y":.5,magnet:!0,port:"out"}}},{markup:'<g class="rotatable"><g class="scalable"><image class="body"/></g><circle class="input"/><circle class="output"/></g>'}),Xi=sc.define("logic.Gate21",{attrs:{".input1":{ref:".body","ref-x":-2,"ref-y":.3,magnet:"passive",port:"in1"},".input2":{ref:".body","ref-x":-2,"ref-y":.7,magnet:"passive",port:"in2"},".output":{ref:".body","ref-dx":2,"ref-y":.5,magnet:!0,port:"out"}}},{markup:'<g class="rotatable"><g class="scalable"><image class="body"/></g><circle class="input input1"/><circle  class="input input2"/><circle class="output"/></g>'}),H_=Jd.define("logic.Repeater",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PVCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjgiCiAgICAgaW5rc2NhcGU6Y3g9Ijg0LjY4NTM1MiIKICAgICBpbmtzY2FwZTpjeT0iMTUuMjg4NjI4IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzIuMTU2OTEsMjUgTCA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAyOS4wNDM0NzgsMjUgTCA1LjA0MzQ3ODEsMjUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgZD0iTSAyOC45Njg3NSwyLjU5Mzc1IEwgMjguOTY4NzUsNSBMIDI4Ljk2ODc1LDQ1IEwgMjguOTY4NzUsNDcuNDA2MjUgTCAzMS4xMjUsNDYuMzQzNzUgTCA3Mi4xNTYyNSwyNi4zNDM3NSBMIDcyLjE1NjI1LDIzLjY1NjI1IEwgMzEuMTI1LDMuNjU2MjUgTCAyOC45Njg3NSwyLjU5Mzc1IHogTSAzMS45Njg3NSw3LjQwNjI1IEwgNjguMDkzNzUsMjUgTCAzMS45Njg3NSw0Mi41OTM3NSBMIDMxLjk2ODc1LDcuNDA2MjUgeiIKICAgICAgIGlkPSJwYXRoMjYzOCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2NjY2NjY2NjYyIgLz4KICA8L2c+Cjwvc3ZnPgo="}}},{operation:function(t){return t}}),J_=Jd.define("logic.Not",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PVCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjgiCiAgICAgaW5rc2NhcGU6Y3g9Ijg0LjY4NTM1MiIKICAgICBpbmtzY2FwZTpjeT0iMTUuMjg4NjI4IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzkuMTU2OTEsMjUgTCA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAyOS4wNDM0NzgsMjUgTCA1LjA0MzQ3ODEsMjUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgZD0iTSAyOC45Njg3NSwyLjU5Mzc1IEwgMjguOTY4NzUsNSBMIDI4Ljk2ODc1LDQ1IEwgMjguOTY4NzUsNDcuNDA2MjUgTCAzMS4xMjUsNDYuMzQzNzUgTCA3Mi4xNTYyNSwyNi4zNDM3NSBMIDcyLjE1NjI1LDIzLjY1NjI1IEwgMzEuMTI1LDMuNjU2MjUgTCAyOC45Njg3NSwyLjU5Mzc1IHogTSAzMS45Njg3NSw3LjQwNjI1IEwgNjguMDkzNzUsMjUgTCAzMS45Njg3NSw0Mi41OTM3NSBMIDMxLjk2ODc1LDcuNDA2MjUgeiIKICAgICAgIGlkPSJwYXRoMjYzOCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2NjY2NjY2NjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDI2NzEiCiAgICAgICBzb2RpcG9kaTpjeD0iNzYiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA4MCwyNSBBIDQsNCAwIDEgMSA3MiwyNSBBIDQsNCAwIDEgMSA4MCwyNSB6IgogICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEsMCkiIC8+CiAgPC9nPgo8L3N2Zz4K"}}},{operation:function(t){return!t}}),$_=Xi.define("logic.Or",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik9SIEFOU0kuc3ZnIgogICBpbmtzY2FwZTpvdXRwdXRfZXh0ZW5zaW9uPSJvcmcuaW5rc2NhcGUub3V0cHV0LnN2Zy5pbmtzY2FwZSI+CiAgPGRlZnMKICAgICBpZD0iZGVmczQiPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjUwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjI1IDogMTAgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjcxNCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iMSA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMC41IDogMC4zMzMzMzMzMyA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyODA2IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyODE5IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjM3Mi4wNDcyNCA6IDM1MC43ODczOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI3NDQuMDk0NDggOiA1MjYuMTgxMDkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzc3IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49Ijc1IDogNDAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iMTUwIDogNjAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDYwIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTMyNzUiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNTAgOiAzMy4zMzMzMzMgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iMTAwIDogNTAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDUwIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTU1MzMiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzIgOiAyMS4zMzMzMzMgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNjQgOiAzMiA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMzIgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjU1NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDE2LjY2NjY2NyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDI1IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAyNSA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogIDwvZGVmcz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6em9vbT0iNCIKICAgICBpbmtzY2FwZTpjeD0iMTEzLjAwMDM5IgogICAgIGlua3NjYXBlOmN5PSIxMi44OTM3MzEiCiAgICAgaW5rc2NhcGU6ZG9jdW1lbnQtdW5pdHM9InB4IgogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9ImcyNTYwIgogICAgIHNob3dncmlkPSJmYWxzZSIKICAgICBpbmtzY2FwZTpncmlkLWJib3g9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1wb2ludHM9InRydWUiCiAgICAgZ3JpZHRvbGVyYW5jZT0iMTAwMDAiCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSIxMzk5IgogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9Ijg3NCIKICAgICBpbmtzY2FwZTp3aW5kb3cteD0iMzciCiAgICAgaW5rc2NhcGU6d2luZG93LXk9Ii00IgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Im0gNzAsMjUgYyAyMCwwIDI1LDAgMjUsMCIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMSwxNSA1LDE1IgogICAgICAgaWQ9InBhdGgzMDYxIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzIsMzUgNSwzNSIKICAgICAgIGlkPSJwYXRoMzk0NCIgLz4KICAgIDxnCiAgICAgICBpZD0iZzI1NjAiCiAgICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI2LjUsLTM5LjUpIj4KICAgICAgPHBhdGgKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjQwNjI1LDQ0LjUgTCAtMC40MDYyNSw0Ni45Mzc1IEMgLTAuNDA2MjUsNDYuOTM3NSA1LjI1LDUzLjkzNzU0OSA1LjI1LDY0LjUgQyA1LjI1LDc1LjA2MjQ1MSAtMC40MDYyNSw4Mi4wNjI1IC0wLjQwNjI1LDgyLjA2MjUgTCAtMi40MDYyNSw4NC41IEwgMC43NSw4NC41IEwgMTQuNzUsODQuNSBDIDE3LjE1ODA3Niw4NC41MDAwMDEgMjIuNDM5Njk5LDg0LjUyNDUxNCAyOC4zNzUsODIuMDkzNzUgQyAzNC4zMTAzMDEsNzkuNjYyOTg2IDQwLjkxMTUzNiw3NC43NTA0ODQgNDYuMDYyNSw2NS4yMTg3NSBMIDQ0Ljc1LDY0LjUgTCA0Ni4wNjI1LDYzLjc4MTI1IEMgMzUuNzU5Mzg3LDQ0LjcxNTU5IDE5LjUwNjU3NCw0NC41IDE0Ljc1LDQ0LjUgTCAwLjc1LDQ0LjUgTCAtMi40MDYyNSw0NC41IHogTSAzLjQ2ODc1LDQ3LjUgTCAxNC43NSw0Ny41IEMgMTkuNDM0MTczLDQ3LjUgMzMuMDM2ODUsNDcuMzY5NzkzIDQyLjcxODc1LDY0LjUgQyAzNy45NTE5NjQsNzIuOTI5MDc1IDMyLjE5NzQ2OSw3Ny4xODM5MSAyNyw3OS4zMTI1IEMgMjEuNjM5MzM5LDgxLjUwNzkyNCAxNy4xNTgwNzUsODEuNTAwMDAxIDE0Ljc1LDgxLjUgTCAzLjUsODEuNSBDIDUuMzczNTg4NCw3OC4zOTE1NjYgOC4yNSw3Mi40NTA2NSA4LjI1LDY0LjUgQyA4LjI1LDU2LjUyNjY0NiA1LjM0MTQ2ODYsNTAuNTk5ODE1IDMuNDY4NzUsNDcuNSB6IgogICAgICAgICBpZD0icGF0aDQ5NzMiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NzY2NjY3NjY2NjY2NjY2NzY2NzYyIgLz4KICAgIDwvZz4KICA8L2c+Cjwvc3ZnPgo="}}},{operation:function(t,e){return t||e}}),K_=Xi.define("logic.And",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IkFORCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgPC9kZWZzPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSI4IgogICAgIGlua3NjYXBlOmN4PSI1Ni42OTgzNDgiCiAgICAgaW5rc2NhcGU6Y3k9IjI1LjMyNjg5OSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDcwLDI1IGMgMjAsMCAyNSwwIDI1LDAiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEsMTUgNSwxNSIKICAgICAgIGlkPSJwYXRoMzA2MSIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjk5OTk5OTg4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMyLDM1IDUsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZvbnQtc2l6ZTptZWRpdW07Zm9udC1zdHlsZTpub3JtYWw7Zm9udC12YXJpYW50Om5vcm1hbDtmb250LXdlaWdodDpub3JtYWw7Zm9udC1zdHJldGNoOm5vcm1hbDt0ZXh0LWluZGVudDowO3RleHQtYWxpZ246c3RhcnQ7dGV4dC1kZWNvcmF0aW9uOm5vbmU7bGluZS1oZWlnaHQ6bm9ybWFsO2xldHRlci1zcGFjaW5nOm5vcm1hbDt3b3JkLXNwYWNpbmc6bm9ybWFsO3RleHQtdHJhbnNmb3JtOm5vbmU7ZGlyZWN0aW9uOmx0cjtibG9jay1wcm9ncmVzc2lvbjp0Yjt3cml0aW5nLW1vZGU6bHItdGI7dGV4dC1hbmNob3I6c3RhcnQ7ZmlsbDojMDAwMDAwO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDozO21hcmtlcjpub25lO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGU7Zm9udC1mYW1pbHk6Qml0c3RyZWFtIFZlcmEgU2FuczstaW5rc2NhcGUtZm9udC1zcGVjaWZpY2F0aW9uOkJpdHN0cmVhbSBWZXJhIFNhbnMiCiAgICAgICBkPSJNIDMwLDUgTCAzMCw2LjQyODU3MTQgTCAzMCw0My41NzE0MjkgTCAzMCw0NSBMIDMxLjQyODU3MSw0NSBMIDUwLjQ3NjE5LDQ1IEMgNjEuNzQ0MDk4LDQ1IDcwLjQ3NjE5LDM1Ljk5OTk1NSA3MC40NzYxOSwyNSBDIDcwLjQ3NjE5LDE0LjAwMDA0NSA2MS43NDQwOTksNS4wMDAwMDAyIDUwLjQ3NjE5LDUgQyA1MC40NzYxOSw1IDUwLjQ3NjE5LDUgMzEuNDI4NTcxLDUgTCAzMCw1IHogTSAzMi44NTcxNDMsNy44NTcxNDI5IEMgNDAuODM0MjY0LDcuODU3MTQyOSA0NS45MTgzNjgsNy44NTcxNDI5IDQ4LjA5NTIzOCw3Ljg1NzE0MjkgQyA0OS4yODU3MTQsNy44NTcxNDI5IDQ5Ljg4MDk1Miw3Ljg1NzE0MjkgNTAuMTc4NTcxLDcuODU3MTQyOSBDIDUwLjMyNzM4MSw3Ljg1NzE0MjkgNTAuNDA5MjI3LDcuODU3MTQyOSA1MC40NDY0MjksNy44NTcxNDI5IEMgNTAuNDY1MDI5LDcuODU3MTQyOSA1MC40NzE1NDMsNy44NTcxNDI5IDUwLjQ3NjE5LDcuODU3MTQyOSBDIDYwLjIzNjg1Myw3Ljg1NzE0MyA2Ny4xNDI4NTcsMTUuNDk3MDk4IDY3LjE0Mjg1NywyNSBDIDY3LjE0Mjg1NywzNC41MDI5MDIgNTkuNzYwNjYyLDQyLjE0Mjg1NyA1MCw0Mi4xNDI4NTcgTCAzMi44NTcxNDMsNDIuMTQyODU3IEwgMzIuODU3MTQzLDcuODU3MTQyOSB6IgogICAgICAgaWQ9InBhdGgyODg0IgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2NjY2NzY2NjY3Nzc3NzY2NjIiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},{operation:function(t,e){return t&&e}}),Q_=Xi.define("logic.Nor",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PUiBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjEiCiAgICAgaW5rc2NhcGU6Y3g9Ijc4LjY3NzY0NCIKICAgICBpbmtzY2FwZTpjeT0iMjIuMTAyMzQ0IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjM3IgogICAgIGlua3NjYXBlOndpbmRvdy15PSItNCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDc5LDI1IEMgOTksMjUgOTUsMjUgOTUsMjUiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEsMTUgNSwxNSIKICAgICAgIGlkPSJwYXRoMzA2MSIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjk5OTk5OTg4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMyLDM1IDUsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8ZwogICAgICAgaWQ9ImcyNTYwIgogICAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNi41LC0zOS41KSI+CiAgICAgIDxwYXRoCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi40MDYyNSw0NC41IEwgLTAuNDA2MjUsNDYuOTM3NSBDIC0wLjQwNjI1LDQ2LjkzNzUgNS4yNSw1My45Mzc1NDkgNS4yNSw2NC41IEMgNS4yNSw3NS4wNjI0NTEgLTAuNDA2MjUsODIuMDYyNSAtMC40MDYyNSw4Mi4wNjI1IEwgLTIuNDA2MjUsODQuNSBMIDAuNzUsODQuNSBMIDE0Ljc1LDg0LjUgQyAxNy4xNTgwNzYsODQuNTAwMDAxIDIyLjQzOTY5OSw4NC41MjQ1MTQgMjguMzc1LDgyLjA5Mzc1IEMgMzQuMzEwMzAxLDc5LjY2Mjk4NiA0MC45MTE1MzYsNzQuNzUwNDg0IDQ2LjA2MjUsNjUuMjE4NzUgTCA0NC43NSw2NC41IEwgNDYuMDYyNSw2My43ODEyNSBDIDM1Ljc1OTM4Nyw0NC43MTU1OSAxOS41MDY1NzQsNDQuNSAxNC43NSw0NC41IEwgMC43NSw0NC41IEwgLTIuNDA2MjUsNDQuNSB6IE0gMy40Njg3NSw0Ny41IEwgMTQuNzUsNDcuNSBDIDE5LjQzNDE3Myw0Ny41IDMzLjAzNjg1LDQ3LjM2OTc5MyA0Mi43MTg3NSw2NC41IEMgMzcuOTUxOTY0LDcyLjkyOTA3NSAzMi4xOTc0NjksNzcuMTgzOTEgMjcsNzkuMzEyNSBDIDIxLjYzOTMzOSw4MS41MDc5MjQgMTcuMTU4MDc1LDgxLjUwMDAwMSAxNC43NSw4MS41IEwgMy41LDgxLjUgQyA1LjM3MzU4ODQsNzguMzkxNTY2IDguMjUsNzIuNDUwNjUgOC4yNSw2NC41IEMgOC4yNSw1Ni41MjY2NDYgNS4zNDE0Njg2LDUwLjU5OTgxNSAzLjQ2ODc1LDQ3LjUgeiIKICAgICAgICAgaWQ9InBhdGg0OTczIgogICAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjc2NjY2NzY2NjY2NjY2Njc2Njc2MiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIHNvZGlwb2RpOnR5cGU9ImFyYyIKICAgICAgICAgc3R5bGU9ImZpbGw6bm9uZTtmaWxsLW9wYWNpdHk6MTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgICBpZD0icGF0aDI2MDQiCiAgICAgICAgIHNvZGlwb2RpOmN4PSI3NSIKICAgICAgICAgc29kaXBvZGk6Y3k9IjI1IgogICAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgICAgc29kaXBvZGk6cnk9IjQiCiAgICAgICAgIGQ9Ik0gNzksMjUgQSA0LDQgMCAxIDEgNzEsMjUgQSA0LDQgMCAxIDEgNzksMjUgeiIKICAgICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI2LjUsMzkuNSkiIC8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K"}}},{operation:function(t,e){return!(t||e)}}),q_=Xi.define("logic.Nand",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5BTkQgQU5TSS5zdmciCiAgIGlua3NjYXBlOm91dHB1dF9leHRlbnNpb249Im9yZy5pbmtzY2FwZS5vdXRwdXQuc3ZnLmlua3NjYXBlIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzNCI+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxMCA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzE0IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIwLjUgOiAwLjMzMzMzMzMzIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MDYiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MTkiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzcyLjA0NzI0IDogMzUwLjc4NzM5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9Ijc0NC4wOTQ0OCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTI2LjE4MTA5IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3NzciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNzUgOiA0MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxNTAgOiA2MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNjAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMzI3NSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI1MCA6IDMzLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxMDAgOiA1MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlNTUzMyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzMiA6IDIxLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI2NCA6IDMyIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAzMiA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogIDwvZGVmcz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6em9vbT0iMTYiCiAgICAgaW5rc2NhcGU6Y3g9Ijc4LjI4MzMwNyIKICAgICBpbmtzY2FwZTpjeT0iMTYuNDQyODQzIgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzksMjUgQyA5MS44LDI1IDk1LDI1IDk1LDI1IgogICAgICAgaWQ9InBhdGgzMDU5IgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMxLDE1IDUsMTUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk4ODtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMiwzNSA1LDM1IgogICAgICAgaWQ9InBhdGgzOTQ0IiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmb250LXNpemU6bWVkaXVtO2ZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtdmFyaWFudDpub3JtYWw7Zm9udC13ZWlnaHQ6bm9ybWFsO2ZvbnQtc3RyZXRjaDpub3JtYWw7dGV4dC1pbmRlbnQ6MDt0ZXh0LWFsaWduOnN0YXJ0O3RleHQtZGVjb3JhdGlvbjpub25lO2xpbmUtaGVpZ2h0Om5vcm1hbDtsZXR0ZXItc3BhY2luZzpub3JtYWw7d29yZC1zcGFjaW5nOm5vcm1hbDt0ZXh0LXRyYW5zZm9ybTpub25lO2RpcmVjdGlvbjpsdHI7YmxvY2stcHJvZ3Jlc3Npb246dGI7d3JpdGluZy1tb2RlOmxyLXRiO3RleHQtYW5jaG9yOnN0YXJ0O2ZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MzttYXJrZXI6bm9uZTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlO2ZvbnQtZmFtaWx5OkJpdHN0cmVhbSBWZXJhIFNhbnM7LWlua3NjYXBlLWZvbnQtc3BlY2lmaWNhdGlvbjpCaXRzdHJlYW0gVmVyYSBTYW5zIgogICAgICAgZD0iTSAzMCw1IEwgMzAsNi40Mjg1NzE0IEwgMzAsNDMuNTcxNDI5IEwgMzAsNDUgTCAzMS40Mjg1NzEsNDUgTCA1MC40NzYxOSw0NSBDIDYxLjc0NDA5OCw0NSA3MC40NzYxOSwzNS45OTk5NTUgNzAuNDc2MTksMjUgQyA3MC40NzYxOSwxNC4wMDAwNDUgNjEuNzQ0MDk5LDUuMDAwMDAwMiA1MC40NzYxOSw1IEMgNTAuNDc2MTksNSA1MC40NzYxOSw1IDMxLjQyODU3MSw1IEwgMzAsNSB6IE0gMzIuODU3MTQzLDcuODU3MTQyOSBDIDQwLjgzNDI2NCw3Ljg1NzE0MjkgNDUuOTE4MzY4LDcuODU3MTQyOSA0OC4wOTUyMzgsNy44NTcxNDI5IEMgNDkuMjg1NzE0LDcuODU3MTQyOSA0OS44ODA5NTIsNy44NTcxNDI5IDUwLjE3ODU3MSw3Ljg1NzE0MjkgQyA1MC4zMjczODEsNy44NTcxNDI5IDUwLjQwOTIyNyw3Ljg1NzE0MjkgNTAuNDQ2NDI5LDcuODU3MTQyOSBDIDUwLjQ2NTAyOSw3Ljg1NzE0MjkgNTAuNDcxNTQzLDcuODU3MTQyOSA1MC40NzYxOSw3Ljg1NzE0MjkgQyA2MC4yMzY4NTMsNy44NTcxNDMgNjcuMTQyODU3LDE1LjQ5NzA5OCA2Ny4xNDI4NTcsMjUgQyA2Ny4xNDI4NTcsMzQuNTAyOTAyIDU5Ljc2MDY2Miw0Mi4xNDI4NTcgNTAsNDIuMTQyODU3IEwgMzIuODU3MTQzLDQyLjE0Mjg1NyBMIDMyLjg1NzE0Myw3Ljg1NzE0MjkgeiIKICAgICAgIGlkPSJwYXRoMjg4NCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2Njc2NjY2Nzc3Nzc2NjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDQwMDgiCiAgICAgICBzb2RpcG9kaTpjeD0iNzUiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA3OSwyNSBBIDQsNCAwIDEgMSA3MSwyNSBBIDQsNCAwIDEgMSA3OSwyNSB6IiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},{operation:function(t,e){return!(t&&e)}}),tE=Xi.define("logic.Xor",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IlhPUiBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjUuNjU2ODU0MiIKICAgICBpbmtzY2FwZTpjeD0iMjUuOTM4MTE2IgogICAgIGlua3NjYXBlOmN5PSIxNy4yMzAwNSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDcwLDI1IGMgMjAsMCAyNSwwIDI1LDAiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzAuMzg1NzE3LDE1IEwgNC45OTk5OTk4LDE1IgogICAgICAgaWQ9InBhdGgzMDYxIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5NzY7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEuMzYyMDkxLDM1IEwgNC45OTk5OTk4LDM1IgogICAgICAgaWQ9InBhdGgzOTQ0IiAvPgogICAgPGcKICAgICAgIGlkPSJnMjU2MCIKICAgICAgIGlua3NjYXBlOmxhYmVsPSJMYXllciAxIgogICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjYuNSwtMzkuNSkiPgogICAgICA8cGF0aAogICAgICAgICBpZD0icGF0aDM1MTYiCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi4yNSw4MS41MDAwMDUgQyAtMy44NDczNzQsODQuMTQ0NDA1IC00LjUsODQuNTAwMDA1IC00LjUsODQuNTAwMDA1IEwgLTguMTU2MjUsODQuNTAwMDA1IEwgLTYuMTU2MjUsODIuMDYyNTA1IEMgLTYuMTU2MjUsODIuMDYyNTA1IC0wLjUsNzUuMDYyNDUxIC0wLjUsNjQuNSBDIC0wLjUsNTMuOTM3NTQ5IC02LjE1NjI1LDQ2LjkzNzUgLTYuMTU2MjUsNDYuOTM3NSBMIC04LjE1NjI1LDQ0LjUgTCAtNC41LDQ0LjUgQyAtMy43MTg3NSw0NS40Mzc1IC0zLjA3ODEyNSw0Ni4xNTYyNSAtMi4yODEyNSw0Ny41IEMgLTAuNDA4NTMxLDUwLjU5OTgxNSAyLjUsNTYuNTI2NjQ2IDIuNSw2NC41IEMgMi41LDcyLjQ1MDY1IC0wLjM5NjY5Nyw3OC4zNzk0MjUgLTIuMjUsODEuNTAwMDA1IHoiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY3NjY2Njc2MiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi40MDYyNSw0NC41IEwgLTAuNDA2MjUsNDYuOTM3NSBDIC0wLjQwNjI1LDQ2LjkzNzUgNS4yNSw1My45Mzc1NDkgNS4yNSw2NC41IEMgNS4yNSw3NS4wNjI0NTEgLTAuNDA2MjUsODIuMDYyNSAtMC40MDYyNSw4Mi4wNjI1IEwgLTIuNDA2MjUsODQuNSBMIDAuNzUsODQuNSBMIDE0Ljc1LDg0LjUgQyAxNy4xNTgwNzYsODQuNTAwMDAxIDIyLjQzOTY5OSw4NC41MjQ1MTQgMjguMzc1LDgyLjA5Mzc1IEMgMzQuMzEwMzAxLDc5LjY2Mjk4NiA0MC45MTE1MzYsNzQuNzUwNDg0IDQ2LjA2MjUsNjUuMjE4NzUgTCA0NC43NSw2NC41IEwgNDYuMDYyNSw2My43ODEyNSBDIDM1Ljc1OTM4Nyw0NC43MTU1OSAxOS41MDY1NzQsNDQuNSAxNC43NSw0NC41IEwgMC43NSw0NC41IEwgLTIuNDA2MjUsNDQuNSB6IE0gMy40Njg3NSw0Ny41IEwgMTQuNzUsNDcuNSBDIDE5LjQzNDE3Myw0Ny41IDMzLjAzNjg1LDQ3LjM2OTc5MyA0Mi43MTg3NSw2NC41IEMgMzcuOTUxOTY0LDcyLjkyOTA3NSAzMi4xOTc0NjksNzcuMTgzOTEgMjcsNzkuMzEyNSBDIDIxLjYzOTMzOSw4MS41MDc5MjQgMTcuMTU4MDc1LDgxLjUwMDAwMSAxNC43NSw4MS41IEwgMy41LDgxLjUgQyA1LjM3MzU4ODQsNzguMzkxNTY2IDguMjUsNzIuNDUwNjUgOC4yNSw2NC41IEMgOC4yNSw1Ni41MjY2NDYgNS4zNDE0Njg2LDUwLjU5OTgxNSAzLjQ2ODc1LDQ3LjUgeiIKICAgICAgICAgaWQ9InBhdGg0OTczIgogICAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjc2NjY2NzY2NjY2NjY2Njc2Njc2MiIC8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K"}}},{operation:function(t,e){return(!t||e)&&(t||!e)}}),eE=Xi.define("logic.Xnor",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IlhOT1IgQU5TSS5zdmciCiAgIGlua3NjYXBlOm91dHB1dF9leHRlbnNpb249Im9yZy5pbmtzY2FwZS5vdXRwdXQuc3ZnLmlua3NjYXBlIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzNCI+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxMCA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzE0IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIwLjUgOiAwLjMzMzMzMzMzIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MDYiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MTkiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzcyLjA0NzI0IDogMzUwLjc4NzM5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9Ijc0NC4wOTQ0OCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTI2LjE4MTA5IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3NzciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNzUgOiA0MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxNTAgOiA2MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNjAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMzI3NSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI1MCA6IDMzLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxMDAgOiA1MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlNTUzMyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzMiA6IDIxLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI2NCA6IDMyIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAzMiA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNTU3IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjI1IDogMTYuNjY2NjY3IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjUwIDogMjUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDI1IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgPC9kZWZzPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSI0IgogICAgIGlua3NjYXBlOmN4PSI5NS43MjM2NiIKICAgICBpbmtzY2FwZTpjeT0iLTI2Ljc3NTAyMyIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyLjAwMDAwMDI0O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDc4LjMzMzMzMiwyNSBDIDkxLjY2NjY2NiwyNSA5NSwyNSA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk4ODtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMC4zODU3MTcsMTUgTCA0Ljk5OTk5OTgsMTUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk3NjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMS4zNjIwOTEsMzUgTCA0Ljk5OTk5OTgsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8ZwogICAgICAgaWQ9ImcyNTYwIgogICAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNi41LC0zOS41KSI+CiAgICAgIDxwYXRoCiAgICAgICAgIGlkPSJwYXRoMzUxNiIKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjI1LDgxLjUwMDAwNSBDIC0zLjg0NzM3NCw4NC4xNDQ0MDUgLTQuNSw4NC41MDAwMDUgLTQuNSw4NC41MDAwMDUgTCAtOC4xNTYyNSw4NC41MDAwMDUgTCAtNi4xNTYyNSw4Mi4wNjI1MDUgQyAtNi4xNTYyNSw4Mi4wNjI1MDUgLTAuNSw3NS4wNjI0NTEgLTAuNSw2NC41IEMgLTAuNSw1My45Mzc1NDkgLTYuMTU2MjUsNDYuOTM3NSAtNi4xNTYyNSw0Ni45Mzc1IEwgLTguMTU2MjUsNDQuNSBMIC00LjUsNDQuNSBDIC0zLjcxODc1LDQ1LjQzNzUgLTMuMDc4MTI1LDQ2LjE1NjI1IC0yLjI4MTI1LDQ3LjUgQyAtMC40MDg1MzEsNTAuNTk5ODE1IDIuNSw1Ni41MjY2NDYgMi41LDY0LjUgQyAyLjUsNzIuNDUwNjUgLTAuMzk2Njk3LDc4LjM3OTQyNSAtMi4yNSw4MS41MDAwMDUgeiIKICAgICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2Njc2NjY2NzYyIgLz4KICAgICAgPHBhdGgKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjQwNjI1LDQ0LjUgTCAtMC40MDYyNSw0Ni45Mzc1IEMgLTAuNDA2MjUsNDYuOTM3NSA1LjI1LDUzLjkzNzU0OSA1LjI1LDY0LjUgQyA1LjI1LDc1LjA2MjQ1MSAtMC40MDYyNSw4Mi4wNjI1IC0wLjQwNjI1LDgyLjA2MjUgTCAtMi40MDYyNSw4NC41IEwgMC43NSw4NC41IEwgMTQuNzUsODQuNSBDIDE3LjE1ODA3Niw4NC41MDAwMDEgMjIuNDM5Njk5LDg0LjUyNDUxNCAyOC4zNzUsODIuMDkzNzUgQyAzNC4zMTAzMDEsNzkuNjYyOTg2IDQwLjkxMTUzNiw3NC43NTA0ODQgNDYuMDYyNSw2NS4yMTg3NSBMIDQ0Ljc1LDY0LjUgTCA0Ni4wNjI1LDYzLjc4MTI1IEMgMzUuNzU5Mzg3LDQ0LjcxNTU5IDE5LjUwNjU3NCw0NC41IDE0Ljc1LDQ0LjUgTCAwLjc1LDQ0LjUgTCAtMi40MDYyNSw0NC41IHogTSAzLjQ2ODc1LDQ3LjUgTCAxNC43NSw0Ny41IEMgMTkuNDM0MTczLDQ3LjUgMzMuMDM2ODUsNDcuMzY5NzkzIDQyLjcxODc1LDY0LjUgQyAzNy45NTE5NjQsNzIuOTI5MDc1IDMyLjE5NzQ2OSw3Ny4xODM5MSAyNyw3OS4zMTI1IEMgMjEuNjM5MzM5LDgxLjUwNzkyNCAxNy4xNTgwNzUsODEuNTAwMDAxIDE0Ljc1LDgxLjUgTCAzLjUsODEuNSBDIDUuMzczNTg4NCw3OC4zOTE1NjYgOC4yNSw3Mi40NTA2NSA4LjI1LDY0LjUgQyA4LjI1LDU2LjUyNjY0NiA1LjM0MTQ2ODYsNTAuNTk5ODE1IDMuNDY4NzUsNDcuNSB6IgogICAgICAgICBpZD0icGF0aDQ5NzMiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NzY2NjY3NjY2NjY2NjY2NzY2NzYyIgLz4KICAgIDwvZz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDM1NTEiCiAgICAgICBzb2RpcG9kaTpjeD0iNzUiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA3OSwyNSBBIDQsNCAwIDEgMSA3MSwyNSBBIDQsNCAwIDEgMSA3OSwyNSB6IiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},{operation:function(t,e){return(!t||!e)&&(t||e)}}),nE=tn.define("logic.Wire",{attrs:{".connection":{"stroke-width":2},".marker-vertex":{r:7}},router:{name:"orthogonal"},connector:{name:"rounded",args:{radius:10}}},{arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<circle class="marker-arrowhead" end="<%= end %>" r="7"/>',"</g>"].join(""),vertexMarkup:['<g class="marker-vertex-group" transform="translate(<%= x %>, <%= y %>)">','<circle class="marker-vertex" idx="<%= idx %>" r="10" />','<g class="marker-vertex-remove-group">','<path class="marker-vertex-remove-area" idx="<%= idx %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>','<path class="marker-vertex-remove" idx="<%= idx %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">',"<title>Remove vertex.</title>","</path>","</g>","</g>"].join("")}),rE=Object.freeze(Object.defineProperty({__proto__:null,And:K_,Gate:sc,Gate11:Jd,Gate21:Xi,IO:Hd,Input:V_,Nand:q_,Nor:Q_,Not:J_,Or:$_,Output:X_,Repeater:H_,Wire:nE,Xnor:eE,Xor:tE},Symbol.toStringTag,{value:"Module"})),iE=me.define("chess.KingWhite",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;"><path      d="M 22.5,11.63 L 22.5,6"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path      d="M 20,8 L 25,8"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path      d="M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25"      style="fill:#ffffff; stroke:#000000; stroke-linecap:butt; stroke-linejoin:miter;" />    <path      d="M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z "      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 11.5,30 C 17,27 27,27 32.5,30"      style="fill:none; stroke:#000000;" />    <path      d="M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5"      style="fill:none; stroke:#000000;" />    <path      d="M 11.5,37 C 17,34 27,34 32.5,37"      style="fill:none; stroke:#000000;" />  </g></g></g>'}),sE=me.define("chess.KingBlack",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path       d="M 22.5,11.63 L 22.5,6"       style="fill:none; stroke:#000000; stroke-linejoin:miter;"       id="path6570" />    <path       d="M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25"       style="fill:#000000;fill-opacity:1; stroke-linecap:butt; stroke-linejoin:miter;" />    <path       d="M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z "       style="fill:#000000; stroke:#000000;" />    <path       d="M 20,8 L 25,8"       style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path       d="M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.51,26.6 L 22.5,24.5 C 20,18 9.906,14 6.997,19.85 C 4.5,25.5 11.85,28.85 11.85,28.85"       style="fill:none; stroke:#ffffff;" />    <path       d="M 11.5,30 C 17,27 27,27 32.5,30 M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5 M 11.5,37 C 17,34 27,34 32.5,37"       style="fill:none; stroke:#ffffff;" />  </g></g></g>'}),oE=me.define("chess.QueenWhite",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(-1,-1)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(15.5,-5.5)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(32,-1)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(7,-4.5)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(24,-4)" />    <path      d="M 9,26 C 17.5,24.5 30,24.5 36,26 L 38,14 L 31,25 L 31,11 L 25.5,24.5 L 22.5,9.5 L 19.5,24.5 L 14,10.5 L 14,25 L 7,14 L 9,26 z "      style="stroke-linecap:butt;" />    <path      d="M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z "      style="stroke-linecap:butt;" />    <path      d="M 11.5,30 C 15,29 30,29 33.5,30"      style="fill:none;" />    <path      d="M 12,33.5 C 18,32.5 27,32.5 33,33.5"      style="fill:none;" />  </g></g></g>'}),aE=me.define("chess.QueenBlack",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#000000; stroke:none;">      <circle cx="6"    cy="12" r="2.75" />      <circle cx="14"   cy="9"  r="2.75" />      <circle cx="22.5" cy="8"  r="2.75" />      <circle cx="31"   cy="9"  r="2.75" />      <circle cx="39"   cy="12" r="2.75" />    </g>    <path       d="M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z"       style="stroke-linecap:butt; stroke:#000000;" />    <path       d="M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z"       style="stroke-linecap:butt;" />    <path       d="M 11,38.5 A 35,35 1 0 0 34,38.5"       style="fill:none; stroke:#000000; stroke-linecap:butt;" />    <path       d="M 11,29 A 35,35 1 0 1 34,29"       style="fill:none; stroke:#ffffff;" />    <path       d="M 12.5,31.5 L 32.5,31.5"       style="fill:none; stroke:#ffffff;" />    <path       d="M 11.5,34.5 A 35,35 1 0 0 33.5,34.5"       style="fill:none; stroke:#ffffff;" />    <path       d="M 10.5,37.5 A 35,35 1 0 0 34.5,37.5"       style="fill:none; stroke:#ffffff;" />  </g></g></g>'}),lE=me.define("chess.RookWhite",{size:{width:32,height:34}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z "      style="stroke-linecap:butt;" />    <path      d="M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z "      style="stroke-linecap:butt;" />    <path      d="M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14"      style="stroke-linecap:butt;" />    <path      d="M 34,14 L 31,17 L 14,17 L 11,14" />    <path      d="M 31,17 L 31,29.5 L 14,29.5 L 14,17"      style="stroke-linecap:butt; stroke-linejoin:miter;" />    <path      d="M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5" />    <path      d="M 11,14 L 34,14"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />  </g></g></g>'}),cE=me.define("chess.RookBlack",{size:{width:32,height:34}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z "      style="stroke-linecap:butt;" />    <path      d="M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z "      style="stroke-linecap:butt;" />    <path      d="M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z "      style="stroke-linecap:butt;" />    <path      d="M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z "      style="stroke-linecap:butt;stroke-linejoin:miter;" />    <path      d="M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z "      style="stroke-linecap:butt;" />    <path      d="M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z "      style="stroke-linecap:butt;" />    <path      d="M 12,35.5 L 33,35.5 L 33,35.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 13,31.5 L 32,31.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 14,29.5 L 31,29.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 14,16.5 L 31,16.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 11,14 L 34,14"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />  </g></g></g>'}),uE=me.define("chess.BishopWhite",{size:{width:38,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-rule:evenodd; fill-opacity:1; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#ffffff; stroke:#000000; stroke-linecap:butt;">       <path        d="M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z" />      <path        d="M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z" />      <path        d="M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z" />    </g>    <path      d="M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />  </g></g></g>'}),fE=me.define("chess.BishopBlack",{size:{width:38,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-rule:evenodd; fill-opacity:1; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#000000; stroke:#000000; stroke-linecap:butt;">       <path        d="M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z" />      <path        d="M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z" />      <path        d="M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z" />    </g>    <path       d="M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18"       style="fill:none; stroke:#ffffff; stroke-linejoin:miter;" />  </g></g></g>'}),dE=me.define("chess.KnightWhite",{size:{width:38,height:37}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18"      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10"      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z"      style="fill:#000000; stroke:#000000;" />    <path      d="M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z"      transform="matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)"      style="fill:#000000; stroke:#000000;" />  </g></g></g>'}),hE=me.define("chess.KnightBlack",{size:{width:38,height:37}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18"      style="fill:#000000; stroke:#000000;" />    <path      d="M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10"      style="fill:#000000; stroke:#000000;" />    <path      d="M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z"      style="fill:#ffffff; stroke:#ffffff;" />    <path      d="M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z"      transform="matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)"      style="fill:#ffffff; stroke:#ffffff;" />    <path      d="M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z "      style="fill:#ffffff; stroke:none;" />  </g></g></g>'}),gE=me.define("chess.PawnWhite",{size:{width:28,height:33}},{markup:'<g class="rotatable"><g class="scalable"><path d="M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z "  style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:nonzero; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:miter; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;" /></g></g>'}),pE=me.define("chess.PawnBlack",{size:{width:28,height:33}},{markup:'<g class="rotatable"><g class="scalable"><path d="M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z "  style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:nonzero; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:miter; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;" /></g></g>'}),mE=Object.freeze(Object.defineProperty({__proto__:null,BishopBlack:fE,BishopWhite:uE,KingBlack:sE,KingWhite:iE,KnightBlack:hE,KnightWhite:dE,PawnBlack:pE,PawnWhite:gE,QueenBlack:aE,QueenWhite:oE,RookBlack:cE,RookWhite:lE},Symbol.toStringTag,{value:"Module"})),Qy=ke.define("erd.Entity",{size:{width:150,height:60},attrs:{".outer":{fill:"#2ECC71",stroke:"#27AE60","stroke-width":2,points:"100,0 100,60 0,60 0,0"},".inner":{fill:"#2ECC71",stroke:"#27AE60","stroke-width":2,points:"95,5 95,55 5,55 5,5",display:"none"},text:{text:"Entity","font-family":"Arial","font-size":14,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon class="outer"/><polygon class="inner"/></g><text/></g>'}),vE=Qy.define("erd.WeakEntity",{attrs:{".inner":{display:"auto"},text:{text:"Weak Entity"}}}),qy=ke.define("erd.Relationship",{size:{width:80,height:80},attrs:{".outer":{fill:"#3498DB",stroke:"#2980B9","stroke-width":2,points:"40,0 80,40 40,80 0,40"},".inner":{fill:"#3498DB",stroke:"#2980B9","stroke-width":2,points:"40,5 75,40 40,75 5,40",display:"none"},text:{text:"Relationship","font-family":"Arial","font-size":12,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon class="outer"/><polygon class="inner"/></g><text/></g>'}),IE=qy.define("erd.IdentifyingRelationship",{attrs:{".inner":{display:"auto"},text:{text:"Identifying"}}}),Ho=ke.define("erd.Attribute",{size:{width:100,height:50},attrs:{ellipse:{transform:"translate(50, 25)"},".outer":{stroke:"#D35400","stroke-width":2,cx:0,cy:0,rx:50,ry:25,fill:"#E67E22"},".inner":{stroke:"#D35400","stroke-width":2,cx:0,cy:0,rx:45,ry:20,fill:"#E67E22",display:"none"},text:{"font-family":"Arial","font-size":14,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><ellipse class="outer"/><ellipse class="inner"/></g><text/></g>'}),yE=Ho.define("erd.Multivalued",{attrs:{".inner":{display:"block"},text:{text:"multivalued"}}}),AE=Ho.define("erd.Derived",{attrs:{".outer":{"stroke-dasharray":"3,5"},text:{text:"derived"}}}),CE=Ho.define("erd.Key",{attrs:{ellipse:{"stroke-width":4},text:{text:"key","font-weight":"800","text-decoration":"underline"}}}),bE=Ho.define("erd.Normal",{attrs:{text:{text:"Normal"}}}),wE=ke.define("erd.ISA",{type:"erd.ISA",size:{width:100,height:50},attrs:{polygon:{points:"0,0 50,50 100,0",fill:"#F1C40F",stroke:"#F39C12","stroke-width":2},text:{text:"ISA","font-size":18,"ref-x":.5,"ref-y":.3,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon/></g><text/></g>'}),xE=tn.define("erd.Line",{},{cardinality:function(t){this.set("labels",[{position:-20,attrs:{text:{dy:-8,text:t}}}])}}),SE=Object.freeze(Object.defineProperty({__proto__:null,Attribute:Ho,Derived:AE,Entity:Qy,ISA:wE,IdentifyingRelationship:IE,Key:CE,Line:xE,Multivalued:yE,Normal:bE,Relationship:qy,WeakEntity:vE},Symbol.toStringTag,{value:"Module"})),NE=Vd.define("fsa.State",{attrs:{circle:{"stroke-width":3},text:{"font-weight":"800"}}}),ME=ke.define("fsa.StartState",{size:{width:20,height:20},attrs:{circle:{transform:"translate(10, 10)",r:10,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle/></g></g>'}),TE=ke.define("fsa.EndState",{size:{width:20,height:20},attrs:{".outer":{transform:"translate(10, 10)",r:10,fill:"#ffffff",stroke:"#000000"},".inner":{transform:"translate(10, 10)",r:6,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="outer"/><circle class="inner"/></g></g>'}),PE=tn.define("fsa.Arrow",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z"}},smooth:!0}),_E=Object.freeze(Object.defineProperty({__proto__:null,Arrow:PE,EndState:TE,StartState:ME,State:NE},Symbol.toStringTag,{value:"Module"})),EE=ke.define("org.Member",{size:{width:180,height:70},attrs:{rect:{width:170,height:60},".card":{fill:"#FFFFFF",stroke:"#000000","stroke-width":2,"pointer-events":"visiblePainted",rx:10,ry:10},image:{width:48,height:48,ref:".card","ref-x":10,"ref-y":5},".rank":{"text-decoration":"underline",ref:".card","ref-x":.9,"ref-y":.2,"font-family":"Courier New","font-size":14,"text-anchor":"end"},".name":{"font-weight":"800",ref:".card","ref-x":.9,"ref-y":.6,"font-family":"Courier New","font-size":14,"text-anchor":"end"}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="card"/><image/></g><text class="rank"/><text class="name"/></g>'}),DE=tn.define("org.Arrow",{source:{selector:".card"},target:{selector:".card"},attrs:{".connection":{stroke:"#585858","stroke-width":3}},z:-1}),OE=Object.freeze(Object.defineProperty({__proto__:null,Arrow:DE,Member:EE},Symbol.toStringTag,{value:"Module"})),kE=me.define("pn.Place",{size:{width:50,height:50},attrs:{".root":{r:25,fill:"#ffffff",stroke:"#000000",transform:"translate(25, 25)"},".label":{"text-anchor":"middle","ref-x":.5,"ref-y":-20,ref:".root",fill:"#000000","font-size":12},".tokens > circle":{fill:"#000000",r:5},".tokens.one > circle":{transform:"translate(25, 25)"},".tokens.two > circle:nth-child(1)":{transform:"translate(19, 25)"},".tokens.two > circle:nth-child(2)":{transform:"translate(31, 25)"},".tokens.three > circle:nth-child(1)":{transform:"translate(18, 29)"},".tokens.three > circle:nth-child(2)":{transform:"translate(25, 19)"},".tokens.three > circle:nth-child(3)":{transform:"translate(32, 29)"},".tokens.alot > text":{transform:"translate(25, 18)","text-anchor":"middle",fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="root"/><g class="tokens" /></g><text class="label"/></g>'}),LE=Ye.extend({presentationAttributes:Ye.addPresentationAttributes({tokens:["TOKENS"]}),initFlag:Ye.prototype.initFlag.concat(["TOKENS"]),confirmUpdate:function(...t){let e=Ye.prototype.confirmUpdate.call(this,...t);return this.hasFlag(e,"TOKENS")&&(this.renderTokens(),this.update(),e=this.removeFlag(e,"TOKENS")),e},renderTokens:function(){const t=this.vel.findOne(".tokens").empty();["one","two","three","alot"].forEach(function(n){t.removeClass(n)});var e=this.model.get("tokens");if(e)switch(e){case 1:t.addClass("one"),t.append(lt("circle"));break;case 2:t.addClass("two"),t.append([lt("circle"),lt("circle")]);break;case 3:t.addClass("three"),t.append([lt("circle"),lt("circle"),lt("circle")]);break;default:t.addClass("alot"),t.append(lt("text").text(e+""));break}}}),zE=me.define("pn.Transition",{size:{width:12,height:50},attrs:{rect:{width:12,height:50,fill:"#000000",stroke:"#000000"},".label":{"text-anchor":"middle","ref-x":.5,"ref-y":-20,ref:"rect",fill:"#000000","font-size":12}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="root"/></g></g><text class="label"/>'}),RE=tn.define("pn.Link",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z"}}}),BE=Object.freeze(Object.defineProperty({__proto__:null,Link:RE,Place:kE,PlaceView:LE,Transition:zE},Symbol.toStringTag,{value:"Module"})),$d=me.define("uml.Class",{attrs:{rect:{width:200},".uml-class-name-rect":{stroke:"black","stroke-width":2,fill:"#3498db"},".uml-class-attrs-rect":{stroke:"black","stroke-width":2,fill:"#2980b9"},".uml-class-methods-rect":{stroke:"black","stroke-width":2,fill:"#2980b9"},".uml-class-name-text":{ref:".uml-class-name-rect","ref-y":.5,"ref-x":.5,"text-anchor":"middle","y-alignment":"middle","font-weight":"bold",fill:"black","font-size":12,"font-family":"Times New Roman"},".uml-class-attrs-text":{ref:".uml-class-attrs-rect","ref-y":5,"ref-x":5,fill:"black","font-size":12,"font-family":"Times New Roman"},".uml-class-methods-text":{ref:".uml-class-methods-rect","ref-y":5,"ref-x":5,fill:"black","font-size":12,"font-family":"Times New Roman"}},name:[],attributes:[],methods:[]},{markup:['<g class="rotatable">','<g class="scalable">','<rect class="uml-class-name-rect"/><rect class="uml-class-attrs-rect"/><rect class="uml-class-methods-rect"/>',"</g>",'<text class="uml-class-name-text"/><text class="uml-class-attrs-text"/><text class="uml-class-methods-text"/>',"</g>"].join(""),initialize:function(){this.on("change:name change:attributes change:methods",function(){this.updateRectangles(),this.trigger("uml-update")},this),this.updateRectangles(),me.prototype.initialize.apply(this,arguments)},getClassName:function(){return this.get("name")},updateRectangles:function(){var t=this.get("attrs"),e=[{type:"name",text:this.getClassName()},{type:"attrs",text:this.get("attributes")},{type:"methods",text:this.get("methods")}],n=0;e.forEach(function(r){var i=Array.isArray(r.text)?r.text:[r.text],s=i.length*20+20;t[".uml-class-"+r.type+"-text"].text=i.join(`
`),t[".uml-class-"+r.type+"-rect"].height=s,t[".uml-class-"+r.type+"-rect"].transform="translate(0,"+n+")",n+=s})}}),Kd=Ye.extend({initialize:function(){Ye.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"uml-update",function(){this.update(),this.resize()})}}),jE=$d.define("uml.Abstract",{attrs:{".uml-class-name-rect":{fill:"#e74c3c"},".uml-class-attrs-rect":{fill:"#c0392b"},".uml-class-methods-rect":{fill:"#c0392b"}}},{getClassName:function(){return["<<Abstract>>",this.get("name")]}}),GE=Kd,ZE=$d.define("uml.Interface",{attrs:{".uml-class-name-rect":{fill:"#f1c40f"},".uml-class-attrs-rect":{fill:"#f39c12"},".uml-class-methods-rect":{fill:"#f39c12"}}},{getClassName:function(){return["<<Interface>>",this.get("name")]}}),WE=Kd,UE=tn.define("uml.Generalization",{attrs:{".marker-target":{d:"M 20 0 L 0 10 L 20 20 z",fill:"white"}}}),FE=tn.define("uml.Implementation",{attrs:{".marker-target":{d:"M 20 0 L 0 10 L 20 20 z",fill:"white"},".connection":{"stroke-dasharray":"3,3"}}}),YE=tn.define("uml.Aggregation",{attrs:{".marker-target":{d:"M 40 10 L 20 20 L 0 10 L 20 0 z",fill:"white"}}}),VE=tn.define("uml.Composition",{attrs:{".marker-target":{d:"M 40 10 L 20 20 L 0 10 L 20 0 z",fill:"black"}}}),XE=tn.define("uml.Association"),HE=me.define("uml.State",{attrs:{".uml-state-body":{width:200,height:200,rx:10,ry:10,fill:"#ecf0f1",stroke:"#bdc3c7","stroke-width":3},".uml-state-separator":{stroke:"#bdc3c7","stroke-width":2},".uml-state-name":{ref:".uml-state-body","ref-x":.5,"ref-y":5,"text-anchor":"middle",fill:"#000000","font-family":"Courier New","font-size":14},".uml-state-events":{ref:".uml-state-separator","ref-x":5,"ref-y":5,fill:"#000000","font-family":"Courier New","font-size":14}},name:"State",events:[]},{markup:['<g class="rotatable">','<g class="scalable">','<rect class="uml-state-body"/>',"</g>",'<path class="uml-state-separator"/>','<text class="uml-state-name"/>','<text class="uml-state-events"/>',"</g>"].join(""),initialize:function(){this.on({"change:name":this.updateName,"change:events":this.updateEvents,"change:size":this.updatePath},this),this.updateName(),this.updateEvents(),this.updatePath(),me.prototype.initialize.apply(this,arguments)},updateName:function(){this.attr(".uml-state-name/text",this.get("name"))},updateEvents:function(){this.attr(".uml-state-events/text",this.get("events").join(`
`))},updatePath:function(){var t="M 0 20 L "+this.get("size").width+" 20";this.attr(".uml-state-separator/d",t,{silent:!0})}}),JE=Vd.define("uml.StartState",{type:"uml.StartState",attrs:{circle:{fill:"#34495e",stroke:"#2c3e50","stroke-width":2,rx:1}}}),$E=me.define("uml.EndState",{size:{width:20,height:20},attrs:{"circle.outer":{transform:"translate(10, 10)",r:10,fill:"#ffffff",stroke:"#2c3e50"},"circle.inner":{transform:"translate(10, 10)",r:6,fill:"#34495e"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="outer"/><circle class="inner"/></g></g>'}),KE=tn.define("uml.Transition",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z",fill:"#34495e",stroke:"#2c3e50"},".connection":{stroke:"#2c3e50"}}}),QE=Object.freeze(Object.defineProperty({__proto__:null,Abstract:jE,AbstractView:GE,Aggregation:YE,Association:XE,Class:$d,ClassView:Kd,Composition:VE,EndState:$E,Generalization:UE,Implementation:FE,Interface:ZE,InterfaceView:WE,StartState:JE,State:HE,Transition:KE},Symbol.toStringTag,{value:"Module"})),tA=Object.freeze(Object.defineProperty({__proto__:null,basic:x_,chess:mE,devs:Y_,erd:SE,fsa:_E,logic:rE,org:OE,pn:BE,standard:Z_,uml:QE},Symbol.toStringTag,{value:"Module"}));var Fp=Rr.extend({tagName:"circle",svgElement:!0,className:"marker-vertex",events:{mousedown:"onPointerDown",touchstart:"onPointerDown",dblclick:"onDoubleClick",dbltap:"onDoubleClick"},documentEvents:{mousemove:"onPointerMove",touchmove:"onPointerMove",mouseup:"onPointerUp",touchend:"onPointerUp",touchcancel:"onPointerUp"},attributes:{r:6,fill:"#33334F",stroke:"#FFFFFF","stroke-width":2,cursor:"move"},position:function(t,e){const{vel:n,options:r}=this,{scale:i}=r;let s=lt.createSVGMatrix().translate(t,e);i&&(s=s.scale(i)),n.transform(s,{absolute:!0})},onPointerDown:function(t){this.options.guard(t)||(t.stopPropagation(),t.preventDefault(),this.options.paper.undelegateEvents(),this.delegateDocumentEvents(null,t.data),this.trigger("will-change",this,t))},onPointerMove:function(t){this.trigger("changing",this,t)},onDoubleClick:function(t){this.trigger("remove",this,t)},onPointerUp:function(t){this.trigger("changed",this,t),this.undelegateDocumentEvents(),this.options.paper.delegateEvents()}});const qE=rc.extend({name:"vertices",options:{handleClass:Fp,snapRadius:20,redundancyRemoval:!0,vertexAdding:!0,stopPropagation:!0,scale:null},children:[{tagName:"path",selector:"connection",className:"joint-vertices-path",attributes:{fill:"none",stroke:"transparent","stroke-width":10,cursor:"cell"}}],handles:null,events:{"mousedown .joint-vertices-path":"onPathPointerDown","touchstart .joint-vertices-path":"onPathPointerDown"},onRender:function(){return this.options.vertexAdding&&(this.renderChildren(),this.updatePath()),this.resetHandles(),this.renderHandles(),this},update:function(){var t=this.relatedView,e=t.model.vertices();return e.length===this.handles.length?this.updateHandles():(this.resetHandles(),this.renderHandles()),this.options.vertexAdding&&this.updatePath(),this},resetHandles:function(){var t=this.handles;if(this.handles=[],this.stopListening(),!!Array.isArray(t))for(var e=0,n=t.length;e<n;e++)t[e].remove()},renderHandles:function(){for(var t=this.relatedView,e=t.model.vertices(),n=0,r=e.length;n<r;n++){var i=e[n],s=new this.options.handleClass({index:n,paper:this.paper,scale:this.options.scale,guard:o=>this.guard(o)});s.render(),s.position(i.x,i.y),this.simulateRelatedView(s.el),s.vel.appendTo(this.el),this.handles.push(s),this.startHandleListening(s)}},updateHandles:function(){for(var t=this.relatedView,e=t.model.vertices(),n=0,r=e.length;n<r;n++){var i=e[n],s=this.handles[n];if(!s)return;s.position(i.x,i.y)}},updatePath:function(){var t=this.childNodes.connection;t&&t.setAttribute("d",this.relatedView.getSerializedConnection())},startHandleListening:function(t){var e=this.relatedView;e.can("vertexMove")&&(this.listenTo(t,"will-change",this.onHandleWillChange),this.listenTo(t,"changing",this.onHandleChanging),this.listenTo(t,"changed",this.onHandleChanged)),e.can("vertexRemove")&&this.listenTo(t,"remove",this.onHandleRemove)},getNeighborPoints:function(t){var e=this.relatedView,n=e.model.vertices(),r=t>0?n[t-1]:e.sourceAnchor,i=t<n.length-1?n[t+1]:e.targetAnchor;return{prev:new Z(r),next:new Z(i)}},onHandleWillChange:function(t,e){this.focus();const{relatedView:n,options:r}=this;n.model.startBatch("vertex-move",{ui:!0,tool:this.cid}),r.stopPropagation||n.notifyPointerdown(...n.paper.getPointerArgs(e))},onHandleChanging:function(t,e){const{options:n,relatedView:r}=this;var i=t.options.index,[s,o,a]=r.paper.getPointerArgs(e),l={x:o,y:a};this.snapVertex(l,i),r.model.vertex(i,l,{ui:!0,tool:this.cid}),t.position(l.x,l.y),n.stopPropagation||r.notifyPointermove(s,o,a)},onHandleChanged:function(t,e){const{options:n,relatedView:r}=this;if(n.vertexAdding&&this.updatePath(),!!n.redundancyRemoval){var i=r.removeRedundantLinearVertices({ui:!0,tool:this.cid});i&&this.render(),this.blur(),r.model.stopBatch("vertex-move",{ui:!0,tool:this.cid}),this.eventData(e).vertexAdded&&r.model.stopBatch("vertex-add",{ui:!0,tool:this.cid});var[s,o,a]=r.paper.getPointerArgs(e);n.stopPropagation||r.notifyPointerup(s,o,a),r.checkMouseleave(s)}},snapVertex:function(t,e){var n=this.options.snapRadius;if(n>0){var r=this.getNeighborPoints(e),i=r.prev,s=r.next;Math.abs(t.x-i.x)<n?t.x=i.x:Math.abs(t.x-s.x)<n&&(t.x=s.x),Math.abs(t.y-i.y)<n?t.y=r.prev.y:Math.abs(t.y-s.y)<n&&(t.y=s.y)}},onHandleRemove:function(t,e){var n=t.options.index,r=this.relatedView;r.model.removeVertex(n,{ui:!0}),this.options.vertexAdding&&this.updatePath(),r.checkMouseleave(Be(e))},onPathPointerDown:function(t){if(!this.guard(t)){t.stopPropagation(),t.preventDefault();var e=Be(t),n=this.paper.snapToGrid(e.clientX,e.clientY).toJSON(),r=this.relatedView;r.model.startBatch("vertex-add",{ui:!0,tool:this.cid});var i=r.getVertexIndex(n.x,n.y);this.snapVertex(n,i),r.model.insertVertex(i,n,{ui:!0,tool:this.cid}),this.update();var s=this.handles[i];this.eventData(e,{vertexAdded:!0}),s.onPointerDown(e)}},onRemove:function(){this.resetHandles()}},{VertexHandle:Fp});function tD(t,e){const{model:n}=t;return e?n.getBBox():n.isLink()?t.getConnection().bbox():t.getNodeUnrotatedBBox(t.el)}const eA=rc.extend({tagName:"path",xAxisVector:new Z(1,0),events:{mousedown:"onPointerDown",touchstart:"onPointerDown"},documentEvents:{mousemove:"onPointerMove",touchmove:"onPointerMove",mouseup:"onPointerUp",touchend:"onPointerUp",touchcancel:"onPointerUp"},options:{scale:null},onRender:function(){this.update()},update:function(){var t=this.ratio,e=this.relatedView,n=e.getTangentAtRatio(t),r,i;if(n?(r=n.start,i=n.vector().vectorAngle(this.xAxisVector)||0):(r=e.getPointAtRatio(t),i=0),!r)return this;var s=lt.createSVGMatrix().translate(r.x,r.y).rotate(i);const{scale:o}=this.options;return o&&(s=s.scale(o)),this.vel.transform(s,{absolute:!0}),this},onPointerDown:function(t){if(!this.guard(t)){t.stopPropagation(),t.preventDefault();var e=this.relatedView;e.model.startBatch("arrowhead-move",{ui:!0,tool:this.cid}),e.can("arrowheadMove")&&(e.startArrowheadMove(this.arrowheadType),this.delegateDocumentEvents(),e.paper.undelegateEvents()),this.focus(),this.el.style.pointerEvents="none"}},onPointerMove:function(t){var e=Be(t),n=this.paper.snapToGrid(e.clientX,e.clientY);this.relatedView.pointermove(e,n.x,n.y)},onPointerUp:function(t){this.undelegateDocumentEvents();var e=this.relatedView,n=e.paper,r=Be(t),i=n.snapToGrid(r.clientX,r.clientY);e.pointerup(r,i.x,i.y),n.delegateEvents(),this.blur(),this.el.style.pointerEvents="",e.model.stopBatch("arrowhead-move",{ui:!0,tool:this.cid})}}),eD=eA.extend({name:"target-arrowhead",ratio:1,arrowheadType:"target",attributes:{d:"M -10 -8 10 0 -10 8 Z",fill:"#33334F",stroke:"#FFFFFF","stroke-width":2,cursor:"move",class:"target-arrowhead"}}),nD=eA.extend({name:"source-arrowhead",ratio:0,arrowheadType:"source",attributes:{d:"M 10 -8 -10 0 10 8 Z",fill:"#33334F",stroke:"#FFFFFF","stroke-width":2,cursor:"move",class:"source-arrowhead"}}),oc=rc.extend({name:"boundary",tagName:"rect",options:{padding:10,useModelGeometry:!1},attributes:{fill:"none",stroke:"#33334F","stroke-width":.5,"stroke-dasharray":"5, 5","pointer-events":"none"},onRender:function(){this.update()},update:function(){const{relatedView:t,options:e,vel:n}=this,{useModelGeometry:r,rotate:i}=e,s=ai(e.padding);let o=tD(t,r).moveAndExpand({x:-s.left,y:-s.top,width:s.left+s.right,height:s.top+s.bottom});var a=t.model;if(a.isElement()){var l=a.angle();if(l)if(i){var u=a.getBBox().center();n.rotate(l,u.x,u.y,{absolute:!0})}else o=o.bbox(l)}return n.attr(o.toJSON()),this}});async function Yp(t,e,n,r,i,s){const o=[];t.forEach(l=>{const u=r.getCell(l.id),h=i.findViewByModel(u);o.push(h),h.highlight(),u.attr("tokenNumber/text",l.tokens);const f=u.prop("inputPlaceCounter");u.prop("inputPlaceCounter",f+1)}),await au(500/s),o.forEach(l=>l.unhighlight()),n.forEach(l=>{const u=r.getCell(l);i.findViewByModel(u).highlight()}),await au(500/s),n.forEach(l=>{const u=r.getCell(l);i.findViewByModel(u).unhighlight()});const a=[];e.forEach(l=>{const u=r.getCell(l.id),h=i.findViewByModel(u);a.push(h),h.highlight(),u.attr("tokenNumber/text",l.tokens);const f=u.prop("outputPlaceCounter");u.prop("outputPlaceCounter",f+1)}),await au(500/s),a.forEach(l=>l.unhighlight())}function au(t){return new Promise(e=>setTimeout(e,t))}async function rD(){return new Promise((t,e)=>{const n=new WebSocket("wss://csl.bpm.in.tum.de/boris/ws");n.onopen=function(r){console.log(r),console.log("[open] Connection established"),t(n)},n.onerror=function(r){console.error("[error] WebSocket error:",r),e(r)}})}async function iD(t){return new Promise((e,n)=>{t.onclose=function(r){r.wasClean?(console.log("[close] Connection closed"),e(t)):(console.log("[close] Connection died"),e(t))},t.onerror=function(r){console.error("[error] WebSocket error:",r),n(r)},t.close(1e3,"Close gracefully")})}function Vp(t){return t.readyState===WebSocket.OPEN}async function sD(t){return t.data}async function oD(t,e){const n=e.action,r=e.status,i=e.data,a=aD("frontend","backend",n,r,i);await t.send(a)}function aD(t,e,n,r,i){return JSON.stringify({sender:t,receiver:e,action:n,status:r,data:i})}const lD={class:"plane-container",ref:"container"},cD={__name:"SimGridPlane",setup(t){const e=li(),n=Pf(),r=_f();let i=null;const s=nn(null),o=tA,a=new ec({},{cellNamespace:o});let l=null;hf(()=>{l=new Vy({el:s.value,model:a,height:"100%",width:"100%",drawGrid:"mesh",gridSize:5,cellViewNamespace:o}),n.unselectAllModels(),e.setModels(n.getModels),l.scale(r.paperScale);const w=new oc,O=new ic({tools:[w]});l.on("element:pointerclick",function(k){const R=k.model;k.addTools(O),R.attributes.type==="custom.Place"&&(e.selectedPlace=R,e.isPlaceSelected=!0)}),l.on("blank:pointerclick",function(k){l.removeTools(),e.isPlaceSelected=!1,e.selectedPlace=null})}),Do(()=>{e.unselectAllModels()}),e.$onAction(({name:w,store:O,args:k,after:R,onError:U})=>{R(F=>{if(w==="selectModel"){const y=k[0];jg({name:y.name}).then(d=>{e.resetAllButtons();const S=JSON.parse(d);a.fromJSON(S.model)}).catch(d=>{console.error("The following error occured, while fetching model: "+d)})}else w==="unselectModel"&&(e.resetAllButtons(),e.setSimulationTime(0),a.clear())})}),Je(()=>e.manualSimulation,(w,O)=>{w&&e.findEnabledTransitions()}),e.$onAction(({name:w,store:O,args:k,after:R})=>{R(U=>{if(w==="fireTransition"){const F=k[0],y={model:a.toJSON()},d={name:e.getSelectedModelName,transition_id:F.id};YN(d,y).then(S=>{const E=S.input_places,z=S.output_places,W=S.transition_id,$=S.delay;Yp(E,z,W,a,l,e.simSpeed).then(Q=>{console.log("Successful animation"),$>-1&&e.setSimulationTime(e.getSimulationTime+$);const ut=h();e.updateTraceback(F,ut),e.findEnabledTransitions()}).catch(Q=>{console.error(Q)})})}else if(w==="findEnabledTransitions"){const y={model:a.toJSON()};VN({name:"",transition_id:""},y).then(S=>{const z=u(S);e.setEnabledTransitions(z)}).catch(S=>{console.error(S)})}})}),Je(()=>e.automaticSimulation,(w,O)=>{w?f().then(()=>{i.onmessage=b,C(i,{action:"greet",status:"ok",data:""})}):O&&C(i,{action:"goodbye",status:"ok",data:""}).then(()=>{v()})}),Je(()=>e.startSim,w=>{w&&(Vp(i)?C(i,{action:"create_model",status:"ok",data:a.toJSON()}):console.error("Missing connection to socket, cannot start simulation"))}),Je(()=>e.continueSim,w=>{if(w&&Vp(i)){const O={sim_step:e.withTimeStep};C(i,{action:"sim",status:"ok",data:O}),e.continueSim=!1}}),Je(()=>e.stopSim,(w,O)=>{O&&!w&&(e.continueSim=!0,e.stopSim=!1)}),Je(()=>e.rewindToStart,w=>{if(w){const O=e.getSelectedModelName;jg({name:O}).then(k=>{e.resetAllButtons();const R=JSON.parse(k);e.setSimulationTime(0),e.traceback=[],a.fromJSON(R.model)}).catch(k=>{console.error("The following error occured, while fetching model: "+k)})}});function u(w){const O=[];for(let k=0;k<w.length;k++){const U=a.getCell(w[k]).attr("label/text");O.push({id:w[k],label:U})}return O}function h(){const w=[];for(const O of a.getCells())if(O.attributes.type==="custom.Place"){const k=O.attributes.attrs.label.text,R=O.attributes.attrs.tokenNumber.text;w.push({label:k,tokenCount:R})}return console.log(w),w}async function f(){try{i=await rD()}catch(w){console.error(w)}}async function v(){try{await iD(i)}catch(w){console.error(w)}}async function C(w,O){await oD(w,O)}function b(w){sD(w).then(O=>{O=JSON.parse(O),console.log(O),O.action=="model_created"?e.continueSim=!0:O.action=="visualize_fired_transition"?(e.withTimeStep?(console.log("With sim step"),e.simulationTime=e.getSimulationTime+e.simStep):(console.log("Without sim step"),console.log(O.delay),e.simulationTime=e.getSimulationTime+O.delay),Yp(O.input_places,O.output_places,O.transition_id,a,l,e.simSpeed).then(()=>{const k=h(),R=u(O.transition_id)[0];e.updateTraceback(R,k),!e.stopSim&&!e.rewindToStart&&(e.continueSim=!0)})):O.action=="end_sim"&&console.log("End of the simulation")}).catch(O=>{console.log(O)})}return(w,O)=>(Qt(),ne("div",lD,[it("div",{class:"plane",ref_key:"plane",ref:s},null,512)],512))}},uD=Ee(cD,[["__scopeId","data-v-6af196b6"]]);const fD={id:"app"},dD={class:"main-container"},hD={class:"top-container"},gD={class:"bottom-container"},pD={class:"side-bar-container"},mD={class:"grid-plane-container"},vD={__name:"SimulationView",setup(t){return(e,n)=>(Qt(),ne("div",fD,[it("div",dD,[it("div",hD,[qt(Mf)]),it("div",gD,[it("div",pD,[qt(FN)]),it("div",mD,[qt(uD)])])])]))}},ID=Ee(vD,[["__scopeId","data-v-a5728071"]]),yD="/boris_frontend/assets/place-0f6841cf.svg",AD="/boris_frontend/assets/transition-0213a895.svg",CD="/boris_frontend/assets/immediateTransition-d872b948.svg",nA=Lo("createElemStore",{state:()=>({placeButton:!1,transitionButton:!1,immediateTransitionButton:!1,arcButton:!1}),getters:{getPlaceButton:t=>t.placeTrigger,getTransitionButton:t=>t.transitionButton,getImmediateTransitionButton:t=>t.immediateTransitionButton,getArcButton:t=>t.arcButton},actions:{setPlaceButton(t){this.placeButton=t},setTransitionButton(t){this.transitionButton=t},setImmediateTransitionButton(t){this.immediateTransitionButton=t},setArcButton(t){this.arcButton=t}}});const ac=t=>(Bn("data-v-fb1eef2a"),t=t(),jn(),t),bD={class:"menu-container"},wD=ac(()=>it("p",{class:"text"},"Create Element",-1)),xD={class:"btn-container"},SD=ac(()=>it("img",{src:yD},null,-1)),ND=[SD],MD=ac(()=>it("img",{src:AD},null,-1)),TD=[MD],PD=ac(()=>it("img",{src:CD},null,-1)),_D=[PD],ED={__name:"CreateElemMenu",setup(t){const e=nA();return(n,r)=>(Qt(),ne("div",bD,[wD,it("div",xD,[it("button",{onClick:r[0]||(r[0]=i=>ue(e).setPlaceButton(!0))},ND),it("button",{onClick:r[1]||(r[1]=i=>ue(e).setTransitionButton(!0))},TD),it("button",{onClick:r[2]||(r[2]=i=>ue(e).setImmediateTransitionButton(!0))},_D)])]))}},DD=Ee(ED,[["__scopeId","data-v-fb1eef2a"]]),Jo=Lo("selectElements",{state:()=>({selectedPlace:!1,selectedTransition:!1,selectedArc:!1,selectedElement:null}),getters:{getPlaceLabel:t=>{if(t.selectedPlace)return t.selectedElement.attr("label/text")},getPlaceTokens:t=>{if(t.selectedPlace)return t.selectedElement.attr("tokenNumber/text")},getTransitionLabel:t=>{if(t.selectedTransition)return t.selectedElement.attr("label/text")},getTransitionDistribution:t=>{if(t.selectedTransition)return t.selectedElement.prop("tokenDistribution")},getTransitionDistributionRate:t=>{if(t.selectedTransition)return t.selectedElement.prop("rate")},getTransitionIsTimed:t=>{if(t.selectedTransition)return t.selectedElement.prop("timed")},getArcLabel:t=>{if(t.selectedArc)return t.selectedElement.attr("label/text")},getArcWeight:t=>{if(t.selectedArc)return t.selectedElement.prop("arcWeight")}},actions:{unselectAll(){this.selectedPlace=!1,this.selectedTransition=!1,this.selectedArc=!1,this.selectedElement=null},selectPlace(t){this.selectedTransition=!1,this.selectedArc=!1,this.selectedPlace=!0,this.selectedElement=t},unselectPlace(){this.selectedPlace?(this.selectedPlace=!1,this.selectedElement=null):console.error("Cannot unselect a place, if a place has not been selected before")},setPlaceTokenNumber(t){this.selectedPlace?this.selectedElement.attr("tokenNumber/text",t):console.error("Cannot set place tokens, if a place has not been selected")},setPlaceLabel(t){this.selectedPlace?this.selectedElement.attr("label/text",t):console.error("Cannot set place label, if a place has not been selected")},deletePlace(){this.selectedPlace?(this.selectedPlace=!1,this.selectedElement.remove(),this.selectedElement=null):console.error("Cannot delete a place, if a place has not been selected")},selectTransition(t){this.selectedPlace=!1,this.selectedArc=!1,this.selectedTransition=!0,this.selectedElement=t},unselectTransition(){this.selectedTransition?(this.selectedTransition=!1,this.selectedElement=null):console.error("Cannot unselect a transition, if a transition has not been selected before")},setTransitionLabel(t){this.selectedTransition?this.selectedElement.attr("label/text",t):console.error("Cannot set transition label, if a transition has not been selected")},setTransitionDistribution(t){this.selectedTransition?this.selectedElement.prop("tokenDistribution",t):console.error("Cannot set transition distribution, if a transition has not been selected")},setTransitionRate(t){this.selectedTransition?(this.selectedElement.prop("rate",t),this.selectedElement.attr("lambda/text","="+t)):console.error("Cannot set transition rate, if a transition has not been selected")},deleteTransition(){this.selectedTransition?(this.selectedElement.remove(),this.selectedTransition=!1,this.selectedElement=null):console.error("Cannot delete a transition, if a transition has not been selected")},selectArc(t){this.selectedPlace=!1,this.selectedTransition=!1,this.selectedArc=!0,this.selectedElement=t},unselectArc(){this.selectedArc?(this.selectedArc=!1,this.selectedElement=null):console.error("Cannot unselect an arc, if an arc has not been selected")},setArcWeight(t){this.selectedArc?(this.selectedElement.prop("arcWeight",t),this.selectedElement.labels([{attrs:{text:{text:""+t}}}]),this.selectedElement.prop("attrs/label/text",""+t)):console.error("Cannot set arc weight if arc has not been selected")},deleteArc(){this.selectedArc?(this.selectedElement.remove(),this.selectedArc=!1,this.selectedElement=null):console.error("Cannot delete an arc, if an arc has not been selected")}}}),lc="/boris_frontend/assets/delete-a13592d6.svg";const Qd=t=>(Bn("data-v-edffc0e1"),t=t(),jn(),t),OD={class:"sim-container"},kD=["onKeydown"],LD=Qd(()=>it("p",null,"Change place label",-1)),zD={class:"sim-container"},RD=["onKeydown"],BD=Qd(()=>it("p",null,"Change place token number",-1)),jD=Qd(()=>it("img",{src:lc},null,-1)),GD=[jD],ZD={__name:"EditPlaceMenu",setup(t){const e=Jo(),n=nn(e.getPlaceLabel),r=nn(e.getPlaceTokens);Je(()=>e.selectedElement,a=>{a!=null&&(n.value=e.getPlaceLabel,r.value=e.getPlaceTokens)});function i(a){e.setPlaceLabel(n.value),a.target.blur()}function s(a){const l=r.value,u=parseInt(l);if(isNaN(u)){alert("Place token count should be an integer"),r.value=e.getPlaceTokens,a.target.blur();return}if(u<0){alert("Place token count should be positive or zero"),r.value=e.getPlaceTokens,a.target.blur();return}e.setPlaceTokenNumber(r.value),a.target.blur()}function o(){e.deletePlace()}return(a,l)=>(Qt(),ne("div",null,[it("div",OD,[lr(it("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=u=>n.value=u),class:"input",onKeydown:vo(i,["enter"])},null,40,kD),[[jr,n.value]]),LD]),it("div",zD,[lr(it("input",{type:"number","onUpdate:modelValue":l[1]||(l[1]=u=>r.value=u),class:"input",onKeydown:vo(s,["enter"])},null,40,RD),[[jr,r.value]]),BD]),it("div",{class:"btn-container"},[it("button",{onClick:o},GD)])]))}},WD=Ee(ZD,[["__scopeId","data-v-edffc0e1"]]);const Hi=t=>(Bn("data-v-1a513454"),t=t(),jn(),t),UD={class:"sim-container"},FD=["onKeydown"],YD=Hi(()=>it("p",null,"Change transition label",-1)),VD={class:"sim-container"},XD=["disabled"],HD=Hi(()=>it("option",null,"Exponential",-1)),JD=Hi(()=>it("option",null,"General",-1)),$D=[HD,JD],KD=Hi(()=>it("p",null,"Change transition token distribution",-1)),QD={class:"sim-container"},qD={class:"firing-rate-input-container"},tO=Hi(()=>it("div",{class:"lambda-text-container"},"  = ",-1)),eO=["onKeydown","disabled"],nO=Hi(()=>it("div",null,[it("p",null," Change transition firing rate")],-1)),rO=Hi(()=>it("img",{src:lc},null,-1)),iO=[rO],sO={__name:"EditTransitionMenu",setup(t){const e=Jo(),n=nn(e.getTransitionLabel),r=nn(e.getTransitionDistribution),i=nn(e.getTransitionDistributionRate),s=nn(e.getTransitionIsTimed);Je(()=>e.selectedElement,h=>{h!=null&&(n.value=e.getTransitionLabel,r.value=e.getTransitionDistribution,i.value=e.getTransitionDistributionRate)});function o(h){e.setTransitionLabel(n.value),h.target.blur()}function a(){e.setTransitionDistribution(r.value)}function l(h){const f=i.value,v=parseFloat(f);if(isNaN(v)){alert("The firing rate should be a number"),i.value=e.getTransitionDistributionRate,h.target.blur();return}if(v<=0){alert("The firing rate should be higher than 0"),i.value=e.getTransitionDistributionRate,h.target.blur();return}e.setTransitionRate(i.value),h.target.blur()}function u(){e.deleteTransition()}return(h,f)=>(Qt(),ne("div",null,[it("div",UD,[lr(it("input",{type:"text","onUpdate:modelValue":f[0]||(f[0]=v=>n.value=v),class:"input",onKeydown:vo(o,["enter"])},null,40,FD),[[jr,n.value]]),YD]),it("div",VD,[lr(it("select",{"onUpdate:modelValue":f[1]||(f[1]=v=>r.value=v),class:"input",onChange:a,disabled:!s.value},$D,40,XD),[[Vm,r.value]]),KD]),it("div",QD,[it("div",qD,[tO,lr(it("input",{type:"number","onUpdate:modelValue":f[2]||(f[2]=v=>i.value=v),class:"input",onKeydown:vo(l,["enter"]),disabled:!s.value},null,40,eO),[[jr,i.value]])]),nO]),it("div",{class:"btn-container"},[it("button",{onClick:u},iO)])]))}},oO=Ee(sO,[["__scopeId","data-v-1a513454"]]);const aO={class:"sim-container"},lO=["onKeydown"],cO=it("p",null,"Change arc weight",-1),uO=it("img",{src:lc},null,-1),fO=[uO],dO={__name:"EditArcMenu",setup(t){const e=Jo(),n=nn(e.getArcWeight);function r(){e.deleteArc()}function i(s){const o=n.value,a=parseInt(o);if(isNaN(a)){alert("Arc weight should be an integer"),s.target.blur();return}if(a<=0){alert("Arc weight should be positive"),s.target.blur();return}e.setArcWeight(a),s.target.blur()}return(s,o)=>(Qt(),ne("div",null,[it("div",aO,[lr(it("input",{type:"number","onUpdate:modelValue":o[0]||(o[0]=a=>n.value=a),class:"input",onKeydown:vo(i,["enter"])},null,40,lO),[[jr,n.value]]),cO]),it("div",{class:"btn-container"},[it("button",{onClick:r},fO)])]))}};const rA=t=>(Bn("data-v-e1025779"),t=t(),jn(),t),hO={class:"menu-container"},gO=rA(()=>it("p",{class:"text"},"Edit element",-1)),pO={key:0},mO={key:1},vO={key:2},IO={key:3,class:"sim-container"},yO=rA(()=>it("p",null,"Click once on an element",-1)),AO=[yO],CO={__name:"EditElemMenu",setup(t){const e=Jo();return(n,r)=>(Qt(),ne("div",hO,[gO,ue(e).selectedPlace?(Qt(),ne("div",pO,[qt(WD)])):os("",!0),ue(e).selectedArc?(Qt(),ne("div",mO,[qt(dO)])):os("",!0),ue(e).selectedTransition?(Qt(),ne("div",vO,[qt(oO)])):os("",!0),!ue(e).selectedArc&&!ue(e).selectedPlace&&!ue(e).selectedTransition?(Qt(),ne("div",IO,AO)):os("",!0)]))}},bO=Ee(CO,[["__scopeId","data-v-e1025779"]]);const Fr=t=>(Bn("data-v-9da652ed"),t=t(),jn(),t),wO={class:"menu-container"},xO=Fr(()=>it("p",{class:"text"},"Edit plane",-1)),SO={key:0},NO={class:"sim-container"},MO=Fr(()=>it("option",null," None ",-1)),TO=Fr(()=>it("option",null," Dot ",-1)),PO=Fr(()=>it("option",null," Mesh ",-1)),_O=Fr(()=>it("option",null," DoubleMesh ",-1)),EO=[MO,TO,PO,_O],DO=Fr(()=>it("p",null,"Grid type",-1)),OO={class:"sim-container"},kO=Fr(()=>it("p",null,"Grid size",-1)),LO={class:"sim-container"},zO=Fr(()=>it("p",null,"Plane Scale",-1)),RO={key:1,class:"sim-container"},BO=Fr(()=>it("p",null,"Click twice on the plane to edit it",-1)),jO=[BO],GO={__name:"EditPlaneMenu",setup(t){const e=_f();return(n,r)=>(Qt(),ne("div",wO,[xO,ue(e).editPlaneEnabled?(Qt(),ne("div",SO,[it("div",NO,[lr(it("select",{"onUpdate:modelValue":r[0]||(r[0]=i=>ue(e).paperGrid=i),class:"input"},EO,512),[[Vm,ue(e).paperGrid]]),DO]),it("div",OO,[lr(it("input",{type:"range",min:"1",max:"10",step:"0.01",class:"input","onUpdate:modelValue":r[1]||(r[1]=i=>ue(e).paperGridSize=i)},null,512),[[jr,ue(e).paperGridSize]]),kO]),it("div",LO,[lr(it("input",{type:"range",min:"0.5",max:"2",step:"0.01",class:"input","onUpdate:modelValue":r[2]||(r[2]=i=>ue(e).paperScale=i)},null,512),[[jr,ue(e).paperScale]]),zO])])):(Qt(),ne("div",RO,jO))]))}},ZO=Ee(GO,[["__scopeId","data-v-9da652ed"]]),iA="/boris_frontend/assets/save-576c588b.svg";const cc=t=>(Bn("data-v-020b56e9"),t=t(),jn(),t),WO={class:"menu-container"},UO=cc(()=>it("p",{class:"text"}," Store Model ",-1)),FO={class:"outer-container"},YO={class:"sim-container"},VO=["onClick"],XO={class:"btn-container"},HO=["onClick","disabled"],JO=cc(()=>it("img",{src:iA},null,-1)),$O=[JO],KO=["onClick","disabled"],QO=cc(()=>it("img",{src:lc},null,-1)),qO=[QO],tk={class:"sim-container"},ek={class:"btn-container"},nk=cc(()=>it("img",{src:iA},null,-1)),rk=[nk],ik={__name:"StoreModelMenu",setup(t){const e=Pf(),n=nn("");function r(){e.saveModel(n.value),n.value=null}function i(a){e.deleteModel(a)}function s(a){e.updateModel(a)}function o(a){a.selected?e.unselectModel(a):e.selectModel(a)}return(a,l)=>(Qt(),ne("div",WO,[UO,it("div",FO,[(Qt(!0),ne(zn,null,Al(ue(e).getModels,u=>(Qt(),ne("div",YO,[it("div",null,[it("a",{href:"#",class:"a-container",onClick:h=>o(u),style:Cr({color:u.selected?"white":"blue"})},Ei(u.name),13,VO)]),it("div",XO,[it("button",{onClick:h=>s(u),style:Cr({"pointer-events":u.selected?"auto":"none",opacity:u.selected?1:.4}),disabled:!u.selected},$O,12,HO),it("button",{onClick:h=>i(u),style:Cr({"pointer-events":u.selected?"auto":"none",opacity:u.selected?1:.4}),disabled:!u.selected},qO,12,KO)])]))),256))]),it("div",tk,[lr(it("input",{type:"text",placeholder:"Model name","onUpdate:modelValue":l[0]||(l[0]=u=>n.value=u),class:"input"},null,512),[[jr,n.value]]),it("div",ek,[it("button",{onClick:l[1]||(l[1]=u=>r())},rk)])])]))}},sk=Ee(ik,[["__scopeId","data-v-020b56e9"]]);const ok={class:"container"},ak={__name:"EditSideBar",setup(t){return(e,n)=>(Qt(),ne("div",ok,[it("div",null,[qt(DD)]),it("div",null,[qt(bO)]),it("div",null,[qt(sk)]),it("div",null,[qt(ZO)]),it("div",null,[qt(Tf)])]))}},lk=Ee(ak,[["__scopeId","data-v-ce0c2ae8"]]);class ck extends $y{defaults(){return{...super.defaults,type:"custom.Place",position:{x:200,y:200},size:{width:60,height:60},attrs:{root:{magnet:!1},body:{cx:30,cy:30,r:30,strokeWidth:2,stroke:"black",fill:"grey"},label:{textVerticalAnchor:"middle",textAnchor:"middle",x:30,y:70,fontSize:10,fill:"black"},tokenNumber:{textVerticalAnchor:"middle",textAnchor:"middle",x:"calc(w/2)",y:"calc(h/2)",fontSize:10,fill:"black"}},markup:[{tagName:"circle",selector:"body"},{tagName:"text",selector:"label"},{tagName:"text",selector:"tokenNumber"}],ports:{groups:{radialPort:uk}}}}toJSON(){const e=super.toJSON();return e.attrs=this.get("attrs"),e}}const uk={position:{name:"ellipseSpread",args:{angle:0,step:45,compensateRotation:!1}},attrs:{body:{magnet:!0,r:7,fill:"lightblue",stroke:"blue",visibility:"hidden",opacity:.6}},markup:[{tagName:"circle",selector:"body"}]};class sA extends Jy{defaults(){return{...super.defaults,type:"custom.Transition",position:{x:200,y:200},size:{width:30,height:70},attrs:{root:{magnet:!1},body:{height:"calc(h-10)",width:"calc(w)",strokeWidth:2,stroke:"black",fill:"grey"},label:{textVerticalAnchor:"middle",textAnchor:"middle",x:"calc(w/2)",y:"calc(h)",fontSize:12,fill:"black"},lambda:{textVerticalAnchor:"middle",textAnchor:"middle",x:"calc(w/2)",y:"-5",fontSize:12,fill:"black"}},markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"},{tagName:"text",selector:"lambda"}],ports:{groups:{leftPort:fk,rightPort:dk,topPort:hk,bottomPort:gk,leftUpperCornerPort:pk,leftBottomCornerPort:mk,rightUpperCornerPort:vk,rightBottomCornerPort:Ik}}}}toJSON(){const e=super.toJSON();return e.attrs=this.get("attrs"),e}}const fk={position:{name:"left",args:{x:0,y:"calc(h/2-5)"}},attrs:{body:{magnet:!0,r:7,fill:"lightblue",stroke:"blue",visibility:"hidden",opacity:.6}},markup:[{tagName:"circle",selector:"body"}]},dk={position:{name:"right",args:{x:"calc(w)",y:"calc(h/2-5)"}},attrs:{body:{magnet:!0,r:7,fill:"lightblue",stroke:"blue",visibility:"hidden",opacity:.6}},markup:[{tagName:"circle",selector:"body"}]},hk={position:{name:"top",args:{}},attrs:{body:{magnet:!0,r:7,fill:"lightblue",stroke:"blue",visibility:"hidden",opacity:.6}},markup:[{tagName:"circle",selector:"body"}]},gk={position:{name:"bottom",args:{x:"calc(w/2)",y:"calc(h-10)"}},attrs:{body:{magnet:!0,r:7,fill:"lightblue",stroke:"blue",visibility:"hidden",opacity:.6}},markup:[{tagName:"circle",selector:"body"}]},pk={position:{name:"absolute",args:{x:0,y:0}},attrs:{body:{magnet:!0,r:7,fill:"lightblue",stroke:"blue",visibility:"hidden",opacity:.6}},markup:[{tagName:"circle",selector:"body"}]},mk={position:{name:"absolute",args:{x:0,y:"calc(h-10)"}},attrs:{body:{magnet:!0,r:7,fill:"lightblue",stroke:"blue",visibility:"hidden",opacity:.6}},markup:[{tagName:"circle",selector:"body"}]},vk={position:{name:"absolute",args:{x:"calc(w)",y:0}},attrs:{body:{magnet:!0,r:7,fill:"lightblue",stroke:"blue",visibility:"hidden",opacity:.6}},markup:[{tagName:"circle",selector:"body"}]},Ik={position:{name:"absolute",args:{x:"calc(w)",y:"calc(h-10)"}},attrs:{body:{magnet:!0,r:7,fill:"lightblue",stroke:"blue",visibility:"hidden",opacity:.6}},markup:[{tagName:"circle",selector:"body"}]};function yk(t){const e=new ck({attrs:{label:{text:"P"+t},tokenNumber:{text:"0"}}});for(let n=0;n<9;n++)e.addPort({group:"radialPort"});return e}function Ak(t){const e=new sA({attrs:{label:{text:"T"+t},lambda:{text:"=7"}}});return e.prop("timed",!0),e.prop("tokenDistribution","exponential"),e.prop("rate",7),oA(e),e}function Ck(t){const e=new sA({attrs:{label:{text:"T"+t},lambda:{text:"=0"}}});return e.prop("attrs/body/fill","black"),e.prop("timed",!1),e.prop("attrs/body/fill","black"),oA(e),e}function bk(t){const e=new Ky;return e.prop("arcWeight",1),e.labels([{attrs:{text:{text:"1"}}}]),e.source(new Z(50,50)),e.target(new Z(100,100)),e}function oA(t){t.addPort({group:"bottomPort"}),t.addPort({group:"topPort"}),t.addPort({group:"leftPort"}),t.addPort({group:"rightPort"}),t.addPort({group:"leftBottomCornerPort"}),t.addPort({group:"leftUpperCornerPort"}),t.addPort({group:"rightBottomCornerPort"}),t.addPort({group:"rightUpperCornerPort"})}function Xp(){const t=new oc;return new ic({tools:[t]})}function wk(){const t=new oc;return new ic({tools:[t]})}function xk(){const t=new qE,e=new eD,n=new nD,r=new oc;return new ic({tools:[t,e,n,r]})}function Sk(t,e,n,r,i,s){const o=t.model,a=n.model;return o.attributes.type==="custom.Place"&&a.attributes.type==="custom.Transition"||o.attributes.type==="custom.Transition"&&a.attributes.type==="custom.Place"}function Nk(t,e,n){const r=n.model,i=r.id,s=e.selectedElement;let o=!1;if(s!=null){const a=s.id;t.findViewByModel(s).removeTools(),e.unselectAll(),i!=a&&(o=!0)}(s==null||o)&&(r.attributes.type==="custom.Place"?(n.addTools(Xp()),e.selectPlace(r)):r.attributes.type==="custom.Transition"?(n.addTools(Xp()),e.selectTransition(r)):r.attributes.type==="standard.Link"&&(n.addTools(wk()),e.selectArc(r)))}function Mk(t){if(t.hasTools())t.removeTools();else{const e=xk();t.addTools(e)}}function Tk(t){const e=t.model,n=e.getPorts();for(const r of n){const i=r.id;e.portProp(i,"attrs/body/visibility","visible")}}function Pk(t){const e=t.model,n=e.getPorts();for(const r of n){const i=r.id;e.portProp(i,"attrs/body/visibility","hidden")}}function _k(t,e){t.removeTools(),e.unselectAll(),e.selectedElement=null}function Ek(t){t.editPlaneEnabled=!t.editPlaneEnabled}function Dk(t,e){const n=e.getBBox(),r=t.getComputedSize();if(n.x<0){const i=Math.abs(n.x);t.setDimensions(r.width+i,r.height),t.translate(i+t.options.origin.x,0)}if(n.x+n.width>r.width){const i=n.x+n.width-r.width;t.setDimensions(r.width+i,r.height),t.translate(-i+t.options.origin.x,0)}if(n.y<0){const i=Math.abs(n.y);t.setDimensions(r.width,r.height+i),t.translate(0,i+t.options.origin.y)}if(n.y+n.height>r.height){const i=n.y+n.height-r.height;t.setDimensions(r.width,r.height+i),t.translate(0,-i+t.options.origin.y)}}function Ok(t,e,n,r){console.log(r.translate());const i=r.translate();r.translate(i.tx+e,i.ty+n)}async function kk(t,e){const n={model:e},r={name:t};return Wr.post("/model",{data:n,params:r}).then(i=>"Saved successfully model: "+t).catch(i=>"The following error occured, while trying to save a model:"+i).finally(()=>{})}async function Lk(t,e){const n={model:e},r={name:t};return Wr.put("/model",{data:n,params:r}).then(i=>"Updated successfully model: "+t).catch(i=>"Following error occured, while updating model "+t+": "+i).finally(()=>{})}async function zk(t){const e={name:t};return Wr.delete("/model",{params:e}).then(n=>"Deleted successfully model: "+t).catch(function(n){return"Following error occured, while deleting model "+t+": "+n}).finally(function(){})}async function Rk(t){const e={name:t};return Wr.get("/model",{params:e}).then(n=>JSON.parse(n.data)).catch(function(n){throw n}).finally(function(){})}const Bk={__name:"GridPlane",setup(t){const e=nn(null),n=nn(null),r=nA(),i=Pf(),s=Jo(),o=_f(),a=tA,l=new ec({},{cellNamespace:a});let u=null,h=0,f=0,v=0;return hf(()=>{u=new Vy({el:n.value,model:l,height:"100%",width:"100%",drawGrid:"mesh",gridSize:5,cellViewNamespace:a,defaultLink:()=>bk(v++),validateConnection:(w,O,k,R,U,F)=>Sk(w,O,k),markAvailable:!0,linkPinning:!1});const C=u.options.height,b=u.options.width;u.translate(b/2,C/2),u.on("cell:pointerclick",w=>Nk(u,s,w)),u.on("link:pointerdblclick",w=>Mk(w)),u.on("element:mouseenter",w=>Tk(w)),u.on("element:mouseleave",w=>Pk(w)),u.on("blank:pointerclick",()=>_k(u,s)),u.on("blank:pointerdblclick",()=>Ek(o)),u.on("element:pointerup",w=>Dk(u,w)),u.on("blank:pointermove",(w,O,k)=>Ok(w,O,k,u))}),Do(()=>{i.unselectAllModels()}),r.$onAction(({name:C,store:b,args:w,after:O})=>{w[0]&&O(k=>{switch(C){case"setPlaceButton":{yk(f++).addTo(l),b.setPlaceButton(!1);break}case"setTransitionButton":{Ak(h++).addTo(l),b.setTransitionButton(!1);break}case"setImmediateTransitionButton":{Ck(h++).addTo(l),b.setImmediateTransitionButton(!1);break}}})}),i.$onAction(({name:C,store:b,args:w,after:O,onError:k})=>{O(R=>{if(C==="saveModel"){const U=w[0],F=l.toJSON();kk(U,F).then(y=>{console.log(y)}),i.updateModelElementCount(U,h,f,v),h=0,f=0,v=0,l.clear()}else if(C==="updateModel"){const U=w[0].name,F=l.toJSON();Lk(U,F).then(y=>{console.log(y)}),i.updateModelElementCount(U,h,f,v),h=0,f=0,v=0,i.unselectModel(w[0])}else if(C==="deleteModel"){const U=w[0].name;zk(U).then(F=>{console.log(F)}),l.clear()}else if(C==="selectModel"){if(!R)throw Error("Result missing");const U=w[0].name;h=w[0].transitionCount,f=w[0].placeCount,v=w[0].arcCount,Rk(U).then(F=>{l.fromJSON(F.model)}).catch(F=>{alert("An error occured, while selecting model "+U+":"+F)})}else if(C==="unselectModel"){if(!R)throw Error("Result missing");h=0,f=0,v=0,l.clear()}})}),Je(()=>o.paperGrid,C=>{C==="None"?u.setGrid("false"):C==="Dot"?(u.setGrid("dot"),u.drawGrid()):C==="Mesh"?(u.setGrid("mesh"),u.drawGrid()):C==="DoubleMesh"&&(u.setGrid({name:"doubleMesh",args:[{color:"grey",thickness:1},{color:"darkgrey",scaleFactor:10,thickness:3}]}),u.drawGrid())}),Je(()=>o.paperGridSize,C=>{u.setGridSize(C)}),Je(()=>o.paperScale,C=>{u.scale(C)}),(C,b)=>(Qt(),ne("div",{class:"plane-container",ref_key:"container",ref:e},[it("div",{class:"plane",ref_key:"plane",ref:n},null,512)],512))}},jk=Ee(Bk,[["__scopeId","data-v-3cc5586c"]]);const Gk={id:"app"},Zk={class:"main-container"},Wk={class:"top-container"},Uk={class:"bottom-container"},Fk={class:"side-bar-container"},Yk={class:"grid-plane-container"},Vk={__name:"EditView",setup(t){return(e,n)=>(Qt(),ne("div",Gk,[it("div",Zk,[it("div",Wk,[qt(Mf)]),it("div",Uk,[it("div",Fk,[qt(lk)]),it("div",Yk,[qt(jk)])])])]))}},Xk=Ee(Vk,[["__scopeId","data-v-26482246"]]),qd=Mw(Q1);Wr.defaults.baseURL="http://localhost:7000";const Hk=tS({history:mx("/boris_frontend/"),routes:[{path:"/",name:"Home",component:RS},{path:"/about",name:"About",component:GS},{path:"/simulation-view",name:"Simulation",component:ID},{path:"/edit-view",name:"Edit",component:Xk}]});qd.use(Hk);const Jk=F1();qd.use(Jk);qd.mount("#app");
